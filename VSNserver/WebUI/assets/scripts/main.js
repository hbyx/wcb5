/* Copyright (c) 2020 VisualSVN Software Ltd. All rights reserved. */
var BlobURL,AccountManagementClient=function(){function t(){}return t.prototype.changePassword=function(t,e,n){var i=jQuery.Deferred();n.addDeferred(i);var r=jQuery.post("/!/authn-svn/change-password",{old_password:t,new_password:e});return n.addXhr(r),r.done(function(t,e,n){if(void 0!==t.ok){switch(t.error){case void 0:case 1:case 2:break;default:return void i.reject(new Error("Invalid change password response: Unexpected error value ("+t.error+")."))}i.resolve(t)}else i.reject(new Error("Invalid change password response."))}).fail(function(t,e,n){i.reject(n)}),i.promise()},t}(),Blame=function(){function o(){}return o.blameAsync=function(t,e,n,i,r,a){console.assert(void 0!==o.workerSrc);var s=new Worker(o.workerSrc);t.addAction(function(){return s.terminate()}),s.onmessage=function(t){var e=t.data;void 0!==e.error?r(new Error(e.error)):void 0!==e.progress?a&&a(e.progress):void 0!==e.result?r(e.result):console.assert()},s.onerror=function(t){r(new Error(t.message))},s.postMessage({url:e,startRev:n,endRev:i})},o}(),BlameActivity=function(){function t(t,e,n,i,r){this.lifetime=t,this.router=n,this.svnClient=i,this.presenter=e,this.settings=r}return t.prototype.prepareBreadCrumbItems=function(e){var n=this,t=RepoPath.split(e.repoPath),i="/",r=t.map(function(t){return i=RepoPath.addComponent(i,t),{name:t,url:n.router.build(new RepoViewPlace(e.repoName,e.revision,i))}});return[{url:this.router.build(new RepoViewPlace(e.repoName,e.revision,"/")),name:e.repoName}].concat(r)},t.prototype.prepareNavbar=function(t){var e=getBaseUrl(window.location)+this.svnClient.getRelativeSvnRepoUrl(t.repoName,t.repoPath,t.revision);return{breadcrumbItems:this.prepareBreadCrumbItems(t),homeUrl:this.router.build(new DefaultPlace),viewSwitcherSourceUrl:this.router.build(t),viewSwitcherHistoryUrl:this.router.build(new HistoryPlace(t.repoName,t.revision,t.repoPath)),svnRepoUrl:e,gotoHeadUrl:this.router.build(new BlamePlace(t.repoName,null,t.repoPath)),revision:t.revision,sourceViewActive:!0}},t.prototype.buildTitle=function(t){return t.repoName+t.repoPath},t.prototype.getUpLevelUrl=function(t){return"/"!=t.repoPath?this.router.build(new RepoViewPlace(t.repoName,t.revision,RepoPath.removeLastComponent(t.repoPath))):null},t.prototype.start=function(n){var i=this;this.place=n,this.viewer=void 0;var r=this.prepareNavbar(n);this.svnClient.getDir(this.lifetime,n.repoName,n.repoPath,n.revision).done(function(t){var e=new SvnRepoPathRev(n.repoName,n.repoPath,n.revision);t.thisNode.contentLength<i.settings.enhancedFileRenderLimit?i.showBlame(t.thisNode,e,r,n,!0,!1):i.showBlame(t.thisNode,e,r,n,!1,!0)}).fail(function(t,e){i.presenter.setRepoContentWithError(e,r)})},t.prototype.showBlame=function(t,e,n,i,r,a){this.viewer=this.presenter.setContent(this.buildTitle(i),this.lifetime,n,e,t,this.getUpLevelUrl(i),this.router.build(new RepoViewPlace(i.repoName,i.revision,i.repoPath)),r,a),null!==i.startLine&&this.viewer.selectLines(i.startLine,i.endLine,!0)},t.prototype.tryNavigate=function(t){return!!(t instanceof BlamePlace&&t.repoName===this.place.repoName&&t.repoPath===this.place.repoPath&&t.revision===this.place.revision&&this.viewer)&&(null===t.startLine?(this.viewer.clearSelection(),window.scrollTo(window.pageXOffset,0)):this.viewer.selectLines(t.startLine,t.endLine,!1),this.place=t,!0)},t}(),BlamePresenter=function(){function t(t,e){this.curtain=t,this.router=e}return t.prototype.setRepoContentWithError=function(t,e){this.curtain.showTemplate("Error","<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box p-4 text-center' data-collapse-navbar-border>      <h5>{{error}}</h5>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),error:t})},t.prototype.setContent=function(t,e,n,i,r,a,s,o,l){var c=this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex'>        {{#if upLevelUrl }}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{else}}        <button class='btn btn-sm' aria-pressed='disabled' disabled>{{icon-level-up}}</button>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{repoViewUrl}}' class='btn btn-sm BtnGroup-item'>Normal view</a>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      {{#if showPlainTextWarning}}        <div class='flash flash-full flash-warn text-center py-2'>Displaying the file as plain text because it is larger than 1 MB.</div>      {{/if}}      <div id='file-content' class='blame-view' />    </div>  </div></div>",{navbar:UIElements.renderNavbar(n),downloadURL:r.downloadURL,upLevelUrl:a,repoViewUrl:s,showPlainTextWarning:l}).querySelector(".blame-view"),u=new BlameViewer(e,i,r,c,this.router,o);return u.start(),u},t}(),BlameViewer=function(){function t(t,e,n,i,r,a){this.lifetime=t,this.repoPathRev=e,this.svnNode=n,this.router=r,this.enableSyntaxHighlight=a,this.curtain=new ElementCurtain(this.lifetime,i),this.progressElement=null}return t.prototype.start=function(){var e=this;this.postponedSelectLines=void 0;var t=document.createElement("div");t.className="progress-container",this.progressElement=ProgressElement.embed(t,!0),this.curtain.showElement(t),Blame.blameAsync(this.lifetime,this.svnNode.checkedInURL,0,this.repoPathRev.rev,function(t){return e.onComplete(t)},function(t){return e.onProgress(t)})},t.prototype.selectLines=function(t,e,n){this.blameElement?this.doSelectLines(t,e,n):this.postponedSelectLines={startLine:t,endLine:e,forceScroll:n}},t.prototype.clearSelection=function(){if(this.blameElement)for(var t=this.blameElement.querySelectorAll("[data-selected]"),e=0;e<t.length;e++)t[e].removeAttribute("data-selected")},t.prototype.doSelectLines=function(t,e,n){for(var i=this.blameElement.querySelectorAll("[data-selected]"),r=0;r<i.length;r++)i[r].removeAttribute("data-selected");var a={position:1,onlyIfNeeded:!n};if(t===e)(l=this.blameElement.querySelector("[data-line-number='"+t.toString()+"']"))&&(ViewUtils.scrollIntoView(l,a),l.setAttribute("data-selected","before"));else for(var s=Math.floor((t+e-1)/2),o=t;o<e;o++){var l;(l=this.blameElement.querySelector("[data-line-number='"+o.toString()+"']"))&&(o===s&&ViewUtils.scrollIntoView(l,a),l.setAttribute("data-selected",""))}},t.prototype.onComplete=function(t){var a=this;if(t instanceof Error)this.curtain.showTemplate("<h5 class='text-center p-4'>Cannot display blame: <span class='text-normal'>{{message}}</span></h5>",{message:t.message});else{for(var e=new HtmlWriter,n=0;n<t.blame.length;){for(var i=t.blame[n],r=1;n+r<t.blame.length&&t.blame[n+r].fileRev.rev==i.fileRev.rev;)r++;e.t(34);var s=i.fileRev.rev%70;e.i(6,s.toString()),e.t(31),e.i(31,r.toString()),e.i(2,"rev"),e.t(0),i.fileRev.revprops.log&&e.i(10,i.fileRev.revprops.log),i.fileRev.revprops.author&&e.i(5,i.fileRev.revprops.author),i.fileRev.revprops.date&&e.i(7,i.fileRev.revprops.date.toUTCString()),e.i(2,"text-mono");var o=new CommitDetailsPlace(this.repoPathRev.repo,i.fileRev.rev,this.repoPathRev.rev,this.repoPathRev.path);if(e.i(28,this.router.build(o)),e.s("r"+i.fileRev.rev),e.o(0),e.o(31),e.t(31),e.i(31,r.toString()),e.i(2,"author"),e.s(i.fileRev.revprops.author||""),e.o(31),e.t(31),e.i(31,r.toString()),e.i(2,"prev"),i.prevFileRev){e.t(0),e.i(2,"link-hover-blue no-underline tooltipped tooltipped-e"),e.i(1,"Blame previous revision");var l=new BlamePlace(this.repoPathRev.repo,i.prevFileRev.rev,i.prevFileRev.path,i.prevStartLine+1,i.prevEndLine+1);e.i(28,this.router.build(l)),e.l(Icons.renderSvgIcon("versions","octicon")),e.o(0)}e.o(31),e.t(31),e.u(),e.o(31),e.o(34);for(var c=0;c<r-1;c++)e.t(34),e.t(31),e.u(),e.o(31),e.o(34);n+=r}var u=new HtmlWriter,h=new BlamePlace(this.repoPathRev.repo,this.repoPathRev.rev,this.repoPathRev.path);for(n=1;n<=t.blame.length;n++)u.t(0),h.startLine=n,h.endLine=n+1,u.i(28,this.router.build(h)),u.t(11),u.i(9,n.toString()),u.o(11),u.o(0);if(u.t(0),u.t(11),u.i(9,(t.blame.length+1).toString()),u.o(11),u.o(0),this.blameElement=this.curtain.showTemplate("<table class='file-source'>  <tr>    <td><table class='blame'>{{blameHtml}}</table></td>    <td class='line-numbers'><pre>{{lineNumberSpans}}</pre></td>    <td class='content'><pre><code>{{textContent}}</code></pre></td>  </tr></table>",{blameHtml:new Handlebars.SafeString(e.v()),lineNumberSpans:new Handlebars.SafeString(u.v()),textContent:t.textContent}),void 0!==this.postponedSelectLines&&this.doSelectLines(this.postponedSelectLines.startLine,this.postponedSelectLines.endLine,this.postponedSelectLines.forceScroll),window.matchMedia("(any-hover: none)").matches);else{var f=function(t){var e,n,i,r=t.target;r.hasAttribute("data-log-message")&&(e=r.getAttribute("data-log-message")),r.hasAttribute("data-author")&&(n=r.getAttribute("data-author")),r.hasAttribute("data-date")&&(i=new Date(r.getAttribute("data-date"))),a.showPopover(r,e,n,i)},d=function(){a.clearPopover()},v=this.blameElement.querySelectorAll(".blame .rev a");for(c=0;c<v.length;c++)v[c].addEventListener("mouseenter",f),v[c].addEventListener("mouseleave",d)}if(this.enableSyntaxHighlight){var p=this.blameElement.querySelector("code"),m=(this.svnNode.checkedInURL.match(/\.(\w+)$/)||[,""])[1],w=Linguist.detectHljsLanguage(m,t.textContent);w&&p.classList.add(w),hljs.configure({languages:[]}),hljs.highlightBlock(p)}}},t.prototype.showPopover=function(t,e,n,i){if(this.popover){var r=this.popover.parentNode;r&&(r.removeChild(this.popover),this.popover=void 0)}var a=document.createElement("div");a.innerHTML=Handlebars.compile("<div class='Popover anim-fade-in text-left'>  <div class='Popover-message Box box-shadow-large position-absolute p-3'>    <pre>{{#if logMessage}}{{logMessage}}{{else}}(no message){{/if}}</pre>    <div class='border-top mt-3 mb-n1 pt-2 text-gray'>      <strong>{{#if author}}{{author}}{{else}}(no author){{/if}}</strong> committed on {{#if date}}{{date}}{{else}}(no date){{/if}}    </div>  </div></div>")({logMessage:e,author:n,date:i?moment(i).format("LL"):void 0}),t.parentElement.appendChild(a);var s=t.getBoundingClientRect(),o=a.querySelector(".Popover-message"),l=o.getBoundingClientRect();s.top>l.height||s.top>window.innerHeight-s.bottom?(o.classList.add("Popover-message--bottom-left"),o.classList.add("bottom-0"),t.parentElement.insertBefore(a,t.parentElement.firstChild)):o.classList.add("Popover-message--top-left"),this.popover=a},t.prototype.clearPopover=function(){if(this.popover){var t=this.popover.parentNode;t&&(t.removeChild(this.popover),this.popover=void 0)}},t.prototype.onProgress=function(t){var e;e=0===this.svnNode.createdRev?1:t/this.svnNode.createdRev,this.progressElement.setDeterminateProgress(e)},t}();(BlobURL||(BlobURL={})).createObjectURL=function(t,e){var n=URL.createObjectURL(e);try{t.addAction(function(){return URL.revokeObjectURL(n)})}catch(t){throw URL.revokeObjectURL(n),t}return n};var AccountSettingsActivity=function(){function t(t,e,n,i){this.pages=[{type:0,title:"Change password",icon:"key"}],this.lifetime=t,this.curtain=e,this.router=n,this.settings=i,this.client=new AccountManagementClient}return t.prototype.start=function(t){var e=this.getPage(t.type).title,n=this.curtain.showTemplate(e,"<div class='container mt-4 mb-6'>  <div class='col-3 float-left pr-4'>{{nav}}</div>  <div class='col-9 float-left'>    <div class='Subhead'>      <h2 class='Subhead-heading'>{{title}}</h2>    </div>    <div id='page-content' />  </div></div>",{nav:this.renderNav(t.type),title:e});this.pageCurtain=new ElementCurtain(this.lifetime,n.querySelector("#page-content")),0===t.type?this.showPasswordPage():console.assert(!1)},t.prototype.getPage=function(t){for(var e=0;e<this.pages.length;e++)if(this.pages[e].type===t)return this.pages[e]},t.prototype.renderNav=function(e){var n=this,t=this.pages.map(function(t){return{title:t.title,icon:new Handlebars.SafeString(Icons.renderSvgIcon(t.icon,"octicon")),href:n.router.build(new AccountSettingsPlace(t.type)),selected:t.type===e}}),i=Handlebars.compile("<nav class='menu' aria-labeledby='menu-heading'>  <span class='menu-heading' id='menu-heading'>Account</span>  {{#each navitems}}    <a class='menu-item {{#if selected}}selected{{/if}}' href='{{href}}'>{{icon}} {{title}}</a>  {{/each}}</nav>");return new Handlebars.SafeString(i({navitems:t}))},t.prototype.showPasswordPage=function(){var e=this;if(this.settings.enableSelfPasswordChange){var n=this.pageCurtain.showTemplate("<form>  <dl class='form-group'>    <dt><label for='old-password'>Old password</label></dt>    <dd><input id='old-password' class='form-control' type='password' autocomplete='current-password' autofocus title=''></dd>  </dl>  <dl class='form-group'>    <dt><label for='new-password'>New password</label></dt>    <dd><input id='new-password' class='form-control' type='password' autocomplete='new-password' required pattern='[ -~]+' title=''></dd>  </dl>  <dl class='form-group'>    <dt><label for='confirm-new-password'>Confirm password</label></dt>    <dd><input id='confirm-new-password' class='form-control' type='password' autocomplete='new-password' title=''></dd>  </dl>  <dl class='form-group mt-5'>    <button id='submit-btn' type='submit' class='btn'>Update password</button>  </dl></form>"),i=n.querySelector("#old-password"),r=n.querySelector("#new-password"),t=n.querySelector("#confirm-new-password"),a=n.querySelector("#submit-btn");r.addEventListener("input",function(){s(r)}),t.addEventListener("input",function(){s(t)}),a.addEventListener("click",function(){s(r),s(t),r.value!==t.value&&t.setCustomValidity("The new and confirmation passwords do not match.")}),n.addEventListener("input",function(){return Popup.hide()}),n.addEventListener("submit",function(t){t.preventDefault(),a.disabled=!0,e.client.changePassword(i.value,r.value,e.lifetime).then(function(t){if(t.ok)Popup.show(e.lifetime,"Password changed successfully. <a href='#'>Reload the page</a> to sign in.");else switch(t.error){case 1:Popup.show(e.lifetime,"Invalid old password. Please try again.","alert");break;case 2:default:Popup.show(e.lifetime,"An unexpected error occurred while changing password.","alert")}}).fail(function(t){console.log("Cannot change password:",t),Popup.show(e.lifetime,"An unexpected error occurred while changing password.","alert")}).always(function(){a.disabled=!1,n.reset()})})}else this.pageCurtain.showTemplate("<p class='text-gray'>  Changing password using the web interface is not available   in the current server configuration.</p>");function s(t){t.checkValidity(),t.validity.valueMissing?t.setCustomValidity("The password cannot be empty."):t.validity.patternMismatch?t.setCustomValidity("The password cannot contain non-ASCII characters."):t.setCustomValidity("")}},t}(),CommitDetailsViewer=function(){function u(t,e,n,i,r,a,s){this.lifetime=t,this.curtain=new ElementCurtain(t,e),this.target=n,this.revision=i,this.router=r,this.model=a,this.backPlace=s}return u.prototype.start=function(t){this.showDetails(t)},u.prototype.showDetails=function(t){var n=this,i=t.logEntry.changes.map(function(t){switch(t.kind){case 3:return{change:t,oldTarget:new SvnRepoPathRev(n.target.repo,t.path,n.revision-1),newTarget:void 0,viewUrl:n.router.build(new RepoViewPlace(n.target.repo,n.revision-1,t.path)),viewTitle:"View whole content at the previous revision",cssClass:"deleted-file"};case 1:case 2:return{change:t,oldTarget:new SvnRepoPathRev(n.target.repo,t.path,n.revision-1),newTarget:new SvnRepoPathRev(n.target.repo,t.path,n.revision),viewUrl:n.router.build(new RepoViewPlace(n.target.repo,n.revision,t.path)),viewTitle:"View whole content at this revision",cssClass:"modified-file"};case 0:return{change:t,oldTarget:void 0,newTarget:new SvnRepoPathRev(n.target.repo,t.path,n.revision),viewUrl:n.router.build(new RepoViewPlace(n.target.repo,n.revision,t.path)),viewTitle:"View whole content at this revision",cssClass:"added-file"};default:return assertNever(t.kind)}}),e=this.curtain.showTemplate("<div><div class='Box Box--condensed' data-collapse-navbar-border>  <div class='Box-header px-2 d-flex flex-items-baseline'>    <a href='{{backUrl}}' class='btn btn-sm'>Back</a>    <div class='flex-auto text-center' >      Revision <strong>r{{logEntry.revision}}</strong>       authored by <strong>{{logEntry.author}}</strong>       {{#if logEntry.date}}<span title='{{formatDate logEntry.date}}'>{{formatDateFromNow logEntry.date}}</span>{{/if}}    </div>    <div class='text-nowrap flex-shrink-0'>      <a href='{{browseFilesUrl}}' class='btn btn-sm mr-2 tooltipped tooltipped-sw' aria-label='Browse the repository at this revision'>Browse files</a>      <div class='BtnGroup'>        {{#if nextRevUrl}}        <a href='{{nextRevUrl}}' class='btn btn-sm BtnGroup-item tooltipped tooltipped-sw' aria-label='Newer revision ( Type &#39;[&#39; )' data-hotkey-next>{{icon-chevron-left}}</a>        {{else}}        <button class='btn btn-sm BtnGroup-item tooltipped tooltipped-sw' aria-pressed='disabled' aria-label='Newer revision ( Type &#39;[&#39; )' disabled>{{icon-chevron-left}}</button>        {{/if}}        {{#if prevRevUrl}}        <a href='{{prevRevUrl}}' class='btn btn-sm BtnGroup-item tooltipped tooltipped-sw' aria-label='Older revision ( Type &#39;]&#39; )' data-hotkey-prev>{{icon-chevron-right}}</a>        {{else}}        <button class='btn btn-sm BtnGroup-item tooltipped tooltipped-sw' aria-pressed='disabled' aria-label='Older revision ( Type &#39;]&#39; )' disabled>{{icon-chevron-right}}</button>        {{/if}}      </div>    </div>  </div>  <div class='p-3'>    <pre id='commit-log-message'>{{logEntry.message}}</pre>  </div></div><div id='commit-changed-files'>  {{#each changes}}  <div class='item Box Box--condensed mt-3' data-index='{{@index}}'>    <div class='header Box-header py-1 px-0 border-bottom-0 d-flex flex-items-baseline'>      <span class='{{cssClass}} flex-auto text-small'> {{change.path}}</span>      {{#if viewUrl}}      <a href='{{viewUrl}}' aria-label='{{viewTitle}}' class='btn btn-sm tooltipped tooltipped-nw'>View</a>      {{/if}}      <a class='btn btn-sm expand-button link-gray-dark bg-none box-shadow-none border-0 mx-1 px-2 tooltipped tooltipped-nw' aria-label='Toggle diff contents'>        <span class='content--collapsed'>{{icon-chevron-down}}</span>        <span class='content--expanded'>{{icon-chevron-up}}</span>      </a>     </div>    <div class='content content--expanded'></div>  </div>  {{/each}}</div></div>",{logEntry:t.logEntry,changes:i,nextRevUrl:this.getRevUrl(this.target,t.nextRev),prevRevUrl:this.getRevUrl(this.target,t.prevRev),backUrl:this.router.build(this.backPlace),browseFilesUrl:this.router.build(new RepoViewPlace(this.target.repo,this.revision,t.logPath))}),a=[],s=new IntersectionObserver(function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(i.isIntersecting){var r=parseInt(i.target.getAttribute("data-index"),10);a[r].expand(),s.unobserve(i.target)}}},{});this.lifetime.addAction(function(){return s.disconnect()});for(var r=e.querySelectorAll("#commit-changed-files .item"),o=function(e){var t=r[e];a.push(new CommitDetailsViewItem(t,function(t){n.showDiff(new ElementCurtain(n.lifetime,t),i[e].change,i[e].oldTarget,i[e].newTarget)})),s.observe(t)},l=0;l<r.length;l++)o(l)},u.prototype.showDiff=function(t,e,i,r){var n,a=this;e.copyfromPath&&(n=this.router.build(new RepoViewPlace(this.target.repo,e.copyfromRev,e.copyfromPath)));var s=t.showTemplate("<div>{{#if copyfromUrl}}<div class='details p-2'>Copied from <a href='{{copyfromUrl}}'>{{copyfromPath}}@{{copyfromRev}}</div>{{/if}}<div class='diff'></div></div>",{copyfromUrl:n,copyfromPath:e.copyfromPath,copyfromRev:e.copyfromRev});if(e.textMods){var o=s.querySelector(".diff"),l=document.createElement("div");l.className="progress-container",ProgressElement.embed(l,!1),o.appendChild(l);var c=new ElementCurtain(this.lifetime,o);this.model.getDataForCompare(this.lifetime,this.target.repo,e.path,this.revision,e.kind).done(function(t){var e,n;i&&(e=a.router.build(new RepoViewPlace(i.repo,i.rev,i.path))),r&&(n=a.router.build(new RepoViewPlace(r.repo,r.rev,r.path))),t.left&&u.isImageFile(t.left)||t.right&&u.isImageFile(t.right)?u.renderImageDiff(c,t.left?t.left.checkedInURL:void 0,e,t.right?t.right.checkedInURL:void 0,n):t.left&&t.left.isBinaryFile||t.right&&t.right.isBinaryFile?u.renderUnsupportedDiff(c,e,n):Diff.diffLinesAsync(a.lifetime,t.left?t.left.textContent:"",t.right?t.right.textContent:"",function(t){if(t instanceof Error)u.renderDiffError(c,t.message);else{var e=TextDiffViewer.create(a.lifetime,o,a.router,function(){return a.onSelectionChanged(e)});e.start(t,i,r)}})}).fail(function(t,e){u.renderDiffError(c,e)})}},u.prototype.onSelectionChanged=function(t){this.viewerWithSelection&&this.viewerWithSelection!==t&&this.viewerWithSelection.clearSelection(),this.viewerWithSelection=t},u.renderDiffError=function(t,e){t.showTemplate("<h5 class='error p-2'>Error: {{error}}</h5>",{error:e})},u.renderUnsupportedDiff=function(t,e,n){n&&e?t.showTemplate("<div class='no-diff text-center p-2'><a class='h4 btn-link p-2 text-normal' href='{{viewOldUrl}}'>Previous version</a> | <a class='h4 btn-link p-2' href='{{viewNewUrl}}'>Modified version</a><p class='text-gray text-small'>Changes to this file cannot be displayed inline.</p></div>",{viewOldUrl:e,viewNewUrl:n}):t.showTemplate("<div class='no-diff text-center p-2'><a class='h4 btn-link p-2' href='{{viewUrl}}'>View file</a><p class='text-gray text-small'>Changes to this file cannot be displayed inline.</p></div>",{viewUrl:n||e})},u.renderImageDiff=function(t,e,n,i,r){t.showTemplate("<div class='image-view'>{{#if leftImageUrl}}<a {{#if leftViewUrl}}href='{{leftViewUrl}}'{{/if}} class='outer-wrap left {{#if rightImageUrl}}half-size{{/if}}'><div class='border-wrap'><img src='{{leftImageUrl}}' /></div></a>{{/if}}{{#if rightImageUrl}}<a {{#if rightViewUrl}}href='{{rightViewUrl}}'{{/if}} class='outer-wrap right {{#if leftImageUrl}}half-size{{/if}}'><div class='border-wrap'><img src='{{rightImageUrl}}' /></div></a>{{/if}}</div>",{leftImageUrl:e,leftViewUrl:n,rightImageUrl:i,rightViewUrl:r})},u.isImageFile=function(t){var e=t.checkedInURL.toLocaleLowerCase();return e.endsWith(".png")||e.endsWith(".gif")||e.endsWith(".jpg")||e.endsWith(".bmp")||e.endsWith(".jpeg")||e.endsWith(".ico")},u.prototype.getRevUrl=function(t,e){return null==e?null:this.router.build(new CommitDetailsPlace(t.repo,e,t.rev,t.path))},u}(),CommitDetailsViewItem=function(){function t(t,e){var n=this;this.isExpandedOnce=!1,this.element=t,this.showDiffCb=e,this.anchorElement=t.querySelector(".content"),t.querySelector(".header .expand-button").addEventListener("click",function(){return n.toggle()})}return t.prototype.isExpanded=function(){return this.element.hasAttribute("data-expanded")},t.prototype.toggle=function(){this.isExpanded()?this.collapse():this.expand()},t.prototype.expand=function(){this.element.setAttribute("data-expanded","true"),this.isExpandedOnce||(this.isExpandedOnce=!0,this.showDiffCb(this.anchorElement))},t.prototype.collapse=function(){this.element.removeAttribute("data-expanded")},t}(),Diff=function(){function a(){}return a.diffLinesAsync=function(t,e,n,i){console.assert(void 0!==a.workerSrc);var r=new Worker(a.workerSrc);t.addAction(function(){return r.terminate()}),r.onmessage=function(t){i(t.data)},r.onerror=function(t){i(new Error(t.message))},r.postMessage({oldStr:e,newStr:n})},a}();function AlternateContentFilter(r){function a(t,e){if("mc:AlternateContent"===t)return i=!1,{p:function(t,e){if(i)return XmlParser.m;if("mc:Choice"===t){var n=e.Requires;return"wps"===n||"wpg"===n||"wpc"==n?(i=!0,{p:a,g:r.g}):XmlParser.m}return"mc:Fallback"===t?(i=!0,{p:a,g:r.g}):null}};var i,n=r.p&&r.p(t,e);return n&&AlternateContentFilter(n)}return{$:r.$,p:a,g:r.g,_:r._}}var WmlParser,DocXLoader,DocXRenderer,CssWriter=function(){function n(){this.P=""}return n.prototype.S=function(t,e){null!==e&&(this.P.length&&(this.P+=" "),this.P+=n.H[t]+": "+e+";")},n.prototype.U=function(){return this.P},n.H=["align-items","background-color","border-bottom","border-collapse","border-left","border-right","border-spacing","border-top","bottom","color","display","float","font-family","font-size","font-style","font-variant-caps","font-weight","height","left","letter-spacing","line-height","margin-bottom","margin-left","margin-right","margin-top","max-width","min-width","orphans","overflow","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","position","right","shape-margin","shape-outside","table-layout","text-align","text-decoration","text-decoration-color","text-decoration-skip","text-indent","text-justify","text-transform","top","transform","vertical-align","white-space","widows","width","word-break","z-index"],n}(),DmlTransformResolver=function(){function n(t,e){this.k=t,this.R=e,this.I={x:0,y:0},this.X=this.R,this.L=this.k,this.C=this.R,this.B=0,this.V=!1,this.M=!1}return n.prototype.D=function(t){t||(t={});var e=new n(t.k||{x:0,y:0},t.R||this.X);return t.I&&(e.I=t.I),t.X&&(e.X=t.X),t.B&&(e.B=t.B),t.V&&(e.V=!0),t.M&&(e.M=!0),e.C={cx:this.C.cx*e.R.cx/this.X.cx,cy:this.C.cy*e.R.cy/this.X.cy},e.L={x:this.C.cx*(e.k.x-this.I.x)/this.X.cx+this.L.x,y:this.C.cy*(e.k.y-this.I.y)/this.X.cy+this.L.y},e},n}();!function(t){function u(n){return{$:function(t,e){"preserve"===e["xml:space"]&&(n.F=!0)},g:function(t){n.g+=t}}}function l(t){switch(t){case void 0:case"on":case"1":case"true":return!0;case"off":case"0":case"false":return!1;default:return}}function h(t,e,n){if(void 0===e[n])throw XmlParser.A(t,n);return e[n]}function i(t,e,n){return void 0===t[e]?n:parseInt(t[e])/1e5}function f(i){return{p:function(t,e){if("w:b"===t)return i.T=l(e["w:val"]),XmlParser.m;if("w:bCs"===t)return i.N=l(e["w:val"]),XmlParser.m;if("w:i"===t)return i.W=l(e["w:val"]),XmlParser.m;if("w:iCs"===t)return i.j=l(e["w:val"]),XmlParser.m;if("w:sz"===t)return i.G=parseInt(e["w:val"]),XmlParser.m;if("w:szCs"===t)return i.O=parseInt(e["w:val"]),XmlParser.m;if("w:webHidden"===t)return i.J=l(e["w:val"]),XmlParser.m;if("w:rStyle"===t)return i.q=e["w:val"],XmlParser.m;if("w:color"===t)return i.K=a(e["w:val"]),XmlParser.m;if("w:caps"===t)return i.Z=l(e["w:val"]),XmlParser.m;if("w:vertAlign"===t){var n=e["w:val"];return i.Y="superscript"===n?-1:"subscript"===n?1:0,XmlParser.m}return"w:u"===t?(i.tt={},e["w:val"]&&(i.tt.et=e["w:val"]),e["w:color"]&&(i.tt.K=a(e["w:color"])),XmlParser.m):"w:rFonts"===t?(i.nt=function(t){var e={};void 0!==t["w:ascii"]&&(e.it=t["w:ascii"]);void 0!==t["w:asciiTheme"]&&(e.rt=t["w:asciiTheme"]);void 0!==t["w:hAnsi"]&&(e.at=t["w:hAnsi"]);void 0!==t["w:hAnsiTheme"]&&(e.st=t["w:hAnsiTheme"]);void 0!==t["w:cs"]&&(e.ot=t["w:cs"]);void 0!==t["w:cstheme"]&&(e.lt=t["w:cstheme"]);void 0!==t["w:eastAsia"]&&(e.ct=t["w:eastAsia"]);void 0!==t["w:eastAsiaTheme"]&&(e.ut=t["w:eastAsiaTheme"]);return e}(e),XmlParser.m):"w:vanish"===t?(i.ht=l(e["w:val"]),XmlParser.m):"w:highlight"===t||"w:litmus"===t?(i.ft=e["w:val"],XmlParser.m):"w:spacing"===t?(i.dt=parseInt(e["w:val"]),XmlParser.m):"w:smallCaps"===t?(i.vt=l(e["w:val"]),XmlParser.m):"w:noProof"===t?XmlParser.m:"w:kern"===t?(i.pt=parseInt(e["w:val"]),XmlParser.m):"w:lang"===t?XmlParser.m:"w:shd"===t?(i.wt=x(e),XmlParser.m):"w:dstrike"===t?(i.gt=l(e["w:val"]),XmlParser.m):"w:strike"===t?(i.$t=l(e["w:val"]),XmlParser.m):"w:position"===t?(i._t=parseInt(e["w:val"]),XmlParser.m):"w:ins"===t?(i.bt=y(t,e),XmlParser.m):"w:del"===t?(i.yt=y(t,e),XmlParser.m):null}}}function o(t,e){return{cx:parseInt(h(t,e,"cx")),cy:parseInt(h(t,e,"cy"))}}function s(i){return{$:function(t,e){var n=e.rot;n&&(i.B=parseInt(n)),"true"!==(n=e.flipH)&&"1"!==n||(i.V=!0),"true"!==(n=e.flipV)&&"1"!==n||(i.M=!0)},p:function(t,e){return"a:off"===t?(i.k={x:parseInt(h(t,e,"x")),y:parseInt(h(t,e,"y"))},XmlParser.m):"a:ext"===t?(i.R=o(t,e),XmlParser.m):"a:chOff"===t?(i.I={x:parseInt(h(t,e,"x")),y:parseInt(h(t,e,"y"))},XmlParser.m):"a:chExt"===t?(i.X=o(t,e),XmlParser.m):null}}}function c(n){return{p:function(t,e){return"pic:nvPicPr"===t?XmlParser.m:"pic:spPr"===t?{p:function(t,e){return"a:xfrm"===t?(n.xt={},s(n.xt)):null}}:"pic:blipFill"===t?{p:function(t,e){return"a:blip"===t?(n.Pt=e["r:embed"],XmlParser.m):"a:srcRect"===t?(n.St={left:i(e,"l",0),right:i(e,"r",0),top:i(e,"t",0),bottom:i(e,"b",0)},XmlParser.m):"a:stretch"===t?(n.Ht={},XmlParser.m):null}}:null}}}function d(a){return{p:function(t,e){return"wps:spPr"===t?{p:function(t,e){return"a:xfrm"===t?(a.xt={},s(a.xt)):null}}:"wps:txbx"===t?(a.Ut={kt:[]},i=a.Ut,r={p:function(t,e){return S(i.kt,t,e)}},{p:function(t,e){return"w:txbxContent"===t?r:null}}):"wps:bodyPr"===t?(n=a.Rt,{$:function(t,e){void 0!==e.anchor&&(n.It=e.anchor),void 0!==e.bIns&&(n.Xt=parseInt(e.bIns)),void 0!==e.lIns&&(n.Lt=parseInt(e.lIns)),void 0!==e.rIns&&(n.Ct=parseInt(e.rIns)),void 0!==e.tIns&&(n.Bt=parseInt(e.tIns)),"true"!==e.upright&&"1"!==e.upright||(n.Vt=!0)},p:function(t,e){return null}}):null;var n,i,r}}}function v(a){return{p:function(t,e){if("wpg:grpSpPr"===t)return{p:function(t,e){return"a:xfrm"===t?(a.xt={},s(a.xt)):null}};if("pic:pic"===t){var n={};return a.Mt.push({Dt:n}),c(n)}if("wps:wsp"===t){var i={Rt:{}};return a.Mt.push({Ft:i}),d(i)}if("wpg:grpSp"===t){var r={Mt:[]};return a.Mt.push({Et:r}),v(r)}return null}}}function p(i){return{p:function(t,e){if("a:graphicData"===t){var n=e.uri;return"http://schemas.openxmlformats.org/drawingml/2006/picture"===n?{p:function(t,e){return"pic:pic"===t?c(i.Dt={}):null}}:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"===n?{p:function(t,e){return"wps:wsp"===t?(i.Ft={Rt:{}},d(i.Ft)):null}}:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup"===n?{p:function(t,e){return"wpg:wgp"===t?(i.Et={Mt:[]},v(i.Et)):null}}:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas"===n?{p:function(t,e){return"wpc:wpc"===t?(i.Et={Mt:[]},a=i.Et,{p:function(t,e){if("pic:pic"===t){var n={};return a.Mt.push({Dt:n}),c(n)}if("wps:wsp"===t){var i={Rt:{}};return a.Mt.push({Ft:i}),d(i)}if("wpg:wgp"===t){var r={Mt:[]};return a.Mt.push({Et:r}),v(r)}return null}}):null;var a}}:XmlParser.m}return null}}}function m(t){return"bothSides"===t?1:"largest"===t?2:"left"===t?3:"right"===t?4:void 0}function w(n){return{p:function(t,e){return"wp:start"===t||"wp:lineTo"==t?(n.push({x:parseInt(e.x),y:parseInt(e.y)}),XmlParser.m):null}}}function r(s){return{p:function(t,e){return"wp:extent"===t?(s.At=o(t,e),XmlParser.m):"wp:effectExtent"===t?(s.Tt={left:parseInt(h(t,e,"l")),right:parseInt(h(t,e,"r")),top:parseInt(h(t,e,"t")),bottom:parseInt(h(t,e,"b"))},XmlParser.m):"wp:effectExtent"===t?(s.Tt={left:parseInt(h(t,e,"l")),right:parseInt(h(t,e,"r")),top:parseInt(h(t,e,"t")),bottom:parseInt(h(t,e,"b"))},XmlParser.m):"wp:cNvGraphicFramePr"===t?XmlParser.m:"a:graphic"===t?p(s.Nt={}):"wp:wrapNone"===t?(s.Wt=!0,XmlParser.m):"wp:wrapSquare"===t?(s.zt={},e.wrapText&&(s.zt.jt=m(e.wrapText)),XmlParser.m):"wp:wrapThrough"===t?(s.Gt={},e.wrapText&&(s.Gt.jt=m(e.wrapText)),a=s.Gt,{p:function(t,e){return"wp:wrapPolygon"===t?(a.Ot=[],w(a.Ot)):null}}):"wp:wrapTight"===t?(s.Qt={},e.wrapText&&(s.Qt.jt=m(e.wrapText)),r=s.Qt,{p:function(t,e){return"wp:wrapPolygon"===t?(r.Ot=[],w(r.Ot)):null}}):"wp:wrapTopAndBottom"===t?(s.Jt=!0,XmlParser.m):"wp:positionH"===t?(s.qt={Kt:e.relativeFrom},i=s.qt,{p:function(t,e){return"wp:align"===t?XmlParser.Zt(function(t){i.Yt=t}):"wp:posOffset"===t?XmlParser.Zt(function(t){i.te=parseInt(t)}):null}}):"wp:positionV"===t?(s.ee={Kt:e.relativeFrom},n=s.ee,{p:function(t,e){return"wp:align"===t?XmlParser.Zt(function(t){n.Yt=t}):"wp:posOffset"===t?XmlParser.Zt(function(t){n.te=parseInt(t)}):null}}):null;var n,i,r,a},_:function(){if(!s.Nt)throw XmlParser.ne("wp:anchor","a:graphic");if(!s.At)throw XmlParser.ne("wp:anchor","wp:extent")}}}function g(i){return{p:function(t,e){return"wp:inline"===t?(i.ie={At:null,Nt:null},n=i.ie,{p:function(t,e){return"wp:extent"===t?(n.At=o(t,e),XmlParser.m):"wp:effectExtent"===t?(n.Tt={left:parseInt(h(t,e,"l")),right:parseInt(h(t,e,"r")),top:parseInt(h(t,e,"t")),bottom:parseInt(h(t,e,"b"))},XmlParser.m):"wp:effectExtent"===t?(n.Tt={left:parseInt(h(t,e,"l")),right:parseInt(h(t,e,"r")),top:parseInt(h(t,e,"t")),bottom:parseInt(h(t,e,"b"))},XmlParser.m):"wp:cNvGraphicFramePr"===t?XmlParser.m:"a:graphic"===t?p(n.Nt={}):null},_:function(){if(!n.Nt)throw XmlParser.ne("wp:inline","a:graphic");if(!n.At)throw XmlParser.ne("wp:inline","wp:extent")}}):"wp:anchor"===t?(i.It={At:null,Nt:null,re:l(e.behindDoc)},void 0!==e.distT&&(i.It.ae=parseInt(e.distT)),void 0!==e.distB&&(i.It.se=parseInt(e.distB)),void 0!==e.distR&&(i.It.oe=parseInt(e.distR)),void 0!==e.distL&&(i.It.le=parseInt(e.distL)),void 0!==e.relativeHeight&&(i.It.ce=parseInt(e.relativeHeight)),r(i.It)):null;var n}}}function $(n,t,e){if("w:r"===t){var i={Mt:[]};return n.push({ue:i}),c=i,{p:function(t,e){if("w:rPr"===t)return c.he={},f(c.he);if("w:t"===t){var n={g:""};return c.Mt.push({fe:n}),u(n)}if("w:tab"===t)return c.Mt.push({de:!0}),XmlParser.m;if("w:br"===t){var i={};return e["w:type"]&&(i.ve="column"===(l=e["w:type"])?1:"page"===l?2:"line"===l?3:void 0),c.Mt.push({pe:i}),XmlParser.m}if("w:sym"===t){var r=h("w:sym",e,"w:font"),a=parseInt(h("w:sym",e,"w:char"),16);return c.Mt.push({me:{we:r,ge:a}}),XmlParser.m}if("w:lastRenderedPageBreak"===t)return XmlParser.m;if("w:noBreakHyphen"===t)return c.Mt.push({$e:!0}),XmlParser.m;if("w:softHyphen"===t)return c.Mt.push({_e:!0}),XmlParser.m;if("w:drawing"===t){var s={};return c.Mt.push({be:s}),g(s)}if("w:delText"===t){var o={g:""};return c.Mt.push({ye:o}),u(o)}return"w:cr"===t?(c.Mt.push({xe:!0}),XmlParser.m):null;var l}}}if("w:hyperlink"===t){var r={Mt:[]};return n.push({Pe:r}),l=r,{$:function(t,e){l.Se=e["r:id"],l.It=e["w:anchor"],l.He=e["w:tooltip"]},p:function(t,e){return $(l.Mt,t,e)}}}if("w:bookmarkStart"===t)return n.push({Ue:e["w:name"]}),XmlParser.m;if("w:bookmarkEnd"===t)return XmlParser.m;if("w:smartTag"===t)return o=n,{p:function(t,e){return"w:smartTagPr"===t?XmlParser.m:$(o,t,e)}};if("w:fldSimple"===t){var a={ke:e["w:instr"],Mt:[]};return n.push({Re:a}),s=a,{p:function(t,e){return $(s.Mt,t,e)}}}return"w:sdt"===t?P({p:function(t,e){return $(n,t,e)}}):null;var s,o,l,c}function _(s){return{p:function(t,e){if("w:pStyle"===t)return s.Ie=e["w:val"],XmlParser.m;if("w:spacing"===t){s.dt={},e["w:before"]&&(s.dt.Xe=s.dt.Xe||{},s.dt.Xe.Le=parseInt(e["w:before"])),e["w:beforeAutospacing"]&&(s.dt.Xe=s.dt.Xe||{},s.dt.Xe.Ce=l(e["w:beforeAutospacing"])),e["w:after"]&&(s.dt.Be=s.dt.Be||{},s.dt.Be.Le=parseInt(e["w:after"])),e["w:afterAutospacing"]&&(s.dt.Be=s.dt.Be||{},s.dt.Be.Ce=l(e["w:afterAutospacing"])),e["w:line"]&&(s.dt.Ve=parseInt(e["w:line"]));var n=e["w:lineRule"];return"atLeast"===n?s.dt.Me=1:"auto"===n?s.dt.Me=2:"exact"===n&&(s.dt.Me=3),XmlParser.m}return"w:rPr"===t?(s.he={},f(s.he)):"w:pageBreakBefore"===t?(s.De=l(e["w:val"]),XmlParser.m):"w:contextualSpacing"===t?(s.Fe=l(e["w:val"]),XmlParser.m):"w:ind"===t?(s.Ee={},e["w:hanging"]?s.Ee.Ae=-parseInt(e["w:hanging"]):e["w:firstLine"]&&(s.Ee.Ae=parseInt(e["w:firstLine"])),e["w:left"]&&(s.Ee.Te=parseInt(e["w:left"])),e["w:right"]&&(s.Ee.Ne=parseInt(e["w:right"])),XmlParser.m):"w:jc"===t?(s.We=e["w:val"],XmlParser.m):"w:keepLines"===t?(s.ze=l(e["w:val"]),XmlParser.m):"w:keepNext"===t?(s.je=l(e["w:val"]),XmlParser.m):"w:numPr"===t?(s.Ge={},a=s.Ge,{p:function(t,e){return"w:numId"===t?(a.Oe=parseInt(e["w:val"]),XmlParser.m):"w:ilvl"===t?(a.Qe=parseInt(e["w:val"]),XmlParser.m):null}}):"w:tabs"===t?(s.Je=[],r=s.Je,{p:function(t,e){if("w:tab"===t){if(!e["w:val"])throw XmlParser.A("w:tab","w:val");var n=e["w:val"];if(!e["w:pos"])throw XmlParser.A("w:tab","w:pos");var i=parseInt(e["w:pos"]);return r.push({ve:n,qe:i}),XmlParser.m}return null}}):"w:outlineLvl"===t?(s.Ke=parseInt(e["w:val"]),XmlParser.m):"w:shd"===t?(s.wt=x(e),XmlParser.m):"w:pBdr"===t?(s.Ze={},i=s.Ze,{p:function(t,e){return"w:top"===t?(i.Ye=I(e),XmlParser.m):"w:left"===t?(i.Te=I(e),XmlParser.m):"w:bottom"===t?(i.tn=I(e),XmlParser.m):"w:right"===t?(i.Ne=I(e),XmlParser.m):"w:between"===t?(i.en=I(e),XmlParser.m):"w:bar"===t?(i.nn=I(e),XmlParser.m):null}}):"w:wordWrap"===t?(s.in=l(e["w:val"]),XmlParser.m):"w:sectPr"===t?(s.rn={},C(s.rn)):"w:suppressAutoHyphens"===t?(s.an=l(e["w:val"]),C(s.rn)):"w:widowControl"===t?(s.sn=l(e["w:val"]),XmlParser.m):null;var i,r,a}}}function b(n){return{p:function(t,e){return $(n.Mt,t,e)}}}function y(t,e){if(void 0===e["w:id"])throw XmlParser.A(t,"w:id");var n={Se:parseInt(e["w:id"])};if(e["w:author"]&&(n.ln=e["w:author"]),e["w:date"]){var i=new Date(e["w:date"]);i=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()),n.cn=i}return n}function a(t){return t&&"auto"!==t?{un:t}:{Ce:!0}}function x(t){var e=t["w:val"];return e||(e="clear"),{ve:e,K:a(t["w:color"]),hn:a(t["w:fill"])}}function P(n){return{p:function(t,e){return"w:sdtPr"===t?XmlParser.m:"w:sdtContent"===t?n:null}}}function S(n,t,e){if("w:p"===t){var i={Mt:[]};return n.push({fn:i}),s=i,{p:function(t,e){if("w:pPr"===t)return s.dn={},_(s.dn);if("w:ins"===t){var n={vn:y(t,e),Mt:[]};return s.Mt.push({bt:n}),b(n)}if("w:del"===t){var i={vn:y(t,e),Mt:[]};return s.Mt.push({yt:i}),b(i)}if("w:moveFrom"===t){var r={vn:y(t,e),Mt:[]};return s.Mt.push({pn:r}),b(r)}if("w:moveTo"===t){var a={vn:y(t,e),Mt:[]};return s.Mt.push({mn:a}),b(a)}return $(s.Mt,t,e)}}}if("w:tbl"===t){var r={wn:[]};return n.push({gn:r}),a=r,{p:function(t,e){if("w:tblPr"===t)return a.$n={},L(a.$n,a);if("w:tr"===t){var n={_n:[]};return a.wn.push(n),function i(r){return{p:function(t,e){if("w:tc"===t){var n={Mt:[]};return r._n.push(n),function n(i){return{p:function(t,e){return"w:tcPr"===t?U(i.bn={}):"w:sdt"===t?P(n(i)):S(i.Mt,t,e)}}}(n)}return"w:trPr"===t?k(r.yn={}):"w:tblPrEx"===t?L(r.xn={}):"w:sdt"===t?P(i(r)):null}}}(n)}return"w:tblGrid"===t?(a.Pn=[],i=a.Pn,{p:function(t,e){return"w:gridCol"===t?(i.push(parseInt(e["w:w"])),XmlParser.m):null}}):null;var i}}}return"w:bookmarkStart"===t?(n.push({Ue:e["w:name"]}),XmlParser.m):"w:bookmarkEnd"===t?XmlParser.m:"w:sdt"===t?P({p:function(t,e){return S(n,t,e)}}):null;var a,s}function H(t){var e=t["w:val"]||"000000000000";if(12!==e.length)throw new Error("Unexpected 'w:cnfStyle' value format.");return parseInt(e,2)}function U(r){return{p:function(t,e){if("w:vAlign"===t)return r.Sn=e["w:val"],XmlParser.m;if("w:gridSpan"===t)return r.Hn=parseInt(e["w:val"]),XmlParser.m;if("w:vMerge"===t){var n=e["w:val"];return void 0===n||"continue"===n?r.Un={}:"restart"===n?r.Un={kn:!0}:console.warn("Unexpected 'w:vMerge' value ('"+n+"')."),XmlParser.m}return"w:shd"===t?(r.wt=x(e),XmlParser.m):"w:tcW"===t?(r.Rn=R(e),XmlParser.m):"w:tcMar"===t?(r.In={},X(r.In)):"w:tcBorders"===t?(r.Xn={},i=r.Xn,{p:function(t,e){return"w:top"===t?(i.Ye=I(e),XmlParser.m):"w:left"===t?(i.Te=I(e),XmlParser.m):"w:bottom"===t?(i.tn=I(e),XmlParser.m):"w:right"===t?(i.Ne=I(e),XmlParser.m):null}}):"w:noWrap"===t?(r.Ln=l(e["w:val"]),XmlParser.m):"w:cnfStyle"===t?(r.Cn=H(e),XmlParser.m):null;var i}}}function k(n){return{p:function(t,e){return"w:trHeight"===t?(n.Bn=e["w:val"]?parseInt(e["w:val"]):0,XmlParser.m):"w:cnfStyle"===t?(n.Cn=H(e),XmlParser.m):"w:cantSplit"===t?(n.Vn=l(e["w:val"]),XmlParser.m):"w:tblHeader"===t?(n.Mn=l(e["w:val"]),XmlParser.m):"w:ins"===t?(n.bt=!0,XmlParser.m):"w:del"===t?(n.yt=!0,XmlParser.m):"w:gridBefore"===t?(n.Dn=parseInt(e["w:val"]),XmlParser.m):"w:gridAfter"===t?(n.Fn=parseInt(e["w:val"]),XmlParser.m):"w:wAfter"===t?(n.En=R(e),XmlParser.m):"w:wBefore"===t?(n.An=R(e),XmlParser.m):null}}}function R(t){return{Tn:parseInt(t["w:w"]),ve:t["w:type"]||"dxa"}}function I(t){var e={et:t["w:val"]};return void 0!==t["w:color"]&&(e.K=a(t["w:color"])),void 0!==t["w:sz"]&&(e.G=parseInt(t["w:sz"])),void 0!==t["w:space"]&&(e.Nn=parseInt(t["w:space"])),e}function X(n){return{p:function(t,e){return"w:top"===t?(n.Ye=R(e),XmlParser.m):"w:left"===t?(n.Te=R(e),XmlParser.m):"w:bottom"===t?(n.tn=R(e),XmlParser.m):"w:right"===t?(n.Ne=R(e),XmlParser.m):null}}}function L(i,r){return{p:function(t,e){return"w:tblStyle"===t?(i.Wn=e["w:val"],XmlParser.m):"w:tblLook"===t?XmlParser.m:"w:tblCellMar"===t?X(i.zn={}):"w:tblCellSpacing"===t?(i.jn=R(e),XmlParser.m):"w:tblW"===t?(i.Gn=R(e),XmlParser.m):"w:jc"===t?(i.We=e["w:val"],XmlParser.m):"w:tblBorders"===t?(n=i.On={},{p:function(t,e){return"w:top"===t?(n.Ye=I(e),XmlParser.m):"w:left"===t?(n.Te=I(e),XmlParser.m):"w:bottom"===t?(n.tn=I(e),XmlParser.m):"w:right"===t?(n.Ne=I(e),XmlParser.m):"w:insideH"===t?(n.Qn=I(e),XmlParser.m):"w:insideV"===t?(n.Jn=I(e),XmlParser.m):null}}):"w:tblInd"===t?(i.qn=R(e),XmlParser.m):"w:tblStyleRowBandSize"===t?XmlParser.m:"w:tblStyleColBandSize"===t?XmlParser.m:"w:tblpPr"===t?(i.Kn={Zn:e["w:tblpXSpec"]},void 0!==e["w:bottomFromText"]&&(i.Kn.Yn=parseInt(e["w:bottomFromText"])),void 0!==e["w:leftFromText"]&&(i.Kn.ti=parseInt(e["w:leftFromText"])),void 0!==e["w:rightFromText"]&&(i.Kn.ei=parseInt(e["w:rightFromText"])),void 0!==e["w:topFromText"]&&(i.Kn.Yn=parseInt(e["w:topFromText"])),void 0!==e["w:tblpX"]&&(i.Kn.ni=parseInt(e["w:tblpX"])),XmlParser.m):"w:tblLayout"===t?(i.ii=e["w:type"],XmlParser.m):"w:tblCaption"===t&&r?(r.ri=e["w:val"],XmlParser.m):"w:tblDescription"===t&&r?(r.ai=e["w:val"],XmlParser.m):null;var n}}}function C(n){return{p:function(t,e){return"w:pgSz"===t?(n.si={oi:parseInt(h(t,e,"w:w")),li:parseInt(h(t,e,"w:h"))},XmlParser.m):"w:pgMar"===t?(n.ci={tn:parseInt(h(t,e,"w:bottom")),Te:parseInt(h(t,e,"w:left")),Ne:parseInt(h(t,e,"w:right")),Ye:parseInt(h(t,e,"w:top")),ui:void 0!==e["w:footer"]?parseInt(e["w:footer"]):0,hi:void 0!==e["w:gutter"]?parseInt(e["w:gutter"]):0,fi:void 0!==e["w:header"]?parseInt(e["w:header"]):0},XmlParser.m):"w:type"===t?(n.ve=e["w:val"],XmlParser.m):"w:docGrid"===t?XmlParser.m:"w:endnotePr"===t||"w:footnotePr"===t?XmlParser.m:"w:headerReference"===t||"w:footerReference"===t||"w:pgNumType"===t||"w:titlePg"===t?XmlParser.m:null}}}function B(e){return{p:function(t){return"w:body"===t?(e.di={vi:[]},i=e.di,r=[],a=void 0,{p:function(t,e){return"w:sectPr"===t?C(a={}):S(r,t,e)},_:function(){for(var t=0,e=0;e<r.length;e++){var n=r[e];n.fn&&n.fn.dn&&n.fn.dn.rn&&(i.vi.push({Mt:r.slice(t,e+1),rn:n.fn.dn.rn}),t=e+1)}i.vi.push({Mt:r.slice(t),rn:a})}}):null;var i,r,a},_:function(){if(!e.di)throw XmlParser.ne("w:document","w:body")}}}function V(n){return{p:function(t,e){return"w:lvlText"===t?(n.pi=e["w:val"],XmlParser.m):"w:start"===t?(n.mi=parseInt(e["w:val"]),XmlParser.m):"w:numFmt"===t?(n.wi=e["w:val"],XmlParser.m):"w:suff"===t?(n.gi=e["w:val"],XmlParser.m):"w:rPr"===t?(n.he={},f(n.he)):"w:pPr"===t?_(n.dn={}):"w:lvlRestart"===t?(n.$i=parseInt(e["w:val"]),XmlParser.m):"w:isLgl"===t?(n._i=l(e["w:val"]),XmlParser.m):null}}}function M(a){return{p:function(t,e){if("w:abstractNumId"===t)return a.bi=parseInt(e["w:val"]),XmlParser.m;if("w:lvlOverride"===t){var n=parseInt(e["w:ilvl"]),i={Qe:n};return a.yi[n]=i,r=i,{p:function(t,e){if("w:startOverride"===t)return r.xi=parseInt(e["w:val"]),XmlParser.m;if("w:lvl"===t){var n=parseInt(e["w:ilvl"]);return n==r.Qe?(r.Pi={Qe:n},V(r.Pi)):XmlParser.m}return null}}}return null;var r},_:function(){if(null===a.bi)throw XmlParser.ne("w:num","w:abstractNumId")}}}function n(o){return{p:function(t,e){if("w:abstractNum"===t){var n=parseInt(e["w:abstractNumId"]),i={bi:n,Si:[]};return o.Hi[n]=i,s=i,{p:function(t,e){if("w:lvl"===t){var n=parseInt(e["w:ilvl"]),i={Qe:n};return V(s.Si[n]=i)}return"w:numStyleLink"===t?(s.Ui=e["w:val"],XmlParser.m):"w:multiLevelType"===t?XmlParser.m:"w:nsid"===t?XmlParser.m:"w:tmpl"===t?XmlParser.m:null}}}if("w:num"===t){var r=parseInt(e["w:numId"]),a={Oe:r,bi:null,yi:[]};return M(o.ki[r]=a)}return"w:numIdMacAtCleanup"===t?XmlParser.m:null;var s}}}function D(r){return{$:function(t,e){r.Se=e["w:styleId"],r.ve=e["w:type"]},p:function(t,e){if("w:autoRedefine"===t)return XmlParser.m;if("w:basedOn"===t)return r.Ri=e["w:val"],XmlParser.m;if("w:rPr"===t)return f(r.he={});if("w:pPr"===t)return _(r.dn={});if("w:tcPr"===t)return U(r.bn={});if("w:trPr"===t)return k(r.yn={});if("w:tblStylePr"===t){var n=e["w:type"];if(!n)throw XmlParser.A("w:tblStylePr","w:type");return r.Ii||(r.Ii={}),r.Ii[n]&&console.warn("Encountered a duplicate 'w:tblStylePr' type ('"+n+"')."),r.Ii[n]={},i=r.Ii[n],{p:function(t,e){return"w:tcPr"===t?U(i.bn={}):"w:trPr"===t?k(i.yn={}):"w:pPr"===t?_(i.dn={}):"w:rPr"===t?f(i.he={}):null}}}return"w:tblPr"===t?L(r.$n={}):"w:uiPriority"===t?XmlParser.m:"w:name"===t?XmlParser.m:"w:next"===t?XmlParser.m:"w:locked"===t?XmlParser.m:"w:qFormat"===t?XmlParser.m:"w:aliases"===t?XmlParser.m:"w:semiHidden"===t?XmlParser.m:"w:hidden"===t?XmlParser.m:"w:unhideWhenUsed"===t?XmlParser.m:"w:rsid"===t?XmlParser.m:"w:link"===t?XmlParser.m:null;var i}}}function F(s){function o(){return{p:function(t){return"w:rPrDefault"===t?{p:function(t){return"w:rPr"===t?(s.Xi={},f(s.Xi)):null}}:"w:pPrDefault"===t?{p:function(t){return"w:pPr"===t?(s.Li={},_(s.Li)):null}}:null}}}return{p:function(t,e){if("w:style"===t){var n=e["w:styleId"],i=!1;void 0!==e["w:default"]&&(i=l(e["w:default"]));var r=e["w:type"];i&&"paragraph"==r?s.Ci=n:i&&"table"===r?s.Bi=n:i&&"character"===r&&(s.Vi=n);var a={Se:n,ve:r};return s.Mi.set(n,a),D(a)}return"w:docDefaults"===t?o():"w:latentStyles"===t?XmlParser.m:null}}}function E(a){return{p:function(t,e){if("w:font"===t){var n=e["w:name"];if(void 0===n)throw XmlParser.A(t,"w:name");var i={};return a.set(n,i),r=i,{p:function(t,e){if("w:family"===t)return r.Di=e["w:val"],XmlParser.m;if("w:pitch"===t)return r.Fi=e["w:val"],XmlParser.m;if("w:altName"===t){var n=e["w:val"];if(void 0===n)throw XmlParser.A(t,"w:val");return r.Ei=n.split(/,+/).map(function(t){return t.trim()}),XmlParser.m}return XmlParser.m}}}return null;var r}}}t.Ai=function(n){return{p:function(t,e){return"w:document"===t?B(n.Ti={di:null}):null},_:function(){if(!n.Ti)throw XmlParser.Ni("w:document")}}},t.Wi=function(e){return{p:function(t){return"w:numbering"===t?(e.zi={Hi:[],ki:[]},n(e.zi)):null},_:function(){if(!e.zi)throw XmlParser.Ni("w:numbering")}}},t.ji=function(e){return{p:function(t){return"w:styles"===t?(e.Mi={Mi:new Map},F(e.Mi)):null},_:function(){if(!e.Mi)throw XmlParser.Ni("w:styles")}}},t.Gi=function(e){return{p:function(t){return"w:fonts"===t?E(e):null},_:function(){}}}}(WmlParser||(WmlParser={})),function(t){var e=function(){function r(t){this.Oi=new Set,this.Qi=t,this.Ti=null,this.Mi=null,this.zi={Hi:[],ki:[]},this.Ji=new Map}return r.prototype.qi=function(t){var e=this.Qi.files[t];return e?e.async("blob"):Promise.resolve(null)},r.prototype.Ki=function(t){var e=this.Qi.files[t];return e?e.async("ArrayBuffer"):Promise.resolve(null)},r.Zi=function(t){return new Promise(function(e,n){var i=URL.createObjectURL(t);try{jQuery.ajax(i,{dataType:"xml"}).done(function(t){e(t)}).fail(function(t){n(t)}).always(function(){URL.revokeObjectURL(i)})}catch(t){URL.revokeObjectURL(i),n(t)}})},r.Yi=function(t){var n=new r(t);function e(t){var e=n.Qi.files[t];return e?e.async("blob").then(r.Zi):Promise.resolve(null)}function i(t){n.Oi.add(t)}return Promise.all([e("word/document.xml").then(function(t){var e=WmlParser.Ai(n);e=AlternateContentFilter(e),XmlParser.Yi(t,e,i)}),e("word/styles.xml").then(function(t){XmlParser.Yi(t,WmlParser.ji(n),i)}),e("word/numbering.xml").then(function(t){t&&XmlParser.Yi(t,WmlParser.Wi(n),i)}),e("word/theme/theme1.xml").then(function(t){t&&XmlParser.Yi(t,ThemeParser.tr(n),i)}),e("word/fontTable.xml").then(function(t){t&&XmlParser.Yi(t,WmlParser.Gi(n.Ji),i)}),e("word/_rels/document.xml.rels").then(function(t){n.er=new Map,XmlParser.Yi(t,OpcParser.nr(n.er),i)})]).then(function(){return n})},r}();t.Yi=function(t){return JSZip.loadAsync(t).catch(function(){throw new Error("Cannot decode ZIP file.")}).then(e.Yi)}}(DocXLoader||(DocXLoader={})),function(t){function y(t,e,n,i){return{left:t,top:e,right:n,bottom:i,width:n-t,height:i-e}}function x(t,e,n,i,r){return y(t.left-e,t.top-n,t.right+i,t.bottom+r)}function P(t){return t/12700*96/72}function z(s){var e={ir:[]},o=[];return s.wn.forEach(function(i,t){var r={rr:[],wn:i,ar:0===t,sr:t===s.wn.length-1},a=0;i._n.forEach(function(t,e){var n={_n:t,ar:0===e,sr:e===i._n.length-1};t.bn&&t.bn.Un?t.bn.Un.kn?((o[a]=n).or=1,r.rr.push(n)):void 0!==o[a]?(o[a].or++,o[a].lr={cr:r,ur:n}):(console.warn("Unexpected vMerge with no restart in",s),(o[a]=n).or=1,r.rr.push(n)):r.rr.push(n),t.bn&&void 0!==t.bn.Hn?(n.dr=t.bn.Hn,a+=n.dr):a++}),e.ir.push(r)}),e}function c(t,l,k,u,o,s,c,R,I){var e,n,i,r,a,h,f,d=(e={pct5:"#F2F2F2",pct10:"#E6E6E6",pct12:"#DFDFDF",pct15:"#D9D9D9",pct20:"#CCCCCC",pct25:"#BFBFBF",pct30:"#B3B3B3",pct35:"#A6A6A6",pct37:"#9F9F9F",pct40:"#999999",pct45:"#8C8C8C",pct50:"#808080",pct55:"#737373",pct60:"#666666",pct62:"#606060",pct65:"#595959",pct70:"#4D4D4D",pct75:"#404040",pct80:"#333333",pct85:"#262626",pct87:"#202020",pct90:"#1A1A1A",pct95:"#0D0D0D"},function(t){return e[t]});function v(t,e){return t.Ce?e:"#"+t.un}function X(t){return t+"pt"}function p(t){return X(t/12700)}function L(t){return X(t/20)}function m(t){return X(t/2)}function C(t,e){e.ve.startsWith("pct")&&"#000000"===v(e.K,"#000000")&&"#FFFFFF"===v(e.hn,"#FFFFFF")?t.S(1,d(e.ve)):e.hn&&t.S(1,v(e.hn,null))}function w(t){var e=t?FontMetrics.vr(t):void 0;return e?e.pr/e.mr:1.2}function B(t,e){var n,i=new CssWriter;if(t.T&&i.S(16,"bold"),t.W&&i.S(14,"italic"),t.K&&i.S(9,v(t.K,"black")),t.G&&i.S(13,m(t.G)),t.ft&&"none"!==t.ft){var r={black:"#000000",blue:"#0000FF",cyan:"#00FFFF",darkBlue:"#00008B",darkCyan:"#008B8B",darkGray:"#A9A9A9",darkGreen:"#006400",darkMagenta:"#800080",darkRed:"#8B0000",darkYellow:"#808000",green:"#00FF00",lightGray:"#D3D3D3",magenta:"#FF00FF",red:"#FF0000",white:"#FFFFFF",yellow:"#FFFF00"}[t.ft];r&&i.S(1,r)}if(t.Z&&i.S(47,"uppercase"),t.tt&&("dash"===t.tt.et||"dashDotDotHeavy"===t.tt.et||"dashDotHeavy"===t.tt.et||"dashedHeavy"===t.tt.et||"dashLong"===t.tt.et||"dashLongHeavy"===t.tt.et?i.S(42,"underline dashed"):"dotted"===t.tt.et||"dotDash"===t.tt.et||"dotDotDash"===t.tt.et||"dottedHeavy"===t.tt.et?i.S(42,"underline dotted"):"double"===t.tt.et?i.S(42,"underline double"):"none"===t.tt.et||("single"===t.tt.et||"thick"===t.tt.et?i.S(42,"underline"):"wave"===t.tt.et||"wavyHeavy"===t.tt.et?i.S(42,"wavy"):"wavyDouble"===t.tt.et?i.S(42,"wavy double"):"words"===t.tt.et&&(i.S(42,"underline"),i.S(44,"spaces"))),t.tt.K&&i.S(43,v(t.tt.K,"currentColor"))),t.dt&&i.S(19,L(t.dt)),t.vt&&i.S(15,"small-caps"),t.nt){var a=o.wr(t.nt);(n=a.at||a.ot||a.it||a.ct)&&i.S(12,c.gr(n))}if(t.ht&&i.S(10,"none"),t.wt&&C(i,t.wt),t._t&&i.S(50,m(t._t)),e.dt&&void 0!==e.dt.Ve)if(void 0===e.dt.Me||2===e.dt.Me){var s=e.dt.Ve/240;i.S(20,(s*w(n)).toString())}else 3===e.dt.Me?i.S(20,L(e.dt.Ve)):1===e.dt.Me&&(I&&I("Unsupported line spacing rule 'atLeast'."),i.S(20,w(n).toString()));else i.S(20,w(n).toString());return i.U()}function V(t,e){return t.Ce?e:t.Le/20}function M(t){if(void 0===t||"nil"===t.et||"none"===t.et)return 0;var e=t.G/8;return"double"!==t.et&&"thinThickLargeGap"!==t.et||(e*=2)<2&&(e=2),e}function D(t){if(void 0===t||"nil"===t.et||"none"===t.et)return"none";var e="solid",n=M(t);return"single"===t.et?e="solid":"dashed"===t.et||"dotDash"===t.et?e="dashed":"dotted"===t.et?e="dotted":"double"===t.et?e="double":"thinThickLargeGap"===t.et?e="double":I&&I("Unsupported border style '"+t.et+"'."),n+"pt "+e+" "+(t.K&&v(t.K,"black")||"")}function g(t,e,n,i){var r=e.C,a={x:e.L.x-n.L.x,y:e.L.y-n.L.y};if(t.S(18,p(a.x)),t.S(48,p(a.y)),t.S(53,p(r.cx)),t.S(17,p(r.cy)),!i){var s="";e.B&&(s+="rotate("+(e.B/6e4+"deg")+") "),e.V&&(s+="scaleX(-1) "),e.M&&(s+="scaleY(-1) "),s&&t.S(49,s)}}function $(t,e){var n,i=e.D(t.xt),r=t.Pt,a=t.St||{bottom:0,left:0,right:0,top:0},s=u.$r(r),o=i.C;(n=new CssWriter).S(36,"absolute"),g(n,i,e),n.S(28,"hidden"),R.t(7),R.i(38,n.U()),(n=new CssWriter).S(36,"absolute");var l=o.cx/(1-a.left-a.right),c=o.cy/(1-a.top-a.bottom);n.S(18,p(-l*a.left)),n.S(48,p(-c*a.top)),n.S(53,p(l)),n.S(17,p(c)),s?s.endsWith(".emf")||s.endsWith(".wmf")?(R.t(7),R.i(38,n.U()),R.i(11,"word/"+s),R.o(7)):(R.t(13),R.i(38,n.U()),R.i(8,"word/"+s),R.o(13)):(I&&I("Cannot find target for relationship id '"+r+"'."),R.t(13),R.i(38,n.U()),R.i(32,"about:blank"),R.o(13)),R.o(7)}function _(t,e){var n=e.D(t.xt);if(t.Ut){var i=new CssWriter;i.S(36,"absolute"),i.S(10,"flex"),g(i,n,e,t.Rt.Vt);var r=void 0===t.Rt.Xt?45720:t.Rt.Xt,a=void 0===t.Rt.Lt?91440:t.Rt.Lt,s=void 0===t.Rt.Ct?91440:t.Rt.Ct,o=void 0===t.Rt.Bt?45720:t.Rt.Bt;i.S(29,p(r)),i.S(30,p(a)),i.S(31,p(s)),i.S(32,p(o)),t.Rt.It&&("b"===t.Rt.It?i.S(0,"start"):"ctr"===t.Rt.It?i.S(0,"center"):"top"===t.Rt.It&&i.S(0,"end")),R.t(35),R.i(38,i.U()),R.t(7),R.i(38,"flex: 1 1 auto;"),N(t.Ut.kt,l),R.o(7),R.o(35)}}function b(t,e,n,i){3===n?(t.S(11,"right"),e.le&&(t.S(38,p(e.le)),t.S(22,p(e.le)))):(t.S(11,"left"),e.oe&&(t.S(38,p(e.oe)),t.S(23,p(e.oe)))),e.ae&&t.S(24,p(e.ae)),e.se&&t.S(21,p(e.se)),i&&t.S(39,function(t){for(var e="",n=0;n<t.length;n++)0<n&&(e+=","),e+=100*t[n].x/21600+"% "+100*t[n].y/21600+"%";return"polygon("+e+") padding-box"}(i))}function y(t){var e,n,i,r,a=new CssWriter;if(t.ie)e=t.ie.At,n=t.ie.Tt,i=t.ie.Nt,r=!0,a.S(10,"inline-block");else{if(!t.It)return I&&I("Invalid drawing object '"+JSON.stringify(t)+"'."),!1;if(e=t.It.At,n=t.It.Tt,i=t.It.Nt,r=!1,t.It.Wt){a.S(10,"inline-block"),a.S(36,"absolute");var s=t.It.ce||0;t.It.re?s-=2147483648:s++,a.S(55,s.toFixed())}else t.It.Qt?(a.S(10,"inline-block"),b(a,t.It,t.It.Qt.jt,t.It.Qt.Ot)):t.It.Gt?(a.S(10,"inline-block"),b(a,t.It,t.It.Gt.jt,t.It.Gt.Ot)):t.It.zt?(a.S(10,"inline-block"),b(a,t.It,t.It.zt.jt,null)):t.It.Jt&&(a.S(10,"block"),t.It.ae&&a.S(24,p(t.It.ae)),t.It.se&&a.S(21,p(t.It.se)))}n||(n={left:0,top:0,right:0,bottom:0}),a.S(53,p(e.cx+n.left+n.right)),a.S(17,p(e.cy+n.top+n.bottom)),R.t(8),R.i(38,a.U()),t.It&&t.It.Wt?(R.i(16,""),t.It.qt&&R.i(17,JSON.stringify(t.It.qt)),t.It.ee&&R.i(18,JSON.stringify(t.It.ee))):t.It&&t.It.Jt&&(R.i(16,""),t.It.qt&&R.i(17,JSON.stringify(t.It.qt)));var o=new DmlTransformResolver({x:n.left,y:n.top},e);return o.I={x:-n.left,y:-n.top},i.Dt&&i.Dt.Pt?$(i.Dt,o):i.Ft?_(i.Ft,o):i.Et?function e(t,n){var i=n.D(t.xt),r=new CssWriter;r.S(36,"absolute"),g(r,i,n),R.t(7),R.i(38,r.U()),t.Mt.forEach(function(t){t.Dt?$(t.Dt,i):t.Ft?_(t.Ft,i):t.Et&&e(t.Et,i)}),R.o(7)}(i.Et,o):(R.i(32,"about:blank"),I&&I("Unsupported graphic object '"+JSON.stringify(i)+"'.")),R.o(8),r}function x(t,e){if(t.fe)return t.fe.F&&(R.t(24),R.i(38,"white-space: pre-wrap;")),R.s(t.fe.g),t.fe.F&&R.o(24),/\S/.test(t.fe.g);if(t.de)return R.t(29),R._r(),R.o(29),!1;if(t.pe){var n=e.yr(t.pe);return 1===n||(2===n?(R.t(16),R.i(38,"page-break-after: always"),R.i(13,"always"),R.o(16)):3===n&&R.xr()),!1}if(t.me){var i=t.me;R.t(24);var r=new CssWriter;return r.S(12,c.gr(i.we)),R.i(38,r.U()),R.Pr(i.ge),R.o(24),!0}return t.$e?(R.Sr(),!0):!t._e&&(t.be?y(t.be):t.ye?(t.ye.F&&(R.t(24),R.i(38,"white-space: pre-wrap;")),R.s(t.ye.g),t.ye.F&&R.o(24),/\S/.test(t.ye.g)):(t.xe?R.xr():I&&I("Unsupported run child '"+JSON.stringify(t)+"'."),!1))}function F(t,e){var n=e.Hr(t);if(n.J)return!1;R.t(22);var i=B(n,e.Ur());i.length&&R.i(38,i),n.Y&&n.Y<0?R.t(27):n.Y&&0<n.Y&&R.t(26),n.gt?R.t(9):n.$t&&R.t(25);for(var r=!1,a=0;a<t.Mt.length;a++)x(t.Mt[a],e)&&(r=!0);return n.gt?R.o(9):n.$t&&R.o(25),n.Y&&n.Y<0?R.o(27):n.Y&&0<n.Y&&R.o(26),R.o(22),r}function E(t){return R.t(2),R.i(38,"page-break-after: avoid"),R.i(13,"avoid"),R.i(12,t.toLowerCase()),R.o(2),!1}function P(t){var e="Inserted by "+(t.ln?t.ln:"Unknown");return void 0!==t.cn&&(e+=" at "+t.cn.toLocaleString()),e}function S(t){var e="Deleted by "+(t.ln?t.ln:"Unknown");return void 0!==t.cn&&(e+=" at "+t.cn.toLocaleString()),e}function A(t,e){return t.ue?F(t.ue,e):t.Pe?function(t,e){if(R.t(0),t.Se){var n=u.$r(t.Se),i=Uri.getScheme(n);"http"!==i&&"https"!==i&&"ftp"!==i&&"mailto"!==i||R.i(28,n)}else t.It&&R.i(28,s.kr(t.It.toLowerCase()));for(var r=!1,a=0;a<t.Mt.length;a++)A(t.Mt[a],e)&&(r=!0);return R.o(0),r}(t.Pe,e):t.Ue?E(t.Ue):t.Re?function(t,e){for(var n=!1,i=0;i<t.Mt.length;i++)A(t.Mt[i],e)&&(n=!0);return n}(t.Re,e):t.bt?function(t,e){R.t(14),R.i(41,P(t.vn));for(var n=!1,i=0;i<t.Mt.length;i++)A(t.Mt[i],e)&&(n=!0);return R.o(14),n}(t.bt,e):t.yt?function(t,e){R.t(6),R.i(41,S(t.vn));for(var n=!1,i=0;i<t.Mt.length;i++)A(t.Mt[i],e)&&(n=!0);return R.o(6),n}(t.yt,e):t.mn?function(t,e){R.t(14),R.i(41,P(t.vn));for(var n=!1,i=0;i<t.Mt.length;i++)A(t.Mt[i],e)&&(n=!0);return R.o(14),n}(t.mn,e):t.pn?function(t,e){R.t(6),R.i(41,S(t.vn));for(var n=!1,i=0;i<t.Mt.length;i++)A(t.Mt[i],e)&&(n=!0);return R.o(6),n}(t.pn,e):(I&&I("Unsupported paragraph child '"+JSON.stringify(t)+"'."),!1)}function T(t,e,n){if(t&&t.On){var i={Ye:t.On.Qn,tn:t.On.Qn,Te:t.On.Jn,Ne:t.On.Jn};return t.jn||(e.ar&&(i.Ye=t.On.Ye),e.sr&&(i.tn=t.On.tn),n.ar&&(i.Te=t.On.Te),n.sr&&(i.Ne=t.On.Ne)),{Xn:i}}return null}function N(t,e){for(var n=0;n<t.length;n++){var i=n<t.length-1?t[n+1]:null;H(t[n],i,0<n?t[n-1]:null,e)}}function W(t,e){R.t(31),R.i(3,t.toString());var n=new CssWriter;e&&"dxa"===e.ve?n.S(53,L(e.Tn)):e&&"pct"===e.ve&&n.S(53,e.Tn/50+"%"),R.i(38,n.U()),R.o(31)}function H(n,t,e,i){if(n.fn){var r=n.fn,a=i.Rr(r),s=i.Ir(r),o=s.Ur(),l={},c=t&&t.fn,u=c&&i.Ir(c).Ur(),h=e&&e.fn,f=h&&i.Ir(h).Ur();o.Fe&&(o.dt&&o.dt.Be&&u&&i.Rr(c)===a&&u.Fe&&(l.Xr=!0),o.dt&&o.dt.Xe&&f&&i.Rr(h)===a&&f.Fe&&(l.Lr=!0)),R.t(18);var d=function(t,e,n,i){var r=new CssWriter,a={left:0,top:0,right:0,bottom:0},s={left:0,top:0,right:0,bottom:0},o=!0,l=!0;if(n&&WmlUtils.Cr(t.Ze,n.Ze)&&WmlUtils.Br(t.Ee,n.Ee)&&(o=!1),e&&WmlUtils.Cr(t.Ze,e.Ze)&&WmlUtils.Br(t.Ee,e.Ee)&&(l=!1),t.dt){if(!i.Lr&&t.dt.Xe)if(o)s.top+=V(t.dt.Xe,14);else{var c=V(t.dt.Xe,14);n&&n.dt&&n.dt.Be&&(c=Math.max(0,c-V(n.dt.Be,14))),a.top+=c}!i.Xr&&t.dt.Be&&(l?s.bottom+=V(t.dt.Be,14):a.bottom+=V(t.dt.Be,14))}if(t.De&&r.S(34,"always"),t.ze&&r.S(35,"avoid"),t.je&&r.S(33,"avoid"),t.Ee){var u=t.Ee.Ae||0,h=t.Ee.Te||0;u<0&&(h+=u,a.left-=u/20),h&&(s.left+=h/20),t.Ee.Ne&&(s.right+=t.Ee.Ne/20),u&&r.S(45,L(u))}if(t.We){var f=t.We;"both"===f?r.S(41,"justify"):"center"===f?r.S(41,"center"):"distribute"===f?(r.S(41,"justify"),r.S(46,"inter-character")):"left"===f?r.S(41,"left"):"right"===f?r.S(41,"right"):I&&I("Unsupported jc '"+f+"'.")}return!1===t.in&&r.S(54,"break-all"),!1===t.sn&&(r.S(52,"0"),r.S(27,"0")),t.wt&&C(r,t.wt),t.Ze&&(t.Ze.Ye&&o&&(r.S(7,D(t.Ze.Ye)),t.Ze.Ye.Nn&&(a.top+=t.Ze.Ye.Nn)),t.Ze.Te&&(r.S(4,D(t.Ze.Te)),s.left-=M(t.Ze.Te),t.Ze.Te.Nn&&(a.left+=t.Ze.Te.Nn,s.left-=t.Ze.Te.Nn)),t.Ze.tn&&l&&(r.S(2,D(t.Ze.tn)),t.Ze.tn.Nn&&(a.bottom+=t.Ze.tn.Nn)),t.Ze.Ne&&(r.S(5,D(t.Ze.Ne)),s.right-=M(t.Ze.Ne),t.Ze.Ne.Nn&&(a.right+=t.Ze.Ne.Nn,s.right-=t.Ze.Ne.Nn)),t.Ze.en&&!l&&(r.S(2,D(t.Ze.en)),t.Ze.en.Nn&&(a.bottom+=t.Ze.en.Nn))),a.left&&r.S(30,X(a.left)),a.top&&r.S(32,X(a.top)),a.right&&r.S(31,X(a.right)),a.bottom&&r.S(29,X(a.bottom)),s.left&&r.S(22,X(s.left)),s.top&&r.S(24,X(s.top)),s.right&&r.S(23,X(s.right)),s.bottom&&r.S(21,X(s.bottom)),r.U()}(o,u,f,l);d.length&&R.i(38,d),o.De&&R.i(14,"always"),o.ze&&R.i(15,"avoid"),o.je&&R.i(13,"avoid");var v=!1,p=s.Vr();if(p){var m=p.Pi,w=s.Mr(),g="";w.yt||(g=k.Dr(p.ki,m.Qe));var $={he:w,Mt:[{fe:{g:g}}]};if(m&&"space"===m.gi)$.Mt.push({fe:{g:" ",F:!0}}),(_=new CssWriter).S(35,"avoid"),_.S(33,"avoid"),R.t(15),R.i(38,_.U()),R.i(15,"avoid"),R.i(13,"avoid"),v=F($,s),R.o(15);else if(m&&"nothing"===m.gi){(_=new CssWriter).S(35,"avoid"),_.S(33,"avoid"),R.t(15),R.i(38,_.U()),R.i(15,"avoid"),R.i(13,"avoid"),v=F($,s),R.o(15)}else{$.Mt.push({fe:{g:"\t"}});var _,b=TabStopResolver.Fr(o);if(null!==b)(_=new CssWriter).S(10,"inline-block"),_.S(45,"0"),_.S(41,"left"),_.S(26,L(b)),_.S(35,"avoid"),_.S(33,"avoid"),R.t(15),R.i(38,_.U()),R.i(15,"avoid"),R.i(13,"avoid"),v=F($,s),R.t(24),R.i(38,"display: inline-block"),R.o(24),R.o(15);else(_=new CssWriter).S(35,"avoid"),_.S(33,"avoid"),R.t(15),R.i(38,_.U()),R.i(15,"avoid"),R.i(13,"avoid"),v=F($,s),R.o(15)}}for(var y=0;y<r.Mt.length;y++)A(r.Mt[y],s)&&(v=!0);if(!v){R.t(19);var x=s.Er();R.i(38,B(x,o)),R.o(19)}R.o(18)}else if(n.gn){var P=i.Ar(n.gn),S=z(n.gn),H=P.Tr(),U=!1;R.t(30),R.i(38,function(t,e){var n=new CssWriter;if(t.jn&&(n.S(3,"separate"),n.S(6,L(2*t.jn.Tn)),t.On&&t.On.Ye&&n.S(7,D(t.On.Ye)),t.On&&t.On.Te&&n.S(4,D(t.On.Te)),t.On&&t.On.tn&&n.S(2,D(t.On.tn)),t.On&&t.On.Ne&&n.S(5,D(t.On.Ne))),t.Gn&&"dxa"===t.Gn.ve)n.S(53,L(t.Gn.Tn));else if(t.Gn&&"pct"===t.Gn.ve)n.S(53,t.Gn.Tn/50+"%");else if(("auto"===t.Gn.ve||void 0===t.Gn)&&"fixed"===t.ii&&e){var i=0;e.forEach(function(t){i+=t/20}),n.S(53,i+"px")}return t.Kn?("right"===t.Kn.Zn?(n.S(11,"right"),t.Kn.ti&&n.S(22,L(t.Kn.ti))):(t.Kn.Zn,n.S(11,"left"),t.Kn.ni&&n.S(22,L(t.Kn.ni))),t.Kn.Yn&&n.S(21,L(t.Kn.Yn)),t.Kn.ei&&n.S(23,L(t.Kn.ei)),t.Kn.Nr&&n.S(24,L(t.Kn.Nr))):"center"===t.We?(n.S(22,"auto"),n.S(23,"auto")):"right"===t.We?n.S(22,"auto"):t.qn&&"dxa"===t.qn.ve&&n.S(22,L(t.qn.Tn)),"fixed"===t.ii&&n.S(40,"fixed"),n.U()}(H,n.gn.Pn)),n.gn.ri&&R.i(1,n.gn.ri),n.gn.ai&&R.i(0,n.gn.ai),n.gn.Pn&&(R.t(5),n.gn.Pn.forEach(function(t,e){R.t(4),H.jn&&(t-=0===e?2*H.jn.Tn:H.jn.Tn,e+1===n.gn.Pn.length?t-=2*H.jn.Tn:t-=H.jn.Tn),R.i(44,(t/20*96/72).toString()),R.o(4)}),R.o(5)),S.ir.forEach(function(f){var d=P.Wr(f.wn),t=d.zr()||{};t.Mn&&!U?(R.t(33),U=!0):!t.Mn&&U&&(R.o(33),U=!1),R.t(34);var e,n,i=(e=t,n=new CssWriter,void 0!==e.Bn&&n.S(17,L(e.Bn)),e.Vn&&n.S(35,"avoid"),n.U());i.length&&R.i(38,i),t.Vn&&R.i(15,"avoid"),t.bt?R.i(2,"ins"):t.yt&&R.i(2,"del"),void 0!==t.Dn&&W(t.Dn,t.An),f.rr.forEach(function(t){var e,n,i,r,a=d.jr(t._n),s=T(d.Gr(),f,t);if(s=WmlUtils.Or(s,a.Qr()),t.lr){var o=t.lr.cr,l=t.lr.ur,c=P.Wr(o.wn),u=c.jr(l._n),h=T(c.Gr(),o,l);(h=WmlUtils.Or(h,u.Qr())).Xn&&(s=WmlUtils.Or(s,{Xn:{tn:h.Xn.tn}}))}R.t(31),R.i(38,(e=s,n=new CssWriter,e.Sn&&("bottom"===e.Sn?n.S(50,"bottom"):"center"===e.Sn?n.S(50,"middle"):"top"===e.Sn?n.S(50,"top"):I&&I("Unexpected table vertical align '"+e.Sn+"'.")),e.wt&&C(n,e.wt),e.Rn&&("dxa"===e.Rn.ve?n.S(53,L(e.Rn.Tn)):"pct"===e.Rn.ve&&n.S(53,e.Rn.Tn/50+"%")),e.Xn&&e.Xn.Ye&&n.S(7,D(e.Xn.Ye)),e.Xn&&e.Xn.Te&&n.S(4,D(e.Xn.Te)),e.Xn&&e.Xn.tn&&n.S(2,D(e.Xn.tn)),e.Xn&&e.Xn.Ne&&n.S(5,D(e.Xn.Ne)),e.Ln&&(e.Rn&&"dxa"===e.Rn.ve||n.S(51,"nowrap")),n.U())),void 0!==t.dr&&R.i(3,t.dr+""),void 0!==t.or&&R.i(31,t.or+""),R.t(7),R.i(38,(i=s,r=new CssWriter,i.In&&i.In.Ye&&"dxa"===i.In.Ye.ve&&r.S(32,L(i.In.Ye.Tn)),i.In&&i.In.Te&&"dxa"===i.In.Te.ve&&r.S(30,L(i.In.Te.Tn)),i.In&&i.In.tn&&"dxa"===i.In.tn.ve&&r.S(29,L(i.In.tn.Tn)),i.In&&i.In.Ne&&"dxa"===i.In.Ne.ve&&r.S(31,L(i.In.Ne.Tn)),r.U())),N(t._n.Mt,a.Jr()),R.o(7),R.o(31)}),void 0!==t.Fn&&W(t.Fn,t.En),R.o(34)}),U&&(R.o(33),U=!1),R.o(30)}else n.Ue?E(n.Ue):I&&I("Unsupported body child '"+JSON.stringify(n)+"'.")}for(var U=0;U<t.vi.length;U++)n=t.vi[U],i=0===U,r=U+1>=t.vi.length,f=h=a=void 0,f=new CssWriter,n.rn&&n.rn.si?(f.S(25,L(n.rn.si.oi)),f.S(17,L(n.rn.si.li))):(f.S(25,"21.0cm"),f.S(17,"29.7cm")),a=n.rn&&n.rn.ci?n.rn.ci:{tn:1440,ui:0,hi:0,fi:0,Te:1440,Ne:1440,Ye:1440},f.S(30,L(a.Te+a.hi)),f.S(31,L(a.Ne)),f.S(32,L(Math.abs(a.Ye))),f.S(29,L(Math.abs(a.tn))),h=n.rn&&n.rn.ve?n.rn.ve:"nextPage",(i||"nextPage"===h||"oddPage"===h||"evenPage"===h)&&(i||(R.o(17),R.o(23)),R.t(23),R.t(17),R.i(38,f.U())),N(n.Mt,l),r&&(R.o(17),R.o(23))}t.qr=z,t.Kr=function(t,e,n){var i=new HtmlWriter,r=new StyleResolver(t.Mi,t.zi),a=new NumberingProcessor(n),s=new RelationshipsResolver(t.er),o=new ThemeResolver(t.Zr),l=new FontResolver(t.Ji);return c(t.Ti.di,DocumentLevelResolver(r),a,s,o,e,l,i,n),i.v()};var d=function(t,e){this.Yr=t,this.Mt=e},u=function(t,e){this.ta=t,this.ea=e},v=function(){function t(t,e,n){this.na=t,this.ia=e,this.ra=n}return t.prototype.aa=function(){return this.na},t.prototype.sa=function(){if(void 0===this.oa){var t=void 0;if(this.na.nodeType===Node.ELEMENT_NODE)t=this.na.getBoundingClientRect();else{var e=document.createRange();e.selectNode(this.na),t=e.getBoundingClientRect()}var n=this.la(),i=n?parseFloat(n.paddingTop):0,r=n?parseFloat(n.paddingBottom):0,a=n?parseFloat(n.paddingLeft):0,s=n?parseFloat(n.paddingRight):0;this.oa=x(t,-a,-i,-s,-r)}return this.oa},t.prototype.la=function(){return void 0===this.ca&&(this.na.nodeType===Node.ELEMENT_NODE?this.ca=getComputedStyle(this.na):this.ca=null),this.ca},t.prototype.ua=function(){if(void 0===this.ra){if(void 0===this.ia)return this.sa().height;var t=this.ia.sa(),e=this.sa(),n=this.ia.ua(),i=n-(e.top-t.top);return n<i&&(i=n),i}return this.ra},t.prototype.ha=function(){return void 0===this.fa&&(this.na.nodeType===Node.ELEMENT_NODE?this.fa=this.na.querySelector("page-break"):this.fa=null),null!==this.fa},t.prototype.da=function(t){return this.na.nodeType===Node.ELEMENT_NODE?this.na.getAttribute(t):void 0},t}();function f(t,e,n){var i=document.createRange();return i.selectNodeContents(t),0===n?i.setEndBefore(e):i.setStartAfter(e),i}function p(t,e,n){for(var i,r=t.firstChild;r;r=r.nextSibling){var a=new v(r,e),s=a.da("data-pg-break-before"),o=a.da("data-pg-break-inside"),l=a.da("data-pg-break-after");if("always"===s&&(!n||r!==t.firstChild))return new u(r,{va:r});if("always"===l)return new u(r,{pa:r});if(a.ha()){var c=h(r,a,n&&r===t.firstChild);return new u(r,c)}if(a.sa().height>a.ua()){c={va:r};return"avoid"!==o&&(c=h(r,a,n&&r===t.firstChild)),i&&!c.pa?n&&i===t.firstChild?new u(i,{pa:i}):new u(i,{va:i}):("avoid"!==l||c.va||(c={va:r}),!c.pa&&n&&r===t.firstChild&&(c={pa:c.va}),new u(r,c))}i="avoid"===l?i||r:void 0}if(t.lastChild)return new u(t.lastChild,{pa:t.lastChild})}function m(t,e,n){var i,r=[],a=[],s=p(t,e,n);if(s){var o=void 0;(o=f(t,s.ta,0)).collapsed||r.push(o),s.ea.pa&&r.push(s.ea.pa),s.ea.va&&a.push(s.ea.va),(o=f(t,s.ta,1)).collapsed||a.push(o)}return 0<r.length&&((i=i||{}).pa=new d(t.cloneNode(!1),r)),0<a.length&&((i=i||{}).va=new d(t.cloneNode(!1),a)),!(i=i||{va:t}).pa&&n&&(i={pa:i.va}),i}function w(t,e,n){for(var i,r=new Array(t.cells.length),a=new Array(t.cells.length),s=!1,o=!1,l=0;l<t.cells.length;l++){var c=t.cells[l],u=m(c,new v(c,e,e.ua()),n);u.pa&&(r[l]=u.pa),u.va&&(a[l]=u.va,s=!0),u.pa&&u.va&&(o=!0)}if(o){for(l=0;l<t.cells.length;l++)void 0===r[l]&&(r[l]=new d(t.cells[l].cloneNode(!1),[])),void 0===a[l]&&(a[l]=new d(t.cells[l].cloneNode(!1),[]));var h=t.cloneNode(!1);h.style.height=null;var f=t.cloneNode(!1);f.style.height=null,i={pa:new d(h,r),va:new d(f,a)}}else i=s?{va:t}:{pa:t};return!i.pa&&n&&(i={pa:i.va}),i}function r(t,e,n){for(var i,r,a=t.tHead,s=t.firstElementChild;s;s=s.nextElementSibling)if("COLGROUP"===s.tagName){i=s;break}if(0<t.tBodies.length){var o=t.tBodies[0],l=function(t,e,n){for(var i,r,a=0;a<t.rows.length;a++){var s=t.rows[a],o=new v(s,e);if(o.ha()){i=w(s,o,n&&0===a),r=s;break}if(o.sa().height>o.ua()){i={va:s},"avoid"!==o.da("data-pg-break-inside")&&(i=w(s,o,n&&0===a)),!i.pa&&n&&0===a&&(i={pa:i.va}),r=s;break}}var l,c=[],u=[];if(i){var h=void 0;(h=f(t,r,0)).collapsed||c.push(h),i.pa&&c.push(i.pa),i.va&&u.push(i.va),(h=f(t,r,1)).collapsed||u.push(h)}return 0<c.length&&((l=l||{}).pa=new d(t.cloneNode(!1),c)),0<u.length&&((l=l||{}).va=new d(t.cloneNode(!1),u)),!(l=l||{va:t}).pa&&n&&(l={pa:l.va}),l}(o,new v(o,e),n);if(l.pa){var c=[];i&&c.push(i.cloneNode(!0)),a&&c.push(a.cloneNode(!0)),c.push(l.pa),(r=r||{}).pa=new d(t.cloneNode(!1),c)}if(l.va){c=[];i&&c.push(i.cloneNode(!0)),a&&c.push(a.cloneNode(!0)),c.push(l.va),(r=r||{}).va=new d(t.cloneNode(!1),c)}}else console.warn("Pagination: unexpected table node",t);return!(r=r||{va:t}).pa&&n&&(r={pa:r.va}),r}function h(t,e,n){if(t.nodeType!==Node.ELEMENT_NODE)return t.nodeType===Node.TEXT_NODE?function(t,e,n){var i,r,a,s=document.createRange();s.selectNodeContents(e.aa());for(var o=0;o<t.textContent.length;o++)if(s.setEnd(t,o+1),s.getBoundingClientRect().height>e.ua()){(i=document.createRange()).setStart(t,0),i.setEnd(t,o),(r=document.createRange()).setStart(t,o),r.setEnd(t,t.textContent.length);break}return i.collapsed||((a=a||{}).pa=i),r.collapsed||((a=a||{}).va=r),!(a=a||{va:t}).pa&&n&&(a={pa:a.va}),a}(t,e,n):(console.warn("Pagination: unexpected node",t),n?{pa:t}:{va:t});var i=t;switch(i.tagName){case"DIV":case"SPAN":case"RUN":case"A":case"SUP":case"SUB":case"DSTRIKE":case"STRIKE":case"INS":case"DEL":case"NUM":return m(i,e,n);case"PARA":return function(t,e,n){var i,r=[],a=[],s=p(t,e,n);if(s){var o=t.querySelector("num"),l=t.querySelector("page-break");o&&l&&s.ta.previousSibling===o&&s.ta.firstChild===l?a.push(o):((c=f(t,s.ta,0)).collapsed||r.push(c),s.ea.pa&&r.push(s.ea.pa));var c,u=t.querySelector("paragraph-mark");u&&void 0===s.ea.va&&s.ta.nextSibling===u?r.push(u):(s.ea.va&&a.push(s.ea.va),(c=f(t,s.ta,1)).collapsed||a.push(c))}if(0<r.length&&((i=i||{}).pa=new d(t.cloneNode(!1),r)),0<a.length){var h=t.cloneNode(!1);0<r.length&&(t.style.borderBottom&&(h.style.borderTop=t.style.borderBottom),t.style.textIndent&&(h.style.textIndent=null),t.style.paddingTop&&(h.style.paddingTop=null),t.style.marginTop&&(h.style.marginTop=null)),(i=i||{}).va=new d(h,a)}return!(i=i||{va:t}).pa&&n&&(i={pa:i.va}),i}(i,e,n);case"TABLE":return r(i,e,n);case"BR":case"TAB":case"DRAWING":case"PARAGRAPH-MARK":return n?{pa:t}:{va:t};case"BOOKMARK-START":return{pa:t};default:return console.warn("Pagination: unexpected node",t),n?{pa:t}:{va:t}}}function g(e,t){e instanceof Node?t.appendChild(e):e instanceof Range?t.appendChild(e.extractContents()):(e.Mt.forEach(function(t){g(t,e.Yr)}),t.appendChild(e.Yr))}t.ma=function(t,e,n){var i=[function(t,e,i){for(var n=t.querySelectorAll("img[data-img-path]"),r=[],a=0;a<n.length;a++){var s=n[a],o=s.attributes["data-img-path"].value,l=e.qi(o).then(function(n){return function(t){var e=BlobURL.createObjectURL(i,t);n.src=e}}(s));r.push(l)}return Promise.all(r).then(function(){})}(t,e,n),function(t,e,i){for(var n=t.querySelectorAll("div[data-metafile-path]"),r=[],a=0;a<n.length;a++){var s=n[a],o=s.attributes["data-metafile-path"].value,l=e.Ki(o).then(function(e,n){return function(t){try{n.endsWith(".emf")?e.innerHTML=WinGdi.wa(t,i):n.endsWith(".wmf")&&(e.innerHTML=WinGdi.ga(t,i))}catch(t){console.error("Cannot render metafile: ",t)}}}(s,o));r.push(l)}return Promise.all(r).then(function(){})}(t,e,n)];return function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)for(var n=e.firstElementChild;n;n=n.nextElementSibling){for(var i=document.createDocumentFragment();;){var r=p(n,new v(n),!0);if(!r)break;var a=[],s=document.createRange();if(s.selectNodeContents(n),s.setEndBefore(r.ta),s.collapsed||a.push(s),r.ea.pa&&a.push(r.ea.pa),0<a.length&&g(new d(n.cloneNode(!1),a),i),r.ea.va===r.ta);else{if(r.ea.va){var o=document.createDocumentFragment();g(r.ea.va,o),n.insertBefore(o,n.firstChild)}n.contains(r.ta)&&n.removeChild(r.ta)}if(n.firstElementChild&&"PARA"===n.firstElementChild.tagName){var l=n.firstElementChild;l.style.marginTop&&(l.style.marginTop=null),l.style.paddingTop&&(l.style.paddingTop=null)}}e.replaceChild(i,n)}}(t),function(t){for(var e=t.querySelectorAll("[data-positioned]"),n=0;n<e.length;n++){for(var i=e[n],r=getComputedStyle(i),a=i.getBoundingClientRect(),s=void 0,o=void 0,l=void 0,c=void 0,u=void 0,h=i.parentElement;h;h=h.parentElement)if(s||"PARA"!==h.tagName)if(o||"RUN"!==h.tagName)if(u||"TD"!==h.tagName){if("PAGE-REGION"===h.tagName){l=h.getBoundingClientRect(),v=getComputedStyle(h);var f=parseFloat(v.paddingLeft),d=parseFloat(v.paddingRight);c=x(l,-f,-parseFloat(v.paddingTop),-d,-parseFloat(v.paddingBottom));break}}else u=h.getBoundingClientRect();else o=h.getBoundingClientRect();else{s=h.getBoundingClientRect();var v=getComputedStyle(h),p=parseFloat(v.marginLeft),m=parseFloat(v.marginRight);s=x(s,p,parseFloat(v.marginTop),m,parseFloat(v.marginBottom))}u||(u=c);var w=void 0;if(i.hasAttribute("data-position-h")&&(w=JSON.parse(i.getAttribute("data-position-h"))),w){var g=void 0;if("margin"===w.Kt?g=c:"leftMargin"===w.Kt?g=y(l.left,l.top,c.left,l.bottom):"rightMargin"===w.Kt?g=y(c.right,l.top,l.right,l.bottom):"page"===w.Kt?g=l:"character"===w.Kt?g=o:"column"===w.Kt&&(g=u),g){var $=void 0;void 0!==w.te?$=g.left+P(w.te):w.Yt&&("center"===w.Yt?$=(g.left+g.right)/2-a.width/2:"left"===w.Yt||"inside"===w.Yt?$=g.left:"right"!==w.Yt&&"outside"!==w.Yt||($=g.right-a.width)),void 0!==$&&("absolute"===r.position?i.style.left=$-l.left+"px":i.style.left=$-a.left+"px")}}var _=void 0;if(i.hasAttribute("data-position-v")&&(_=JSON.parse(i.getAttribute("data-position-v"))),_&&(g=void 0,"margin"===_.Kt?g=c:"topMargin"===_.Kt?g=y(l.left,l.top,l.right,c.top):"bottomMargin"===_.Kt?g=y(l.left,c.bottom,l.right,l.bottom):"page"===_.Kt?g=l:"line"===_.Kt?g=o:"paragraph"===_.Kt&&(g=s),g)){var b=void 0;void 0!==_.te?b=g.top+P(_.te):_.Yt&&("center"===_.Yt?b=(g.top+g.bottom)/2-a.height/2:"top"===_.Yt||"inside"===_.Yt?b=g.top:"bottom"!==_.Yt&&"outside"!==_.Yt||(b=g.bottom-a.height)),void 0!==b&&("absolute"===r.position?i.style.top=b-l.top+"px":i.style.top=b-a.top+"px")}}}(t),Promise.all(i).then(function(){})}}(DocXRenderer||(DocXRenderer={}));var FontMetrics,DocXViewer=function(){function t(t,e,n,i){this.element=null,this.anchor=null,this.lifetime=t,this.url=e,this.container=n,this.linkResolver=i}return t.prototype.doScrollToAnchor=function(t){var e=this.element.querySelector("bookmark-start[data-name='"+CSS.escape(t)+"']");if(e){for(var n=e;"BOOKMARK-START"===n.tagName&&n.nextElementSibling;)n=n.nextElementSibling;ViewUtils.scrollIntoView(n,{position:0,onlyIfNeeded:!1,offset:8})}},t.prototype.scrollToAnchor=function(t){this.element?this.doScrollToAnchor(t):this.anchor=t},t.prototype.start=function(){var i=this,t=document.createElement("div");t.className="progress-container",ProgressElement.embed(t,!1);var r=new ElementCurtain(this.lifetime,this.container);function e(t,e){t instanceof Error&&(t=t.message),r.showTemplate("<div class='text-center p-3'>  <a class='h4 btn-link p-2' href='{{contentURL}}'>View raw contents</a>  <p class='text-gray text-small'>Cannot display content: {{message}}</p></div",{contentURL:e,message:t})}r.showElement(t),HttpClient.fetchBinary(this.url).then(function(t){DocXLoader.Yi(t).catch(function(t){throw console.log(t),new Error("The document is either malformed or not supported.")}).then(function(t){var e,n=new Set;try{e=DocXRenderer.Kr(t,i.linkResolver,function(t){return n.add(t)})}catch(t){throw console.log(t),new Error("The document is either malformed or not supported.")}n.forEach(function(t){return console.warn(t)}),e="<div class='docx-document'>"+e+"</div>",i.element=r.showHtml(e),DocXRenderer.ma(i.element,t,i.lifetime),i.anchor&&i.doScrollToAnchor(i.anchor)}).catch(function(t){e(t,i.url)})}).catch(function(t){e(t,i.url)})},t}();!function(t){var n={"adobe devanagari":{pr:2777,mr:2048},"agency fb":{pr:2425,mr:2048},algerian:{pr:2703,mr:2048},arial:{pr:2355,mr:2048},"arial black":{pr:2888,mr:2048},"arial narrow":{pr:2350,mr:2048},"arial rounded mt bold":{pr:2370,mr:2048},bahnschrift:{pr:2458,mr:2048},"bahnschrift condensed":{pr:2458,mr:2048},"bahnschrift light":{pr:2458,mr:2048},"bahnschrift light condensed":{pr:2458,mr:2048},"bahnschrift light semicondensed":{pr:2458,mr:2048},"bahnschrift semibold":{pr:2458,mr:2048},"bahnschrift semibold condensed":{pr:2458,mr:2048},"bahnschrift semicondensed":{pr:2458,mr:2048},"bahnschrift semilight":{pr:2458,mr:2048},"bahnschrift semilight condensed":{pr:2458,mr:2048},"baskerville old face":{pr:2336,mr:2048},"bauhaus 93":{pr:2991,mr:2048},"bell mt":{pr:2277,mr:2048},"berlin sans fb":{pr:2251,mr:2048},"berlin sans fb demi":{pr:2312,mr:2048},"bernard mt condensed":{pr:2432,mr:2048},"blackadder itc":{pr:2627,mr:2048},"bodoni mt":{pr:2456,mr:2048},"bodoni mt black":{pr:2392,mr:2048},"bodoni mt condensed":{pr:2410,mr:2048},"bodoni mt poster compressed":{pr:2350,mr:2048},"book antiqua":{pr:2545,mr:2048},"bookman old style":{pr:2404,mr:2048},"bookshelf symbol 7":{pr:256,mr:256},"bradley hand itc":{pr:2554,mr:2048},"britannic bold":{pr:2269,mr:2048},broadway:{pr:2319,mr:2048},"brush script mt":{pr:2512,mr:2048},"cabin sketch":{pr:1171,mr:1e3},caladea:{pr:1172,mr:1e3},calibri:{pr:2500,mr:2048},"calibri light":{pr:2500,mr:2048},"californian fb":{pr:2326,mr:2048},"calisto mt":{pr:2364,mr:2048},cambria:{pr:2401,mr:2048},"cambria math":{pr:2401,mr:2048},candara:{pr:2500,mr:2048},"candara light":{pr:2500,mr:2048},carlito:{pr:2500,mr:2048},castellar:{pr:2470,mr:2048},centaur:{pr:2335,mr:2048},century:{pr:2462,mr:2048},"century gothic":{pr:2511,mr:2048},"century schoolbook":{pr:2462,mr:2048},chiller:{pr:2363,mr:2048},"colonna mt":{pr:2165,mr:2048},comfortaa:{pr:1115,mr:1e3},"comfortaa light":{pr:1115,mr:1e3},"comic sans ms":{pr:2854,mr:2048},consolas:{pr:2398,mr:2048},constantia:{pr:2500,mr:2048},"cooper black":{pr:2349,mr:2048},"copperplate gothic bold":{pr:2279,mr:2048},"copperplate gothic light":{pr:2251,mr:2048},corbel:{pr:2500,mr:2048},"corbel light":{pr:2500,mr:2048},"courier new":{pr:2320,mr:2048},"curlz mt":{pr:2717,mr:2048},dubai:{pr:1688,mr:1e3},"dubai light":{pr:1688,mr:1e3},"dubai medium":{pr:1688,mr:1e3},ebrima:{pr:2781,mr:2048},"edwardian script itc":{pr:2414,mr:2048},elephant:{pr:1289,mr:1e3},"engravers mt":{pr:2385,mr:2048},"eras bold itc":{pr:2371,mr:2048},"eras demi itc":{pr:2353,mr:2048},"eras light itc":{pr:2322,mr:2048},"eras medium itc":{pr:2337,mr:2048},"felix titling":{pr:2395,mr:2048},fontawesome:{pr:1827,mr:1792},"footlight mt light":{pr:2162,mr:2048},forte:{pr:2781,mr:2048},"franklin gothic book":{pr:2322,mr:2048},"franklin gothic demi":{pr:2322,mr:2048},"franklin gothic demi cond":{pr:2322,mr:2048},"franklin gothic heavy":{pr:2322,mr:2048},"franklin gothic medium":{pr:2322,mr:2048},"franklin gothic medium cond":{pr:2322,mr:2048},"freestyle script":{pr:2412,mr:2048},"french script mt":{pr:2334,mr:2048},gabriola:{pr:6963,mr:4096},gadugi:{pr:2724,mr:2048},garamond:{pr:2304,mr:2048},georgia:{pr:2327,mr:2048},gigi:{pr:2830,mr:2048},"gill sans mt":{pr:2375,mr:2048},"gill sans mt condensed":{pr:2466,mr:2048},"gill sans mt ext condensed bold":{pr:2452,mr:2048},"gill sans ultra bold":{pr:2552,mr:2048},"gill sans ultra bold condensed":{pr:2550,mr:2048},"gloucester mt extra condensed":{pr:2382,mr:2048},"goudy old style":{pr:2458,mr:2048},"goudy stout":{pr:2802,mr:2048},haettenschweiler:{pr:2185,mr:2048},"harlow solid italic":{pr:2587,mr:2048},harrington:{pr:2408,mr:2048},"high tower text":{pr:2383,mr:2048},"hind siliguri":{pr:1617,mr:1e3},"hind siliguri light":{pr:1617,mr:1e3},"hind siliguri medium":{pr:1617,mr:1e3},"hind siliguri semibold":{pr:1617,mr:1e3},"hololens mdl2 assets":{pr:2048,mr:2048},impact:{pr:2498,mr:2048},"imprint mt shadow":{pr:2413,mr:2048},"informal roman":{pr:2458,mr:2048},"ink free":{pr:1238,mr:1e3},"javanese text":{pr:4650,mr:2048},jokerman:{pr:3097,mr:2048},"juice itc":{pr:2435,mr:2048},"kristen itc":{pr:2785,mr:2048},"kunstler script":{pr:2240,mr:2048},"leelawadee ui":{pr:2724,mr:2048},"leelawadee ui semilight":{pr:2724,mr:2048},"lucida bright":{pr:2412,mr:2048},"lucida calligraphy":{pr:2788,mr:2048},"lucida console":{pr:2048,mr:2048},"lucida fax":{pr:2412,mr:2048},"lucida handwriting":{pr:2825,mr:2048},"lucida sans":{pr:2412,mr:2048},"lucida sans typewriter":{pr:2406,mr:2048},"lucida sans unicode":{pr:3147,mr:2048},magneto:{pr:2481,mr:2048},"maiandra gd":{pr:2455,mr:2048},"malgun gothic":{pr:2724,mr:2048},"malgun gothic semilight":{pr:2724,mr:2048},marlett:{pr:2048,mr:2048},"matura mt script capitals":{pr:2725,mr:2048},"microsoft himalaya":{pr:2048,mr:2048},"microsoft jhenghei":{pr:2724,mr:2048},"microsoft jhenghei light":{pr:2724,mr:2048},"microsoft jhenghei ui":{pr:2601,mr:2048},"microsoft jhenghei ui light":{pr:2601,mr:2048},"microsoft new tai lue":{pr:2679,mr:2048},"microsoft phagspa":{pr:2620,mr:2048},"microsoft sans serif":{pr:2318,mr:2048},"microsoft tai le":{pr:2604,mr:2048},"microsoft yahei":{pr:2703,mr:2048},"microsoft yahei light":{pr:2724,mr:2048},"microsoft yahei ui":{pr:2601,mr:2048},"microsoft yahei ui light":{pr:2688,mr:2048},"microsoft yi baiti":{pr:2103,mr:2048},"mingliu-extb":{pr:1228,mr:1024},"mingliu_hkscs-extb":{pr:1228,mr:1024},mistral:{pr:2495,mr:2048},"modern no. 20":{pr:1070,mr:1e3},"mongolian baiti":{pr:2362,mr:2048},"monotype corsiva":{pr:2298,mr:2048},montserrat:{pr:1219,mr:1e3},"montserrat black":{pr:1219,mr:1e3},"montserrat extrabold":{pr:1219,mr:1e3},"montserrat extralight":{pr:1219,mr:1e3},"montserrat light":{pr:1219,mr:1e3},"montserrat medium":{pr:1219,mr:1e3},"montserrat semibold":{pr:1219,mr:1e3},"montserrat thin":{pr:1219,mr:1e3},"ms gothic":{pr:256,mr:256},"ms outlook":{pr:2124,mr:2048},"ms pgothic":{pr:256,mr:256},"ms reference sans serif":{pr:2489,mr:2048},"ms reference specialty":{pr:2514,mr:2048},"ms ui gothic":{pr:256,mr:256},"mv boli":{pr:3300,mr:2048},"myanmar text":{pr:3811,mr:2048},"niagara engraved":{pr:2193,mr:2048},"niagara solid":{pr:2193,mr:2048},"nirmala ui":{pr:2724,mr:2048},"nirmala ui semilight":{pr:2724,mr:2048},nsimsun:{pr:292,mr:256},"ocr a extended":{pr:2119,mr:2048},"old english text mt":{pr:2496,mr:2048},onyx:{pr:2350,mr:2048},"open sans":{pr:2789,mr:2048},"open sans condensed":{pr:2789,mr:2048},"open sans condensed light":{pr:2789,mr:2048},"open sans extrabold":{pr:2789,mr:2048},"open sans light":{pr:2789,mr:2048},"open sans semibold":{pr:2789,mr:2048},"palace script mt":{pr:1897,mr:2048},"palatino linotype":{pr:2763,mr:2048},papyrus:{pr:3223,mr:2048},parchment:{pr:2187,mr:2048},perpetua:{pr:2347,mr:2048},"perpetua titling mt":{pr:2423,mr:2048},playbill:{pr:2072,mr:2048},"pmingliu-extb":{pr:1228,mr:1024},"poor richard":{pr:2306,mr:2048},pristina:{pr:2685,mr:2048},"rage italic":{pr:2574,mr:2048},ravie:{pr:2728,mr:2048},roboto:{pr:2458,mr:2048},"roboto black":{pr:2458,mr:2048},"roboto condensed":{pr:2458,mr:2048},"roboto condensed light":{pr:2458,mr:2048},"roboto light":{pr:2458,mr:2048},"roboto medium":{pr:2458,mr:2048},"roboto mono":{pr:2458,mr:2048},"roboto mono light":{pr:2458,mr:2048},"roboto mono medium":{pr:2458,mr:2048},"roboto mono thin":{pr:2458,mr:2048},"roboto slab":{pr:2701,mr:2048},"roboto thin":{pr:2458,mr:2048},rockwell:{pr:2405,mr:2048},"rockwell condensed":{pr:2408,mr:2048},"rockwell extra bold":{pr:2405,mr:2048},sanpya:{pr:2347,mr:2e3},"script mt bold":{pr:2466,mr:2048},"segoe mdl2 assets":{pr:2048,mr:2048},"segoe print":{pr:3615,mr:2048},"segoe script":{pr:3244,mr:2048},"segoe ui":{pr:2724,mr:2048},"segoe ui black":{pr:2766,mr:2048},"segoe ui emoji":{pr:2724,mr:2048},"segoe ui historic":{pr:2724,mr:2048},"segoe ui light":{pr:2724,mr:2048},"segoe ui semibold":{pr:2724,mr:2048},"segoe ui semilight":{pr:2724,mr:2048},"segoe ui symbol":{pr:2724,mr:2048},"showcard gothic":{pr:2535,mr:2048},simsun:{pr:292,mr:256},"simsun-extb":{pr:256,mr:256},"sitka banner":{pr:2813,mr:2250},"sitka display":{pr:2813,mr:2250},"sitka heading":{pr:2813,mr:2250},"sitka small":{pr:2750,mr:2200},"sitka subheading":{pr:2813,mr:2250},"sitka text":{pr:2813,mr:2250},"snap itc":{pr:2632,mr:2048},stencil:{pr:2427,mr:2048},sylfaen:{pr:2697,mr:2048},symbol:{pr:2509,mr:2048},tahoma:{pr:2472,mr:2048},"tempus sans itc":{pr:2672,mr:2048},"times new roman":{pr:2355,mr:2048},"trebuchet ms":{pr:2378,mr:2048},"tw cen mt":{pr:2230,mr:2048},"tw cen mt condensed":{pr:2188,mr:2048},"tw cen mt condensed extra bold":{pr:2218,mr:2048},ubuntu:{pr:1149,mr:1e3},"ubuntu light":{pr:1149,mr:1e3},"ubuntu medium":{pr:1149,mr:1e3},"ubuntu mono":{pr:1e3,mr:1e3},verdana:{pr:2489,mr:2048},"viner hand itc":{pr:3306,mr:2048},vivaldi:{pr:2499,mr:2048},"vladimir script":{pr:2482,mr:2048},webdings:{pr:2048,mr:2048},"wide latin":{pr:2521,mr:2048},wingdings:{pr:2273,mr:2048},"wingdings 2":{pr:2159,mr:2048},"wingdings 3":{pr:2332,mr:2048},"yu gothic":{pr:3281,mr:2048},"yu gothic light":{pr:3281,mr:2048},"yu gothic medium":{pr:3281,mr:2048},"yu gothic ui":{pr:2724,mr:2048},"yu gothic ui light":{pr:2724,mr:2048},"yu gothic ui semibold":{pr:2724,mr:2048},"yu gothic ui semilight":{pr:2724,mr:2048},zwadobef:{pr:802,mr:1e3}};t.vr=function(t){var e=t.toLowerCase();return n.hasOwnProperty(e)?n[e]:void 0}}(FontMetrics||(FontMetrics={}));var ThemeParser,FontResolver=function(){function t(t){this.$a=new Map,this.Ji=t}return t.prototype._a=function(t){var e=this.Ji.get(t),n=[t];return e&&e.Ei&&(n=n.concat(e.Ei)),n.forEach(function(t){var e=t.toLowerCase();"calibri"===e?n.push("Carlito"):"cambria"===e?n.push("Caladea"):"symbol"===e?n.push("docx-MS-Symbol-fallback"):"wingdings"===e&&n.push("docx-MS-Wingdings-fallback")}),e&&"modern"===e.Di?n.push("monospace"):e&&"swiss"===e.Di?n.push("sans-serif"):e&&"roman"===e.Di?n.push("serif"):e&&"script"===e.Di?n.push("cursive"):e&&"decorative"===e.Di?n.push("fantasy"):n.push("sans-serif"),n.join(",")},t.prototype.gr=function(t){var e=this.$a.get(t);return void 0===e&&(e=this._a(t),this.$a.set(t,e)),e},t}(),RelationshipsResolver=function(){function t(t){this.er=t}return t.prototype.$r=function(t){var e=this.er.get(t);return e&&e.ba},t}();!function(t){function r(t,e){var n=e.typeface;if(void 0===n)throw XmlParser.A(t,"typeface");return{ya:n}}function i(i,t){return{p:function(t,e){if("a:latin"===t)return i.xa=r(t,e),XmlParser.m;if("a:cs"===t)return i.ot=r(t,e),XmlParser.m;if("a:ea"===t)return i.Pa=r(t,e),XmlParser.m;if("a:font"===t){var n=e.script;if(!n)throw XmlParser.A("a:font","script");return i.nt[n]=r(t,e),XmlParser.m}return null},_:function(){if(!i.xa)throw XmlParser.ne(t,"a:latin");if(!i.ot)throw XmlParser.ne(t,"a:cs");if(!i.Pa)throw XmlParser.ne(t,"a:ea")}}}function a(n){return{p:function(t){return"a:fontScheme"===t?(n.Sa={},e=n,{p:function(t){return"a:majorFont"===t?(e.Sa.Ha={xa:null,Pa:null,ot:null,nt:{}},i(e.Sa.Ha,"a:majorFont")):"a:minorFont"===t?(e.Sa.Ua={xa:null,Pa:null,ot:null,nt:{}},i(e.Sa.Ua,"a:minorFont")):null}}):"a:clrScheme"==t?XmlParser.m:"a:fmtScheme"==t?XmlParser.m:null;var e}}}(ThemeParser||(ThemeParser={})).tr=function(n){return{p:function(t){return"a:theme"===t?(e=n.Zr={},{p:function(t){return"a:themeElements"===t?a(e):"a:objectDefaults"===t?XmlParser.m:"a:extraClrSchemeLst"===t?XmlParser.m:"a:extLst"===t?XmlParser.m:null}}):null;var e},_:function(){if(!n.Zr)throw XmlParser.Ni("a:theme")}}}}();var WmlUtils,NumberingFormatter,ThemeResolver=function(){function t(t){t&&t.Sa?this.Ji={majorAscii:t.Sa.Ha.xa.ya,majorBidi:t.Sa.Ha.ot.ya,majorEastAsia:t.Sa.Ha.Pa.ya,majorHAnsi:t.Sa.Ha.xa.ya,minorAscii:t.Sa.Ua.xa.ya,minorBidi:t.Sa.Ua.ot.ya,minorEastAsia:t.Sa.Ua.Pa.ya,minorHAnsi:t.Sa.Ua.xa.ya}:this.Ji={},this.Ji.majorAscii=this.Ji.majorAscii||"Arial",this.Ji.majorBidi=this.Ji.majorBidi||"Arial",this.Ji.majorEastAsia=this.Ji.majorEastAsia||"Arial",this.Ji.majorHAnsi=this.Ji.majorHAnsi||"Arial",this.Ji.minorAscii=this.Ji.minorAscii||"Times New Roman",this.Ji.minorBidi=this.Ji.minorBidi||"Times New Roman",this.Ji.minorEastAsia=this.Ji.minorEastAsia||"Times New Roman",this.Ji.minorHAnsi=this.Ji.minorHAnsi||"Times New Roman"}return t.prototype.wr=function(t){var e={};return e.it=t.rt&&this.Ji[t.rt]||t.it,e.ot=t.lt&&this.Ji[t.lt]||t.ot,e.ct=t.ut&&this.Ji[t.ut]||t.ct,e.at=t.st&&this.Ji[t.st]||t.at,e},t}();!function(t){function i(t,e,n){var i=void 0!==e?e:t;void 0!==i&&n(i)}function r(t,e,n,i){void 0!==t&&void 0!==e?n(i(t,e)):void 0!==t?n(t):void 0!==e&&n(e)}function a(t,e){var n={};return e.it?n.it=e.it:t.it&&(n.it=t.it),e.rt?n.rt=e.rt:t.rt&&!e.it&&(n.rt=t.rt),e.at?n.at=e.at:t.at&&(n.at=t.at),e.st?n.st=e.st:t.st&&!e.at&&(n.st=t.st),e.ot?n.ot=e.ot:t.ot&&(n.ot=t.ot),e.lt?n.lt=e.lt:t.lt&&!e.ot&&(n.lt=t.lt),e.ct?n.ct=e.ct:t.ct&&(n.ct=t.ct),e.ut?n.ut=e.ut:t.ut&&!e.ct&&(n.ut=t.ut),n}function s(t,e){if(!e)return t;if(!t)return e;var n={};return i(t.T,e.T,function(t){return n.T=t}),i(t.N,e.N,function(t){return n.N=t}),i(t.Z,e.Z,function(t){return n.Z=t}),i(t.K,e.K,function(t){return n.K=t}),i(t.ot,e.ot,function(t){return n.ot=t}),i(t.gt,e.gt,function(t){return n.gt=t}),i(t.ka,e.ka,function(t){return n.ka=t}),i(t.ft,e.ft,function(t){return n.ft=t}),i(t.W,e.W,function(t){return n.W=t}),i(t.j,e.j,function(t){return n.j=t}),i(t.Ra,e.Ra,function(t){return n.Ra=t}),i(t.pt,e.pt,function(t){return n.pt=t}),i(t.Ia,e.Ia,function(t){return n.Ia=t}),i(t.Xa,e.Xa,function(t){return n.Xa=t}),i(t._t,e._t,function(t){return n._t=t}),i(t.q,e.q,function(t){return n.q=t}),i(t.La,e.La,function(t){return n.La=t}),i(t.wt,e.wt,function(t){return n.wt=t}),i(t.Ca,e.Ca,function(t){return n.Ca=t}),i(t.$t,e.$t,function(t){return n.$t=t}),i(t.vt,e.vt,function(t){return n.vt=t}),i(t.dt,e.dt,function(t){return n.dt=t}),i(t.G,e.G,function(t){return n.G=t}),i(t.O,e.O,function(t){return n.O=t}),i(t.ht,e.ht,function(t){return n.ht=t}),i(t.Y,e.Y,function(t){return n.Y=t}),i(t.Ba,e.Ba,function(t){return n.Ba=t}),i(t.J,e.J,function(t){return n.J=t}),i(t.tt,e.tt,function(t){return n.tt=t}),r(t.nt,e.nt,function(t){return n.nt=t},a),i(t.bt,e.bt,function(t){return n.bt=t}),i(t.yt,e.yt,function(t){return n.yt=t}),n}function o(t,e){var n={};return i(t.Ae,e.Ae,function(t){return n.Ae=t}),i(t.Te,e.Te,function(t){return n.Te=t}),i(t.Ne,e.Ne,function(t){return n.Ne=t}),n}function l(t,e){var n={};return i(t.Ce,e.Ce,function(t){return n.Ce=t}),i(t.Le,e.Le,function(t){return n.Le=t}),n}function c(t,e){var n={};return r(t.Be,e.Be,function(t){return n.Be=t},l),r(t.Xe,e.Xe,function(t){return n.Xe=t},l),i(t.Ve,e.Ve,function(t){return n.Ve=t}),i(t.Me,e.Me,function(t){return n.Me=t}),n}function u(t,e){return t.concat(e)}function n(t,e){return t===e||(e=e||{},((t=t||{}).Ce||!1)===(e.Ce||!1)&&t.un===e.un&&t.Va===e.Va&&t.Ma===e.Ma&&t.Da===e.Da)}function h(t,e){return t===e||(e=e||{et:"none"},(t=t||{et:"none"}).et===e.et&&n(t.K,e.K)&&(t.Fa||!1)===(e.Fa||!1)&&(t.La||!1)===(e.La||!1)&&(t.G||0)===(e.G||0)&&(t.Nn||0)===(e.Nn||0))}function f(t,e){var n={};return i(t.Ye,e.Ye,function(t){return n.Ye=t}),i(t.Te,e.Te,function(t){return n.Te=t}),i(t.tn,e.tn,function(t){return n.tn=t}),i(t.Ne,e.Ne,function(t){return n.Ne=t}),i(t.en,e.en,function(t){return n.en=t}),i(t.nn,e.nn,function(t){return n.nn=t}),n}function d(t,e){if(!e)return t;if(!t)return e;var n={};return i(t.Ie,e.Ie,function(t){return n.Ie=t}),r(t.dt,e.dt,function(t){return n.dt=t},c),i(t.De,e.De,function(t){return n.De=t}),i(t.Fe,e.Fe,function(t){return n.Fe=t}),r(t.Ee,e.Ee,function(t){return n.Ee=t},o),i(t.We,e.We,function(t){return n.We=t}),i(t.ze,e.ze,function(t){return n.ze=t}),i(t.je,e.je,function(t){return n.je=t}),i(t.Ge,e.Ge,function(t){return n.Ge=t}),r(t.Je,e.Je,function(t){return n.Je=t},u),i(t.Ke,e.Ke,function(t){return n.Ke=t}),i(t.wt,e.wt,function(t){return n.wt=t}),r(t.Ze,e.Ze,function(t){return n.Ze=t},f),i(t.in,e.in,function(t){return n.in=t}),i(t.an,e.an,function(t){return n.an=t}),i(t.sn,e.sn,function(t){return n.sn=t}),n}function v(t,e){var n={};return i(t.Ye,e.Ye,function(t){return n.Ye=t}),i(t.Te,e.Te,function(t){return n.Te=t}),i(t.tn,e.tn,function(t){return n.tn=t}),i(t.Ne,e.Ne,function(t){return n.Ne=t}),n}function p(t,e){var n={};return i(t.Ye,e.Ye,function(t){return n.Ye=t}),i(t.Te,e.Te,function(t){return n.Te=t}),i(t.tn,e.tn,function(t){return n.tn=t}),i(t.Ne,e.Ne,function(t){return n.Ne=t}),n}function m(t,e){if(!e)return t;if(!t)return e;var n={};return i(t.Sn,e.Sn,function(t){return n.Sn=t}),i(t.Hn,e.Hn,function(t){return n.Hn=t}),i(t.Un,e.Un,function(t){return n.Un=t}),i(t.wt,e.wt,function(t){return n.wt=t}),r(t.In,e.In,function(t){return n.In=t},v),i(t.Ln,e.Ln,function(t){return n.Ln=t}),i(t.Rn,e.Rn,function(t){return n.Rn=t}),r(t.Xn,e.Xn,function(t){return n.Xn=t},p),n}function w(t,e){if(!e)return t;if(!t)return e;var n={};return i(t.Bn,e.Bn,function(t){return n.Bn=t}),i(t.Vn,e.Vn,function(t){return n.Vn=t}),i(t.Fn,e.Fn,function(t){return n.Fn=t}),i(t.Dn,e.Dn,function(t){return n.Dn=t}),i(t.En,e.En,function(t){return n.En=t}),i(t.An,e.An,function(t){return n.An=t}),i(t.Mn,e.Mn,function(t){return n.Mn=t}),i(t.bt,e.bt,function(t){return n.bt=t}),i(t.yt,e.yt,function(t){return n.yt=t}),n}function g(t,e){var n={};return r(t.bn,e.bn,function(t){return n.bn=t},m),r(t.yn,e.yn,function(t){return n.yn=t},w),r(t.dn,e.dn,function(t){return n.dn=t},d),r(t.he,e.he,function(t){return n.he=t},s),n}function $(t,e){var n={};return i(t.Ye,e.Ye,function(t){return n.Ye=t}),i(t.Te,e.Te,function(t){return n.Te=t}),i(t.tn,e.tn,function(t){return n.tn=t}),i(t.Ne,e.Ne,function(t){return n.Ne=t}),i(t.Qn,e.Qn,function(t){return n.Qn=t}),i(t.Jn,e.Jn,function(t){return n.Jn=t}),n}function _(t,n){var i={};return["band1Horz","band1Vert","band2Horz","band2Vert","firstCol","firstRow","lastCol","lastRow","neCell","nwCell","seCell","swCell","wholeTable"].forEach(function(e){r(t[e],n[e],function(t){return i[e]=t},g)}),i}function b(t,e){if(!e)return t;if(!t)return e;var n={};return r(t.zn,e.zn,function(t){return n.zn=t},v),i(t.jn,e.jn,function(t){return n.jn=t}),i(t.Gn,e.Gn,function(t){return n.Gn=t}),i(t.We,e.We,function(t){return n.We=t}),i(t.qn,e.qn,function(t){return n.qn=t}),r(t.On,e.On,function(t){return n.On=t},$),i(t.Kn,e.Kn,function(t){return n.Kn=t}),i(t.ii,e.ii,function(t){return n.ii=t}),n}t.Ea=a,t.Aa=s,t.Ta=o,t.Br=function(t,e){return t===e||(e=e||{},((t=t||{}).Ae||0)===(e.Ae||0)&&(t.Te||0)===(e.Te||0)&&(t.Ne||0)===(e.Ne||0))},t.Na=n,t.Wa=f,t.Cr=function(t,e){return t===e||(e=e||{},h((t=t||{}).Ye,e.Ye)&&h(t.Te,e.Te)&&h(t.tn,e.tn)&&h(t.Ne,e.Ne)&&h(t.en,e.en)&&h(t.nn,e.nn))},t.za=d,t.Or=m,t.ja=w,t.Ga=g,t.Oa=b,t.Qa=function(t,e){if(!e)return t;if(!t)return e;var n={ve:null,Se:null};return r(t.he,e.he,function(t){return n.he=t},s),r(t.dn,e.dn,function(t){return n.dn=t},d),r(t.bn,e.bn,function(t){return n.bn=t},m),r(t.yn,e.yn,function(t){return n.yn=t},w),r(t.Ii,e.Ii,function(t){return n.Ii=t},_),r(t.$n,e.$n,function(t){return n.$n=t},b),n},t.Ja=function(t,e){if(!e)return t;if(!t)return e;var n={};return i(t.Oe,e.Oe,function(t){return n.Oe=t}),i(t.Qe,e.Qe,function(t){return n.Qe=t}),n}}(WmlUtils||(WmlUtils={})),function(t){function n(t,e){var n=e[(t-=1)%e.length],i=Math.floor(t/e.length);return i=i%30+1,n.repeat(i)}function i(t){if(t<1)return t.toString();for(var e=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i="",r=0;r<e.length;r++)for(;e[r]<=t;)t-=e[r],i+=n[r];return i}(NumberingFormatter||(NumberingFormatter={})).qa=function(t,e){if(t<=0)return console.warn("Unexpected value '"+t+"': a positive number was expected."),t+"";switch(e){case"decimal":return t+"";case"decimalZero":return t<10?"0"+t.toString():t.toString();case"lowerLetter":return n(t,"abcdefghijklmnopqrstuvwxyz");case"upperLetter":return n(t,"ABCDEFGHIJKLMNOPQRSTUVWXYZ");case"russianLower":return n(t,"");case"russianUpper":return n(t,"");case"lowerRoman":return i(t).toLowerCase();case"upperRoman":return i(t);case"hex":return t.toString(16).toUpperCase();case"chicago":return n(t,"*");default:return null}}}();var OpcParser,NumberingCounter=function(){function t(){this.Ka=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Za=[1,1,1,1,1,1,1,1,1]}return t.prototype.Ya=function(t){for(var e=0;e<t;e++)null==this.Ka[e]&&(this.Ka[e]=this.Za[e]);void 0!==this.Ka[t]?this.Ka[t]++:this.Ka[t]=this.Za[t]},t.prototype.vr=function(t){return void 0!==this.Ka[t]?this.Ka[t]:(console.warn("Unexpected ilvl ("+t+")"),-1)},t.prototype.es=function(t,e){this.Za[t]=e},t.prototype.ns=function(t){this.Ka[t]=void 0},t}(),NumberingState=function(){function t(t,e,n){this.ki=t,this.rs=e,this.as=n;for(var i=0;i<t.yi.length;i++)this.rs.es(i,this.ss(i))}return t.prototype.ss=function(t){var e=this.ki.yi[t];return void 0!==e.xi?e.xi:void 0!==e.Pi.mi?e.Pi.mi:1},t.prototype.ns=function(t){for(var e=t;e<this.ki.yi.length;e++){var n=this.ki.yi[e].Pi;(void 0===n.$i||t<n.$i)&&(this.rs.es(e,this.ss(e)),this.rs.ns(e))}},t.prototype.qa=function(t){var s=this,e=this.ki.yi[t].Pi.pi,o=this.ki.yi[t].Pi._i;return e.replace(/%([1-9])/g,function(t,e){var n=s.ki.yi[parseInt(e)-1].Pi,i=s.rs.vr(n.Qe),r=o?"decimal":n.wi,a=NumberingFormatter.qa(i,r);return a||(s.as&&s.as("Unsupported numFmt '"+r+"'."),i+"")})},t.prototype.Ya=function(t){this.rs.Ya(t)},t}(),NumberingProcessor=function(){function t(t){this.Ka=[],this.os=[],this.as=t}return t.prototype.Dr=function(t,e){var n=this.os[t.Oe];if(!n){var i=this.Ka[t.bi];i||(i=new NumberingCounter,this.Ka[t.bi]=i),n=new NumberingState(t,i,this.as),this.os[t.Oe]=n,void 0!==t.yi[e].xi&&n.ns(e)}return n.Ya(e),n.ns(e+1),n.qa(e)},t}();(OpcParser||(OpcParser={})).nr=function(e){var n=!1;return{p:function(t){return"Relationships"===t?(n=!0,r=e,{p:function(t,e){if("Relationship"===t){var n=e.Id,i={Se:n,ve:e.Type,ba:e.Target,ls:e.TargetMode};return r.set(n,i),XmlParser.m}return null}}):null;var r},_:function(){if(!n)throw XmlParser.Ni("Relationships")}}};var StyleResolver=function(){function t(t,e){this.us=new Map,this.fs=[],this.Mi=t,this.zi=e}return t.prototype.Rr=function(t){return t.dn&&t.dn.Ie||this.Mi.Ci},t.prototype.ds=function(t){return t.he&&t.he.q||this.Mi.Vi},t.prototype.vs=function(t){return t.$n&&t.$n.Wn||this.Mi.Bi},t.prototype.ps=function(t){return t.dn&&t.dn.he&&t.dn.he.q||this.Mi.Vi},t.prototype.ms=function(){return this.Mi.Li},t.prototype.ws=function(){return WmlUtils.Aa({G:20,O:20},this.Mi.Xi)},t.prototype.gs=function(t){return t&&t.Ge?{Oe:t.Ge.Oe,Qe:t.Ge.Qe||0}:null},t.prototype.$s=function(t){var e=this.Mi.Mi.get(t);if(!e)return console.warn("Cannot find style '"+t+"'."),{ve:"character",Se:"-"};for(var n=e.Ri,i=new Set;n;){var r=this.Mi.Mi.get(n);if(i.has(n))throw new Error("The document style '"+t+"' has a cyclic dependency.");i.add(n),e=WmlUtils.Qa(r,e),n=r.Ri}return e},t.prototype._s=function(t){var e=this.us.get(t);return e||(e=this.$s(t),this.us.set(t,e)),e},t.prototype.bs=function(t){for(var e=this.zi.Hi[t],n=new Set;e.Ui;){if(n.has(e.Ui))throw new Error("The document numbering '"+t+"' has a cyclic dependency.");n.add(e.Ui);var i=this._s(e.Ui),r=this.gs(i.dn);if(r&&r.Oe){var a=this.zi.ki[r.Oe];e=this.zi.Hi[a.bi]}else console.warn("Style referenced by numStyleLink does not contain a numbering id.")}return e},t.prototype.ys=function(t){var e=this.zi.ki[t],n=this.bs(e.bi),i={Oe:e.Oe,bi:e.bi,yi:[]};return n.Si.forEach(function(t){i.yi[t.Qe]={Qe:t.Qe,Pi:t}}),e.yi.forEach(function(t){void 0===i.yi[t.Qe]&&(i.yi[t.Qe]={Qe:t.Qe}),void 0!==t.xi&&(i.yi[t.Qe].xi=t.xi),t.Pi&&(i.yi[t.Qe].Pi=t.Pi)}),i},t.prototype.xs=function(t){var e=this.fs[t];return e||(e=this.ys(t),this.fs[t]=e),e},t}();function DocumentLevelResolver(p){function u(n,t){var i={};function e(t){var e=n[t];e&&(i=WmlUtils.Ga(i,e))}return e("wholeTable"),void 0!==t&&(32&t&&e("band1Horz"),16&t&&e("band2Horz"),128&t&&e("band1Vert"),64&t&&e("band2Vert"),512&t&&e("firstCol"),256&t&&e("lastCol"),2048&t&&e("firstRow"),1024&t&&e("lastRow"),8&t&&e("neCell"),4&t&&e("nwCell"),2&t&&e("seCell"),1&t&&e("swCell")),i}function h(e,n,i,t,r,a,s){var o=s.yn&&s.yn.Cn,l=t;if(r){var c=u(r,o);l=WmlUtils.ja(l,c.yn)}return l=WmlUtils.ja(l,s.yn),a=WmlUtils.Oa(a,s.xn),{jr:function(t){return function(t,e,n,i,r,a){if(r){var s=u(r,(o=a.bn&&a.bn.Cn,l=i,void 0===o?l:void 0===l?o:o|l));n=WmlUtils.Or(n,s.bn),t=WmlUtils.za(t,s.dn),e=WmlUtils.Aa(e,s.he)}var o,l;return n=WmlUtils.Or(n,a.bn),{Jr:function(){return f(t,e,!0)},Qr:function(){return n}}}(e,n,i,o,r,t)},Gr:function(){return a},zr:function(){return l}}}function f(f,d,v){return{Ar:function(t){return function(t,e,n){var i=p.vs(t),r=i&&p._s(i),a=r&&r.$n,s=r&&r.bn,o=r&&r.yn,l=r&&r.Ii;if(r&&(e=WmlUtils.za(e,r.dn),n=WmlUtils.Aa(n,r.he)),(a=WmlUtils.Oa(a,t.$n))&&a.zn){var c={In:a.zn};s=WmlUtils.Or(s,c)}return{Wr:function(t){return h(e,n,s,o,l,a,t)},Tr:function(){return a}}}(t,p.ms(),p.ws())},Ir:function(t){return i=t,e=f,r=d,n=v,a=p.Rr(i),s=a&&p._s(a),c=l=o=null,u=p.gs(i.dn),h=null,s&&((l=p.gs(s.dn))&&l.Oe&&(c=(o=p.xs(l.Oe)).yi[l.Qe].Pi.dn,u||(e=WmlUtils.za(e,c))),e=WmlUtils.za(e,s.dn),r=WmlUtils.Aa(r,s.he)),u&&((l=WmlUtils.Ja(l,u))&&l.Oe?(o=p.xs(l.Oe),c=WmlUtils.za(c,o.yi[l.Qe].Pi.dn)):l&&0===l.Oe&&(o=null,c=WmlUtils.za(c,{Ee:{Te:0,Ae:0}})),c&&(e=WmlUtils.za(e,c))),e=(e=WmlUtils.za(e,i.dn))||{},n&&e.De&&(e=WmlUtils.za(e,{De:!1})),o&&l&&(h={ki:o,Pi:o.yi[l.Qe].Pi}),{Ur:function(){return e},Hr:function(t){var e=p.ds(t),n=e&&p._s(e),i=r;return n&&(i=WmlUtils.Aa(i,n.he)),i=WmlUtils.Aa(i,t.he)},Vr:function(){return h},Er:function(){var t=p.ps(i),e=t&&p._s(t),n=r;return s&&(n=WmlUtils.Aa(n,s.he)),e&&(n=WmlUtils.Aa(n,e.he)),n=WmlUtils.Aa(n,i.dn&&i.dn.he)},Mr:function(){var t=p.ps(i),e=t&&p._s(t),n=r;return s&&(n=WmlUtils.Aa(n,s.he)),e&&(n=WmlUtils.Aa(n,e.he)),n=WmlUtils.Aa(n,i.dn&&i.dn.he),n=WmlUtils.Aa(n,h&&h.Pi&&h.Pi.he)},yr:function(t){var e=t.ve||3;return n&&1===e?null:n&&2===e?null:e}};var i,e,r,n,a,s,o,l,c,u,h},Rr:function(t){return p.Rr(t)}}}return f(p.ms(),p.ws(),!1)}var XmlParser,TabStopResolver=function(){function t(){}return t.Fr=function(t){return t.Ee&&t.Ee.Ae&&t.Ee.Ae<0?-t.Ee.Ae:null},t}();!function(l){function c(t){return t.nodeName}function u(t){for(var e={},n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);e[i.name]=i.value}return e}function h(t){for(var e="";t.parentNode;)e.length&&(e="/"+e),e=c(t)+e,t=t.parentNode;return e}l.m={p:function(){return l.m}},l.Ps={p:function(){return null}},l.Zt=function(t){var e="";return{g:function(t){e+=t},_:function(){t(e)}}},l.A=function(t,e){return new Error("Parsing error: The '<"+t+">' XML element did not include the expected '"+e+"' attribute.")},l.ne=function(t,e){return new Error("Parsing error: The '<"+t+">' XML element did not include the expected '<"+e+">' element.")},l.Ni=function(t){return new Error("Parsing error: The XML document did not include the expected '<"+t+">' element.")},l.Yi=function(t,e,o){e.$&&e.$(c(t),{}),function t(e,n){for(var i=e.firstChild;i;i=i.nextSibling)if(i.nodeType===Node.ELEMENT_NODE){var r=c(i),a=u(i),s=n.p&&n.p(r,a);s===l.m||(s!==l.Ps||i.hasChildNodes())&&(s?(s.$&&s.$(r,a),t(i,s)):o&&o("Unsupported node "+h(i)+"."))}else i.nodeType===Node.TEXT_NODE&&n.g&&n.g(i.nodeValue);n._&&n._()}(t,e)}}(XmlParser||(XmlParser={}));var HttpClient,Icons,Linguist,PdfViewer,FindFile=function(){function n(t,e,i){var r=this;this.url=e,this.filter=null,this.updatePending=!1,this.worker=new Worker(n.workerSrc),t.addAction(function(){return r.worker.terminate()}),this.worker.onmessage=function(t){var e=t.data;if(void 0===e.error){var n=e.result;n.incremental?n.filter===r.filter&&i(n):n.filter===r.filter?(r.updatePending=!1,i(n)):r.worker.postMessage({url:r.url,filter:r.filter,postUpdate:!0})}else i(new Error(e.error))}}return n.prototype.search=function(t){this.filter=t,this.worker.postMessage({url:this.url,filter:this.filter,postUpdate:!this.updatePending}),this.updatePending=!0},n}(),FindFileViewer=function(){function t(t,e,n,i,r){this.elem=t,this.lifetime=e,this.repoPathRev=n,this.svnNode=i,this.router=r,this.resultsContainer=this.elem.querySelector(".results"),this.input=this.elem.querySelector("input"),this.currentFilter=""}return t.prototype.start=function(){var e=this;this.elem.addEventListener("keydown",function(t){return e.onKeyDown(t)}),this.input.addEventListener("input",function(t){return e.onInput(t)})},t.prototype.getItemCount=function(){return this.resultsContainer.querySelectorAll("[data-index]").length},t.prototype.getSelectedItem=function(){return this.resultsContainer.querySelector(".navigation-focus")},t.prototype.getSelectedItemIdx=function(){var t=this.getSelectedItem();return t?parseInt(t.getAttribute("data-index"),10):-1},t.prototype.setSelectedIdx=function(t){var e=this.resultsContainer.querySelector(".navigation-focus");if(e&&e.classList.remove("navigation-focus"),0<=t){var n=this.resultsContainer.querySelector("[data-index='"+t.toString()+"']");n&&n.classList.add("navigation-focus")}},t.prototype.updateView=function(t,e,n,i,r,a){if(a)return this.resultsContainer.innerHTML=Handlebars.compile("<div class='Box-footer toast px-3 py-3 d-flex flex-items-center flex-justify-center'>  <span class='text-gray-light'><b>Error:</b> {{error}}</span></div>")({error:a}),void this.resultsContainer.classList.remove("border-0");if(t){var s=Handlebars.compile("{{#each items}}  <li class='Box-row py-0 px-1 Box-row--focus-blue' data-index='{{@index}}'>    <a class='no-underline p-2 d-flex' tabindex='-1' href='{{href}}'>      <span class='icon'>{{#if isDir}}{{icon-file-directory}}{{else}}{{icon-file}}{{/if}}</span>      <span class='name ml-2 d-inline-flex flex-justify-end'>{{name}}</span>    </a>  </li>{{else}}  {{#if incremental}}  {{else}}    <div class='Box-footer toast px-3 py-3 d-flex flex-items-center flex-justify-center'>      <span class='text-gray-light'>No matching items found.</span>    </div>  {{/if}}{{/each}}{{#if hitResultLimit}}  <div class='Box-footer Box-row--gray rounded-0 text-center px-3 pt-1 pb-2'>    <span class='text-gray-light f6'>Showing only the top {{items.length}} matches.</span>  </div>{{else}}  {{#if incremental}}    <div class='Box-footer toast px-3 py-3 d-flex flex-items-center flex-justify-center'>      <span class='progress-container p-0'></span>      <span class='text-gray-light ml-2'>Finding matching items</span>    </div>  {{/if}}  {{#if hitSearchLimit}}    <div class='Box-footer text-center px-3 py-3'>      <span class='text-gray-light'>{{icon-info}}</span>      <span class='text-gray-light f6 ml-1'>Search scope is too wide, results may be incomplete.</span>      <a class='f6' href='https://www.visualsvn.com/go/2214/'>Learn more</a>    </div>  {{/if}}{{/if}}"),o=this.getSelectedItemIdx();this.resultsContainer.innerHTML=s({items:t,incremental:e,hitSearchLimit:n,hitResultLimit:i,error:a}),this.resultsContainer.classList.remove("border-0");var l=this.resultsContainer.querySelector(".progress-container");l&&(null===r?ProgressElement.embed(l,!1):ProgressElement.embed(l,!0).setDeterminateProgress(r)),0<=o?this.setSelectedIdx(o):this.setSelectedIdx(0)}else this.resultsContainer.innerHTML="",this.resultsContainer.classList.add("border-0")},t.prototype.renderItem=function(t){var e=RepoPath.join(this.repoPathRev.path,t.parentRelpath),n=RepoPath.join(e,t.name),i=new HtmlWriter;t.parentRelpath&&(i.s(t.parentRelpath),i.s("/"));for(var r=0,a=t.nameSpans;r<a.length;r++){var s=a[r];s.isMatch?(i.t(1),i.s(s.text),i.o(1)):i.s(s.text)}return{name:new Handlebars.SafeString(i.v()),isDir:t.isDir,href:this.router.build(new RepoViewPlace(this.repoPathRev.repo,this.repoPathRev.rev,n))}},t.prototype.onInput=function(t){var e=this,n=this.input.value.trim();if(n!==this.currentFilter){if(!this.findFile){this.findFile=new FindFile(this.lifetime,this.svnNode.checkedInURL,function(t){t instanceof Error?e.updateView([],!1,!1,!1,0,t.message):e.updateView(0===t.filter.length?null:t.items.map(function(t){return e.renderItem(t)}),t.incremental,t.hitSearchLimit,t.hitResultLimit,t.progress,null)})}this.findFile.search(n),this.currentFilter=n,this.setSelectedIdx(0)}},t.prototype.onKeyDown=function(t){if("Escape"===t.key||"Esc"===t.key){t.preventDefault(),this.input.value="",this.currentFilter="",this.updateView(null,!1,!1,!1,0,null);var e=document.activeElement;null!==e&&e.blur()}else if("Down"===t.key||"ArrowDown"===t.key){t.preventDefault();var n=this.getItemCount();(i=this.getSelectedItemIdx())<n-1&&this.setSelectedIdx(i+1)}else if("Up"===t.key||"ArrowUp"===t.key){var i;t.preventDefault(),0<(i=this.getSelectedItemIdx())&&this.setSelectedIdx(i-1)}else if("PageDown"===t.key){t.preventDefault(),0<(n=this.getItemCount())&&this.setSelectedIdx(n-1)}else if("PageUp"===t.key)t.preventDefault(),this.setSelectedIdx(0);else if("Enter"===t.key){t.preventDefault();var r=this.getSelectedItem();r&&r.querySelector("a").click()}},t}(),HistoryViewer=function(){function s(t,e,n,i,r){this.lifetime=t,this.curtain=new ElementCurtain(t,e),this.repoPathRev=n,this.router=i,this.svnClient=r}return s.prototype.start=function(t){var e=document.createElement("div");e.className="progress-container",ProgressElement.embed(e,!1),this.curtain.showElement(e),this.showLog(t)},s.prototype.showLog=function(r){for(var a=this;this.itemContainer&&this.itemContainer.childElementCount>r;)this.itemContainer.removeChild(this.itemContainer.lastChild),this.showMoreElement.classList.remove("d-none");if(void 0===this.itemContainer||r>this.itemContainer.childElementCount){var t={limit:r+1,startRevision:this.repoPathRev.rev,endRevision:0,discoverChangedPaths:!1};this.showMoreElement&&(this.showMoreElement.innerText="Loading..."),this.svnClient.getLog(this.lifetime,this.repoPathRev,t).done(function(t){var e;t.length>r&&(t.pop(),e=a.router.build(new HistoryPlace(a.repoPathRev.repo,a.repoPathRev.rev,a.repoPathRev.path,r+HistoryPlace.DEFAULT_LIMIT))),a.itemContainer&&(t=t.slice(a.itemContainer.childElementCount));var n=t.map(function(t){return{node:t,url:a.router.build(new CommitDetailsPlace(a.repoPathRev.repo,t.revision,a.repoPathRev.rev,a.repoPathRev.path))}});if(a.itemContainer)a.itemContainer.innerHTML+=s.renderItems(n),e?(a.showMoreElement.href=e,a.showMoreElement.classList.remove("d-none")):a.showMoreElement.classList.add("d-none");else{var i=a.curtain.showTemplate("<div id='history-list' class='table' data-collapse-navbar-border>  <div class='thead bg-gray'>    <span class='table-row'>      <span class='table-cell'>Rev</span >      <span class='table-cell'>Author</span >      <span class='table-cell'>Date</span >      <span class='table-cell'>Message</span>    </span>  </div>  <div class='tbody'>{{itemsHtml}}</div>  <a {{#if showMoreLink}}href='{{showMoreLink}}'{{/if}} class='{{#if showMoreLink}}{{else}}d-none{{/if}} show-more text-center bg-gray-light p-2 border-bottom'>  Show more  </a></div>",{itemsHtml:new Handlebars.SafeString(s.renderItems(n)),showMoreLink:e});a.itemContainer=i.querySelector(".tbody"),a.showMoreElement=i.querySelector(".show-more")}}).fail(function(t,e){a.curtain.showTemplate("<div class='Box p-4 text-center' data-collapse-navbar-border>  <h5>{{error}}</h5></div>",{error:e}),a.itemContainer=void 0,a.showMoreElement=void 0}).always(function(){a.showMoreElement&&(a.showMoreElement.innerText="Show more")})}},s.renderItems=function(t){for(var e=new HtmlWriter,n=0,i=t;n<i.length;n++){var r=i[n];e.t(0),e.i(2,"table-row"),e.i(28,r.url),e.t(24),e.i(2,"table-cell rev"),e.s("r"+r.node.revision),e.o(24),e.t(24),e.i(2,"table-cell author"),r.node.author&&(e.i(41,r.node.author),e.s(r.node.author)),e.o(24),e.t(24),e.i(2,"table-cell date"),r.node.date?e.s(r.node.date.toLocaleString()):e.s("(no date)"),e.o(24),e.t(24),e.i(2,"table-cell msg"),e.t(7),r.node.message&&(e.i(41,r.node.message),e.s(r.node.message)),e.o(7),e.o(24),e.o(0)}return e.v()},s}(),HtmlWriter=function(){function n(){this.Ss="",this.Hs=!1}return n.prototype.Us=function(){this.Hs&&(this.Ss+=">",this.Hs=!1)},n.prototype.s=function(t){var e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");this.Us(),this.Ss+=e},n.prototype.l=function(t){this.Us(),this.Ss+=t},n.prototype.ks=function(){this.Us(),this.Ss+="&nbsp;"},n.prototype._r=function(){this.Us(),this.Ss+="&#9;"},n.prototype.xr=function(){this.Us(),this.Ss+="<br>"},n.prototype.Sr=function(){this.Us(),this.Ss+="&#8209;"},n.prototype.u=function(){this.Us(),this.Ss+="&#8203;"},n.prototype.t=function(t){this.Us(),this.Ss+="<"+n.Rs[t],this.Hs=!0},n.prototype.o=function(t){this.Us(),this.Ss+="</"+n.Rs[t]+">"},n.prototype.i=function(t,e){e=e.replace(/&/g,"&amp;").replace(/'/g,"&#039;").replace(/\n/g,"&#10;").replace(/\r/g,"&#13;"),this.Ss+=" "+n.Is[t]+"='"+e+"'"},n.prototype.Pr=function(t){this.Us(),this.Ss+="&#x"+t.toString(16)+";"},n.prototype.v=function(){return this.Us(),this.Ss},n.Rs=["a","b","bookmark-start","button","col","colgroup","del","div","drawing","dstrike","g","i","image","img","ins","num","page-break","page-region","para","paragraph-mark","path","rect","run","section","span","strike","sub","sup","svg","tab","table","td","text","thead","tr","txbx"],n.Is=["aria-details","aria-label","class","colspan","d","data-author","data-color-id","data-date","data-img-path","data-line-number","data-log-message","data-metafile-path","data-name","data-pg-break-after","data-pg-break-before","data-pg-break-inside","data-positioned","data-position-h","data-position-v","dx","dy","fill","fill-rule","font-family","font-size","font-style","font-weight","height","href","id","preserveAspectRatio","rowspan","src","stroke","stroke-join","stroke-linecap","stroke-miterlimit","stroke-width","style","text-anchor","text-decoration","title","transform","vector-effect","width","wingdi-op","x","xlink:href","y","viewBox","xmlns","xmlns:xlink"],n}();(HttpClient||(HttpClient={})).fetchBinary=function(i){return new Promise(function(t,e){var n=new XMLHttpRequest;n.open("GET",i,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status?n.response?t(new Uint8Array(n.response)):e("HTTP request completed without an expected response."):e("Unexpected HTTP status "+n.status+" '"+n.statusText+"'.")},n.onerror=function(){e("HTTP request failed.")},n.send()})},function(t){var l={"level-up":{width:8,height:16,geometry:'<path fill-rule="evenodd" d="M7.3,5.2L5.1,2.5C5,2.4,5,2.3,4.8,2.3c-0.2,0-0.2,0.1-0.3,0.2L2.3,5.2c0,0.1,0,0.3,0,0.4c0.1,0.2,0.2,0.3,0.3,0.3h1.3v4.6h-2c-0.1,0-0.2,0-0.2,0.1l-1.1,1.2c-0.1,0.1-0.1,0.2,0,0.3c0,0.1,0.1,0.2,0.2,0.2h4.7c0.1,0,0.1,0,0.2-0.1s0.1-0.1,0.1-0.2V6h1.3c0.2,0,0.3-0.1,0.4-0.3C7.5,5.5,7.5,5.3,7.3,5.2z"/>'},clippy:{width:14,height:16,geometry:'<path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/>'},file:{width:14,height:16,geometry:'<path fill-rule="evenodd" d="M7,5H3V4h4V5z M3,8h7V7H3V8z M3,10h7V9H3V10z M3,12h7v-1H3V12z M13,4.5V14c0,0.6-0.4,1-1,1H2c-0.5,0-1-0.4-1-1V2c0-0.5,0.5-1,1-1h7.5L13,4.5z M12,5L9,2H2v12h10V5z"/>'},"file-directory":{width:14,height:16,geometry:'<path fill-rule="evenodd" d="M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"/>'},database:{width:12,height:16,geometry:'<path fill-rule="evenodd" d="M6 15c-3.31 0-6-.9-6-2v-2c0-.17.09-.34.21-.5.67.86 3 1.5 5.79 1.5s5.12-.64 5.79-1.5c.13.16.21.33.21.5v2c0 1.1-2.69 2-6 2zm0-4c-3.31 0-6-.9-6-2V7c0-.11.04-.21.09-.31.03-.06.07-.13.12-.19C.88 7.36 3.21 8 6 8s5.12-.64 5.79-1.5c.05.06.09.13.12.19.05.1.09.21.09.31v2c0 1.1-2.69 2-6 2zm0-4c-3.31 0-6-.9-6-2V3c0-1.1 2.69-2 6-2s6 .9 6 2v2c0 1.1-2.69 2-6 2zm0-5c-2.21 0-4 .45-4 1s1.79 1 4 1 4-.45 4-1-1.79-1-4-1z"/>'},home:{width:16,height:16,geometry:'<path fill-rule="evenodd" d="M13.4,8.2L8,3.8L2.6,8.3l0,0l0,0v4.2c0,0.2,0.1,0.3,0.2,0.4c0.1,0,0.3,0.1,0.3,0.1h3.6V9.4h2.4V13h3.6c0.2,0,0.3-0.1,0.4-0.2c0.1-0.1,0.2-0.3,0.2-0.4L13.4,8.2L13.4,8.2z M15.6,7c0-0.1,0-0.2-0.1-0.2l-2.1-1.7V1.3c0-0.1,0-0.2-0.1-0.2C13.2,1,13.2,1,13.1,1h-1.8c-0.1,0-0.2,0-0.2,0.1C11,1.2,11,1.2,11,1.3v1.8L8.8,1.2C8.5,1.1,8.3,1,8,1S7.5,1.1,7.2,1.2L0.5,6.9C0.4,7,0.4,7,0.4,7c0,0.1,0,0.2,0.1,0.2L1.1,8c0.1,0.1,0.1,0.1,0.2,0.1s0.2,0,0.2-0.1L8,2.6L14.6,8c0.1,0,0.1,0.1,0.2,0.1l0,0c0.1,0,0.2,0,0.2-0.1l0.6-0.7C15.6,7.2,15.6,7.1,15.6,7z"/>'},"external-link":{width:16,height:16,geometry:'<path fill-rule="evenodd" d="M12.1,8.1c0,0-0.1-0.1-0.2-0.1h-0.5c-0.1,0-0.1,0-0.2,0.1c0,0-0.1,0.1-0.1,0.2v2.5c0,0.3-0.1,0.6-0.4,0.9C10.6,11.8,10.3,12,10,12H3.6c-0.3,0-0.6-0.1-0.9-0.4s-0.4-0.5-0.4-0.9V4.3c0-0.3,0.1-0.6,0.4-0.9S3.2,3,3.6,3H9c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2S9.1,2.1,9,2.1H3.6C3,2.1,2.5,2.4,2,2.8c-0.4,0.4-0.6,1-0.6,1.6v6.4c0,0.6,0.2,1.1,0.6,1.6S3,13,3.6,13H10c0.6,0,1.1-0.2,1.6-0.6s0.6-1,0.6-1.6V8.3C12.2,8.2,12.2,8.1,12.1,8.1z M15,1.3c-0.1-0.1-0.2-0.1-0.3-0.1h-3.9c-0.1,0-0.2,0-0.3,0.1s-0.1,0.2-0.1,0.3s0,0.2,0.1,0.3l1.4,1.4l-5,5C6.8,8.4,6.8,8.4,6.8,8.5c0,0.1,0,0.1,0.1,0.2l0.9,0.9C7.9,9.7,7.9,9.7,8,9.7s0.1,0,0.2-0.1l5-5L14.6,6c0.1,0.1,0.2,0.1,0.3,0.1s0.2,0,0.3-0.1s0.1-0.2,0.1-0.3V1.6C15.1,1.5,15.1,1.4,15,1.3z"/>'},list:{width:16,height:16,geometry:'<rect x="1" y="2" width="2" height="2"/><rect x="4" y="2" width="11" height="2"/><rect x="1" y="5" width="2" height="2"/><rect x="4" y="5" width="11" height="2"/><rect x="1" y="8" width="2" height="2"/><rect x="4" y="8" width="11" height="2"/><rect x="1" y="11" width="2" height="2"/><rect x="4" y="11" width="11" height="2"/>'},history:{width:16,height:16,geometry:'<path fill-rule="evenodd" d="M13.6,4.6c-0.3-0.7-0.8-1.4-1.3-1.9s-1.2-1-1.9-1.3C9.6,1.1,8.8,0.9,8,0.9S6.5,1,5.8,1.3s-1.4,0.8-2,1.3l-1-1C2.6,1.4,2.5,1.4,2.3,1.5C2,1.6,1.9,1.7,1.9,1.9v3.5c0,0.1,0,0.3,0.1,0.4C2.2,5.9,2.3,6,2.4,6H6c0.2,0,0.4-0.1,0.5-0.3c0.1-0.2,0.1-0.4-0.1-0.5L5.3,4C5.6,3.7,6,3.4,6.5,3.2S7.5,3,8,3s1.1,0.1,1.6,0.3s0.9,0.5,1.3,0.9c0.4,0.4,0.7,0.8,0.9,1.3S12,6.5,12,7s-0.1,1.1-0.3,1.6s-0.5,0.9-0.9,1.3c-0.4,0.4-0.8,0.7-1.3,0.9S8.5,11,8,11c-0.6,0-1.2-0.1-1.8-0.4c-0.6-0.3-1-0.7-1.4-1.2c0-0.1-0.1-0.1-0.2-0.1s-0.1,0-0.2,0.1l-1.1,1.1c0,0-0.1,0.1-0.1,0.2c0,0.1,0,0.1,0.1,0.2c0.6,0.7,1.3,1.2,2.1,1.6s1.7,0.6,2.6,0.6c0.8,0,1.6-0.2,2.4-0.5c0.7-0.3,1.4-0.8,1.9-1.3s1-1.2,1.3-1.9s0.5-1.5,0.5-2.4S13.9,5.4,13.6,4.6z M8.9,4.5c0,0-0.1-0.1-0.2-0.1H8.3c-0.1,0-0.1,0-0.2,0.1S8,4.7,8,4.7v2.8H6.2c-0.1,0-0.1,0-0.2,0.1s0,0.1,0,0.2v0.5c0,0.1,0,0.1,0.1,0.2s0.1,0.1,0.2,0.1h2.5c0.1,0,0.1,0,0.2-0.1s0-0.2,0-0.2V4.7C9,4.7,9,4.6,8.9,4.5z"/>'},"chevron-left":{width:8,height:16,geometry:'<path fill-rule="evenodd" d="M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"/>'},"chevron-right":{width:8,height:16,geometry:'<path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"/>'},"chevron-up":{width:10,height:16,geometry:'<path fill-rule="evenodd" d="M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z"/>'},"chevron-down":{width:10,height:16,geometry:'<path fill-rule="evenodd" d="M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z"/>'},"triangle-up":{width:12,height:16,geometry:'<path fill-rule="evenodd" d="M12 11L6 5l-6 6h12z"/>'},"triangle-down":{width:12,height:16,geometry:'<path fill-rule="evenodd" d="M0 5l6 6 6-6H0z"/>'},versions:{width:14,height:16,geometry:'<path fill-rule="evenodd" d="M13 3H7c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zm-1 8H8V5h4v6zM4 4h1v1H4v6h1v1H4c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1zM1 5h1v1H1v4h1v1H1c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1z"/>'},book:{width:16,height:16,geometry:'<path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/>'},x:{width:12,height:16,geometry:'<path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/>'},key:{width:14,height:16,geometry:'<path fill-rule="evenodd" d="M12.83 2.17C12.08 1.42 11.14 1.03 10 1c-1.13.03-2.08.42-2.83 1.17S6.04 3.86 6.01 5c0 .3.03.59.09.89L0 12v1l1 1h2l1-1v-1h1v-1h1v-1h2l1.09-1.11c.3.08.59.11.91.11 1.14-.03 2.08-.42 2.83-1.17S13.97 6.14 14 5c-.03-1.14-.42-2.08-1.17-2.83zM11 5.38c-.77 0-1.38-.61-1.38-1.38 0-.77.61-1.38 1.38-1.38.77 0 1.38.61 1.38 1.38 0 .77-.61 1.38-1.38 1.38z"/>'},alert:{width:16,height:16,geometry:'<path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/>'},"kebab-vertical":{width:3,height:16,geometry:'<path fill-rule="evenodd" d="M0 2.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm0 5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zM1.5 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>'},info:{width:14,height:16,geometry:'<path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z" />'}};t.renderSvgIcon=function(t,e){var n,i,r,a,s,o=l[t];return o?(n="0 0 "+o.width.toString()+" "+o.height.toString(),i=e,r=o.geometry,a=o.width.toString(),s=o.height.toString(),"<svg version='1.1' viewBox='"+n+"' class='"+i+"' width='"+a+"' height='"+s+"'>"+r+"</svg>"):void 0},t.forEach=function(e){Object.keys(l).forEach(function(t){e(t)})}}(Icons||(Icons={})),function(i){i.HljsLanguages={js:"javascript",html:"xml",svg:"xml",xml:"xml",py:"python",c:"cpp",cpp:"cpp",cxx:"cpp",h:"cpp",hpp:"cpp",hxx:"cpp",cs:"cs",java:"java",php:"php",go:"go",swift:"swift",cc:"objectivec",rb:"ruby",aspx:"xml",ascx:"xml",scss:"scss",css:"css",sh:"bash",groovy:"groovy",hs:"haskell",scala:"scala",ps1:"powershell",psd1:"powershell",psm1:"powershell",ts:"typescript",vcxproj:"xml",wxs:"xml",csproj:"xml",vbproj:"xml",ps1xml:"xml",cdxml:"xml",xaml:"xml",xsd:"xml",editorconfig:"ini"},i.detectHljsLanguage=function(t,e){var n=i.HljsLanguages[t];return n||(e&&e.startsWith("<?xml ")?"xml":t||void 0)}}(Linguist||(Linguist={})),function(t){function f(t,e){var n=t.getViewport(96/72);return n.width>e&&(n=t.getViewport(96/72*e/n.width)),n}function d(t){var e=Math.ceil(t.width*window.devicePixelRatio),n=Math.ceil(t.height*window.devicePixelRatio);return{physicalWidth:e,physicalHeight:n,logicalWidth:e/window.devicePixelRatio,logicalHeight:n/window.devicePixelRatio}}var v=function(){function t(t,e,n,i,r,a,s){this.element=t,this.canvasWrapper=null,this.textLayer=null,this.pdfDoc=e,this.pageNumber=n,this.renderTask=null,this.renderTextTask=null,this.isVisible=!1,this.maxWidth=i,t.className="pdf-page",t.style.width=r+"px",t.style.height=a+"px",s&&t.setAttribute("data-collapse-margin","")}return t.prototype.show=function(){var e=this;this.isVisible||(this.isVisible=!0,this.renderTask||this.pdfDoc.getPage(this.pageNumber).then(function(t){e.renderPage(t)}))},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this.setCanvasElement(null),this.setTextLayerElements(null),this.renderTask&&this.renderTask.cancel(),this.renderTextTask&&this.renderTextTask.cancel())},t.prototype.renderPage=function(t){var r=this,a=f(t,this.maxWidth),e=d(a),n=document.createElement("canvas");n.height=e.physicalHeight,n.width=e.physicalWidth,n.style.height=e.logicalHeight+"px",n.style.width=e.logicalWidth+"px",this.element.style.width!=n.style.width&&(this.element.style.width=n.style.width),this.element.style.height!=n.style.height&&(this.element.style.height=n.style.height);var i=null;1!==window.devicePixelRatio&&(i=[window.devicePixelRatio,0,0,window.devicePixelRatio,0,0]);var s={canvasContext:n.getContext("2d"),transform:i,viewport:a},o=t.render(s);(this.renderTask=o).then(function(){o===r.renderTask&&(r.isVisible&&(r.setCanvasElement(n),t.getTextContent({normalizeWhitespace:!0}).then(function(t){if(r.isVisible){var e=document.createDocumentFragment(),n={textContent:t,container:e,viewport:a,enhanceTextSelection:!0},i=PDFJS.renderTextLayer(n);(r.renderTextTask=i).promise.then(function(){i===r.renderTextTask&&(r.isVisible&&(r.renderTextTask.expandTextDivs(!0),r.setTextLayerElements(e)),r.renderTextTask=null)},function(t){i===r.renderTextTask&&(r.renderTextTask=null)})}})),r.renderTask=null)},function(t){o===r.renderTask&&(r.renderTask=null)})},t.prototype.setCanvasElement=function(t){t?this.canvasWrapper?(this.canvasWrapper.innerHTML="",this.canvasWrapper.appendChild(t)):(this.canvasWrapper=document.createElement("div"),this.canvasWrapper.className="canvas-wrapper",this.canvasWrapper.appendChild(t),this.element.appendChild(this.canvasWrapper)):this.canvasWrapper&&(this.canvasWrapper.innerHTML="")},t.prototype.setTextLayerElements=function(t){t?this.textLayer?(this.textLayer.innerHTML="",this.textLayer.appendChild(t)):(this.textLayer=document.createElement("div"),this.textLayer.className="text-layer",this.textLayer.appendChild(t),this.element.appendChild(this.textLayer)):this.textLayer&&(this.textLayer.innerHTML="")},t}(),s=function(){function t(t,e,n,i,r,a){this.lifetime=t,this.container=r,this.url=e,this.length=n,this.passwordTag=i,this.collapseSinglePageMargin=a}return t.prototype.start=function(){var n,u=this,h=new ElementCurtain(this.lifetime,this.container),t=document.createElement("div");t.className="progress-container",n=ProgressElement.embed(t,!0),h.showElement(t);var e=PDFJS.getDocument({url:this.url,length:this.length});function i(t,e){t instanceof Error&&(t=t.message),h.showTemplate("<div class='text-center p-3'>  <a class='h4 btn-link p-2' href='{{contentURL}}'>View raw contents</a>  <p class='text-gray text-small'>Cannot display content: {{message}}</p></div",{contentURL:e,message:t})}e.onPassword=function(e,t){var n=h.showTemplate("<form class='col-4 py-4 mx-auto'>  <input class='d-none' type='text' name='username' value='{{tag}}'/>  <div class='input-group form-group m-0 {{#if isInvalidPassword}}errored{{/if}}'>    <input class='form-control' type='password' name='password' placeholder='Password' />    <dd class='error' id='form-error-text'>Invalid password. Please try again.</dd>    <div class='input-group-button'><input class='btn px-4' type='submit' value='OK' /></div>  </div>  <div class='note ml-1'>Password is required to display the protected file.</div></form>",{isInvalidPassword:2===t,tag:u.passwordTag}),i=n.querySelector("input[type='password']");i.focus(),n.onsubmit=function(t){return e(i.value),!1}},e.onProgress=function(t){var e=t.total;void 0===e&&(e=u.length),n.setDeterminateProgress(t.loaded/e)},e.then(function(a){if(u.lifetime.isTerminated())a.destroy();else{u.lifetime.addAction(function(){a.destroy()});var s=new Array,o=new IntersectionObserver(function(t,e){t.forEach(function(t){var e=parseInt(t.target.getAttribute("data-page-num"),10),n=s[e];t.isIntersecting?n.show():n.hide()})},{rootMargin:"0% 0% 100% 0%"});u.lifetime.addAction(function(){return o.disconnect()});var l=document.createElement("div");l.className="pdf-page-container";var c=u.container.getBoundingClientRect().width;a.getPage(1).then(function(t){for(var e=d(f(t,c)),n=1;n<=a.numPages;n++){var i=document.createElement("div"),r=new v(i,a,n,c,e.logicalWidth,e.logicalHeight,u.collapseSinglePageMargin&&1===a.numPages);s[n]=r,i.setAttribute("data-page-num",n.toString()),l.appendChild(i),o.observe(i)}h.showElement(l)},function(t){i(t,u.url)})}},function(t){i(t,u.url)})},t}();t.create=function(t,e,n,i,r,a){return new s(t,e,n,i,r,a)}}(PdfViewer||(PdfViewer={}));var ViewUtils,WinGdi,Popup=function(){function t(){}return t.show=function(t,e,n){var i=new HtmlWriter;i.t(7),i.i(2,"content"),n&&i.l(Icons.renderSvgIcon(n,"octicon mr-2")),i.t(24),i.l(e),i.o(24),i.t(3),i.i(29,"close-btn"),i.i(2,"flash-close ml-1"),i.l(Icons.renderSvgIcon("x","octicon")),i.o(3),i.o(7);var r=document.getElementById("popup");r.innerHTML=i.v(),r.style.display="block",r.querySelector("#close-btn").addEventListener("click",function(){return r.style.display="none"}),t.addAction(function(){return r.style.display="none"})},t.hide=function(){document.getElementById("popup").style.display="none"},t}(),SvgPathWriter=function(){function t(){this.path=""}return t.prototype.reset=function(){this.path=""},t.prototype.moveTo=function(t,e){this.path+="M"+t+" "+e},t.prototype.lineTo=function(t,e){this.path+="L"+t+" "+e},t.prototype.cubicCurve=function(t,e,n,i,r,a){this.path+="C"+t+" "+e+","+n+" "+i+","+r+" "+a},t.prototype.arcTo=function(t,e,n,i,r,a,s){this.path+="A"+t+" "+e+" "+n+" "+(i?"1":"0")+" "+(r?"1":"0")+" "+a+" "+s},t.prototype.closePath=function(){this.path+="Z"},t.prototype.getPath=function(){return this.path},t}(),TextFileViewer=function(){function t(t,e,n,i,r,a){this.curtain=new ElementCurtain(t,e),this.repoPathRev=n,this.repoNode=i,this.router=r,this.enableSyntaxHighlight=a}return t.prototype.start=function(){for(var t=new HtmlWriter,e=new RepoViewPlace(this.repoPathRev.repo,this.repoPathRev.rev,this.repoPathRev.path),n=1;n<=this.repoNode.lineCount;n++)t.t(0),e.line=n,t.i(28,this.router.build(e)),t.t(11),t.i(9,n.toString()),t.o(11),t.o(0);if(this.element=this.curtain.showTemplate("<table class='file-source'>  <tr>    <td class='line-numbers'><pre>{{lineNumberSpans}}</pre></td>    <td class='content'><pre><code>{{textContent}}</code></pre></td>  </tr></table>",{lineNumberSpans:new Handlebars.SafeString(t.v()),textContent:this.repoNode.textContent}),this.enableSyntaxHighlight){var i=this.element.querySelector("code"),r=(this.repoNode.nodeInfo.checkedInURL.match(/\.(\w+)$/)||[,""])[1],a=Linguist.detectHljsLanguage(r,this.repoNode.textContent);a&&i.classList.add(a),hljs.configure({languages:[]}),hljs.highlightBlock(i)}},t.prototype.selectLine=function(t,e){this.clearSelectionImpl();var n=this.element.querySelector("[data-line-number='"+t.toString()+"']");if(n){ViewUtils.scrollIntoView(n,{position:1,onlyIfNeeded:!e}),n.setAttribute("data-selected","");var i=document.createElement("div");i.innerHTML=Handlebars.compile("<details class='line-menu position-absolute dropdown details-reset details-overlay'><summary class='btn btn-outline link-gray bg-white border border-gray-dark rounded-1 p-1'>{{icon-kebab-vertical}}</summary><ul class='dropdown-menu dropdown-menu-se text-system-font text-left'><button class='btn-link dropdown-item clipboard-copy' id='copy-permalink' data-clipboard-text='{{stableUrl}}'>Copy permalink</button><a class='dropdown-item' href='{{blameLineUrl}}'>View blame</a></ul></details>")({stableUrl:getBaseUrl(window.location)+"/!/"+this.router.build(new RepoViewPlace(this.repoPathRev.repo,this.repoNode.nodeInfo.revision,this.repoPathRev.path,null,t)),blameLineUrl:this.router.build(new BlamePlace(this.repoPathRev.repo,this.repoPathRev.rev,this.repoPathRev.path,t))}),i.querySelector("#copy-permalink").addEventListener("click",function(){i.querySelector("details").removeAttribute("open")}),this.element.querySelector(".line-numbers pre").insertBefore(i,n.parentElement),this.selectedLineMenu=i}},t.prototype.clearSelection=function(){this.clearSelectionImpl()},t.prototype.clearSelectionImpl=function(){for(var t=this.element.querySelectorAll("[data-selected]"),e=0;e<t.length;e++)t[e].removeAttribute("data-selected");if(this.selectedLineMenu){var n=this.selectedLineMenu.parentNode;n&&(n.removeChild(this.selectedLineMenu),this.selectedLineMenu=void 0)}},t}();(ViewUtils||(ViewUtils={})).scrollIntoView=function(t,e){var n=t.ownerDocument;if(null!==n){var i=n.defaultView;if(null!==i){var r=t.getBoundingClientRect(),a=i.pageXOffset,s=i.pageYOffset,o=0,l=document.querySelector("[data-is-sticky]");if(l){var c=getComputedStyle(l);"sticky"!==c.position&&"-webkit-sticky"!==c.position||(o=l.getBoundingClientRect().height)}var u,h=e.offset||0;0===e.position?u=h+o:1===e.position?u=h+o+(i.innerHeight-o-r.height)/2:assertNever(e.position),e.onlyIfNeeded?r.top<o&&r.bottom>o&&r.bottom<i.innerHeight?i.scrollTo(a,s+r.top-o):r.bottom>i.innerHeight&&r.top>o&&r.top<i.innerHeight?i.scrollTo(a,s+i.innerHeight-r.top):(r.top<o||r.bottom>i.innerHeight)&&i.scrollTo(a,s+r.top-u):i.scrollTo(a,s+r.top-u)}}},function(r){var t=function(){function nt(t){if(this.Xs=t,this.Ls=nt.Cs(t,0),this.Bs=this.Ls.Vs(),this.Fa=this.Ls.Vs(),1179469088!==this.Ls.Ms())throw new Error("Invalid EMF file signtature.");var e=this.Ls.Ms();if(65536!==e)throw new Error("Unsupported EMF file version ("+e+").");this.Ls.Ms(),this.Ls.Ms(),this.Ls.Ds();this.Ls.Ds(),this.Ls.Ms(),this.Ls.Ms(),this.Ls.Ms(),this.Fs=this.Ls.Es(),this.As=this.Ls.Es()}return nt.Cs=function(t,e){if(e+8>t.byteLength)throw new Error("Unexpected end of file.");var n=t.getUint32(e,!0),i=t.getUint32(e+4,!0);if(i<8)throw new Error("Invalid EMF record size.");if(e+i>t.byteLength)throw new Error("Unexpected end of file.");return new r.Ts(n,new DataView(t.buffer,t.byteOffset+e,i),8)},nt.prototype.Ns=function(t){for(var e=this.Ls.Ws;;){var n=nt.Cs(this.Xs,e);if(e+=n.Xs.byteLength,14===n.ve)break;nt.zs(n,t)}},nt.Gs=function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=[],i=0;i<e.byteLength;i+=2){var r=e.getUint16(i,!0);if(0===r)break;n.push(r)}return String.fromCharCode.apply(null,n)},nt.Os=function(t){for(var e="",n=0;n<t.byteLength;n++){var i=t[n];if(0===i)break;e+=String.fromCharCode(i)}return e},nt.Qs=function(t,e){var n=new DataView(new ArrayBuffer(14));return n.setUint8(0,66),n.setUint8(1,77),n.setUint32(2,e.byteLength+t.byteLength+n.byteLength,!0),n.setUint16(6,0,!0),n.setUint16(8,0,!0),n.setUint32(10,t.byteLength+n.byteLength,!0),new Blob([n.buffer,t,e],{type:"image/bmp"})},nt.zs=function(t,e){if(10===t.ve)e.Js(t.qs());else if(9===t.ve){var n=t.Ks(),i=t.Ks();e.Zs({cx:n,cy:i})}else if(12===t.ve)e.Ys(t.qs());else if(11===t.ve){n=t.Ks(),i=t.Ks();e.to({cx:n,cy:i})}else if(17===t.ve)e.eo(t.Ms());else if(24===t.ve)e.no(t.io());else if(22===t.ve)e.ro(t.Ms());else if(18===t.ve)e.ao(t.Ms());else if(25===t.ve)e.so(t.io());else if(58===t.ve)e.oo(t.Ms());else if(98===t.ve)e.lo(t.Ms());else if(115===t.ve)e.co(t.Ms());else if(20===t.ve);else if(37===t.ve)e.uo(t.Ms());else if(40===t.ve)e.ho(t.Ms());else if(35===t.ve){var r=t.fo();e.do(4,r)}else if(36===t.ve){r=t.fo();var a=t.Ms();e.do(a,r)}else if(19===t.ve)e.vo(t.Ms());else if(33===t.ve)e.po();else if(34===t.ve){var s=t.Ks();s<0&&e.mo(-s)}else if(75===t.ve)t.Ms();else if(59===t.ve)e.wo();else if(60===t.ve)e.$o();else if(61===t.ve)e._o();else if(62===t.ve)e.bo();else if(64===t.ve)e.yo();else if(63===t.ve)e.xo();else if(27===t.ve)e.mn(t.qs());else if(54===t.ve)e.Po([t.qs()]);else if(2===t.ve){t.Vs();var o=t.Ms(),l=t.So(o);e.Ho(l)}else if(85===t.ve){t.Vs();var c=t.Ms(),u=t.Uo(c);e.Ho(u)}else if(5===t.ve){t.Vs();var h=t.Ms(),f=t.So(h);e.ko(f)}else if(88===t.ve){t.Vs();var d=t.Ms(),v=t.Uo(d);e.ko(v)}else if(91===t.ve){t.Vs();for(var p=t.Ms(),m=(t.Ms(),t.Ro(p)),w=[],g=0;g<p;g++)w.push(t.Uo(m[g]));e.Io(w)}else if(86===t.ve){t.Vs();var $=t.Ms();w=[_=t.Uo($)];e.Io(w)}else if(4===t.ve){t.Vs(),$=t.Ms();var _=t.So($);e.Xo(_)}else if(87===t.ve){t.Vs(),$=t.Ms(),_=t.Uo($);e.Xo(_)}else if(6===t.ve){t.Vs(),$=t.Ms(),_=t.So($);e.Po(_)}else if(89===t.ve){t.Vs(),$=t.Ms(),_=t.Uo($);e.Po(_)}else if(43===t.ve){var b=t.Vs();e.Lo(b)}else if(42===t.ve){b=t.Vs();e.Co(b)}else if(44===t.ve){b=t.Vs();var y=t.Es();e.Bo(b,y.cx,y.cy)}else if(83===t.ve){t.Vs();var x=t.Ms(),P=(t.Vo(),t.Vo(),t.qs()),S=t.Ms(),H=t.Ms(),U=t.Ms(),k=(b=t.Vs(),t.Mo(H,S));e.Do(nt.Os(k),P,x,b,U)}else if(84===t.ve){t.Vs(),x=t.Ms(),t.Vo(),t.Vo(),P=t.qs();if(8192<(S=t.Ms()))throw new Error("Corrupted EMF record: text too long.");H=t.Ms(),U=t.Ms(),b=t.Vs(),k=t.Mo(H,2*S);e.Do(nt.Gs(k),P,x,b,U)}else if(39===t.ve){var R=t.Ms(),I={Fo:t.Ms(),K:t.io(),Eo:t.Ms()};e.Ao(R,I)}else if(82===t.ve){var X=t.Ks(),L=t.Ks(),C=t.Ks(),B=t.Ks(),V=t.Ks(),M=t.Ks(),D=t.To(),F=t.To(),E=t.To(),A=(t.To(),t.To(),t.To(),t.To(),t.To(),t.No(64)),T={Wo:L,zo:B,jo:V,W:0!==D,Go:0!==E,tt:0!==F,Oo:M,Qo:nt.Gs(A)};e.Jo(X,T)}else if(38===t.ve){var N=t.Ms(),W={qo:t.Ms(),Ko:t.qs().x,K:t.io()};e.Zo(N,W)}else if(95===t.ve){N=t.Ms();t.Ms(),t.Ms(),t.Ms(),t.Ms();var z=t.Ms();C=t.Ms(),t.Ms(),W={qo:z,K:t.io(),Ko:C};e.Zo(N,W)}else if(81===t.ve){t.Vs();var j=t.Ks(),G=t.Ks(),O=(t.Ks(),t.Ks(),t.Ks(),t.Ks(),t.Ms()),Q=t.Ms(),J=t.Ms(),q=t.Ms(),K=(t.Ms(),t.Ms(),t.Ks()),Z=t.Ks(),Y=t.Mo(O,Q),tt=t.Mo(J,q),et=nt.Qs(Y,tt);e.Yo(j,G,K,Z,{Xs:et})}else if(77===t.ve){t.Vs();j=t.Ks(),G=t.Ks(),K=t.Ks(),Z=t.Ks(),t.Ms(),t.Ks(),t.Ks(),t.fo(),t.io(),t.Ms(),O=t.Ms(),Q=t.Ms(),J=t.Ms(),q=t.Ms(),t.Ks(),t.Ks(),Y=t.Mo(O,Q),tt=t.Mo(J,q),et=nt.Qs(Y,tt);e.Yo(j,G,K,Z,{Xs:et})}else 70===t.ve||21===t.ve||48===t.ve||49===t.ve||50===t.ve||51===t.ve||t.ve},nt}();r.tl=t}(WinGdi||(WinGdi={})),function(f){f.wa=function(t,e){var n=new DataView(t),i=new f.tl(n),r=new HtmlWriter,a=i.Fa,s={cx:i.Fs.cx/i.As.cx,cy:i.Fs.cy/i.As.cy},o=a.left*s.cx/100,l=a.top*s.cy/100,c=a.right*s.cx/100,u=a.bottom*s.cy/100;r.t(28),r.i(49,o+" "+l+" "+(c-o)+" "+(u-l)),r.i(50,"http://www.w3.org/2000/svg"),r.i(51,"http://www.w3.org/1999/xlink"),r.i(30,"none"),r.i(38,"width: 100%; height:100%;");var h=new f.el(r,e,s);return i.Ns(h),r.o(28),r.v()},f.ga=function(t,e){var n=new DataView(t),i=new f.nl(n),r=new HtmlWriter;r.t(28),r.i(49,"0 0 1 1"),r.i(50,"http://www.w3.org/2000/svg"),r.i(51,"http://www.w3.org/1999/xlink"),r.i(30,"none"),r.i(38,"width: 100%; height:100%;");var a=new f.el(r,e);return a.eo(8),i.Ns(a),r.o(28),r.v()}}(WinGdi||(WinGdi={})),function(t){var e=function(){function t(t,e,n){this.ve=t,this.Ws=e.byteLength,this.Xs=e,this.k=n}return t.prototype.il=function(t){if(this.k+t>this.Xs.byteLength)throw new Error("Corrupted metafile record.")},t.prototype.rl=function(t){this.il(t),this.k+=t},t.prototype.To=function(){this.il(1);var t=this.Xs.getUint8(this.k);return this.k++,t},t.prototype.Ms=function(){this.il(4);var t=this.Xs.getUint32(this.k,!0);return this.k+=4,t},t.prototype.Ks=function(){this.il(4);var t=this.Xs.getInt32(this.k,!0);return this.k+=4,t},t.prototype.Ro=function(t){for(var e=[],n=0;n<t;n++)e.push(this.Ms());return e},t.prototype.Ds=function(){this.il(2);var t=this.Xs.getUint16(this.k,!0);return this.k+=2,t},t.prototype.al=function(){this.il(2);var t=this.Xs.getInt16(this.k,!0);return this.k+=2,t},t.prototype.sl=function(t){for(var e=[],n=0;n<t;n++)e.push(this.Ds());return e},t.prototype.Vo=function(){this.il(4);var t=this.Xs.getFloat32(this.k,!0);return this.k+=4,t},t.prototype.Vs=function(){return{left:this.Ks(),top:this.Ks(),right:this.Ks(),bottom:this.Ks()}},t.prototype.ol=function(){return{left:this.al(),top:this.al(),right:this.al(),bottom:this.al()}},t.prototype.Es=function(){return{cx:this.Ms(),cy:this.Ms()}},t.prototype.qs=function(){return{x:this.Ks(),y:this.Ks()}},t.prototype.ll=function(){return{x:this.al(),y:this.al()}},t.prototype.So=function(t){for(var e=[],n=0;n<t;n++)e.push(this.qs());return e},t.prototype.Uo=function(t){for(var e=[],n=0;n<t;n++)e.push(this.ll());return e},t.prototype.Mo=function(t,e){if(t<0||t+e>this.Xs.byteLength)throw new Error("Corrupted metafile record.");return new Uint8Array(this.Xs.buffer,this.Xs.byteOffset+t,e)},t.prototype.No=function(t){this.il(t);var e=new Uint8Array(this.Xs.buffer,this.Xs.byteOffset+this.k,t);return this.k+=t,e},t.prototype.io=function(){var t=this.To(),e=this.To(),n=this.To();return this.To(),{ue:t,cl:e,ul:n}},t.prototype.fo=function(){return{m11:this.Vo(),m12:this.Vo(),m21:this.Vo(),m22:this.Vo(),dx:this.Vo(),dy:this.Vo()}},t}();t.Ts=e}(WinGdi||(WinGdi={})),function(d){var t=function(){function f(t,e,n){this.hl=[],this.fl=t,this.dl=e,this.vl=n||{cx:24.384,cy:24.384},this.pl=1,this.ml={x:0,y:0},this.wl={cx:1,cy:1},this.gl={x:0,y:0},this.$l={cx:1,cy:1},this._l=d.xformIdentity,this.bl=[],this.yl="evenodd",this.xl(f.BLACK_PEN),this.Pl(f.WHITE_BRUSH),this.Sl({Wo:10,zo:0,jo:0,Oo:400,W:!1,tt:!1,Go:!1,Qo:"Arial"}),this.Hl=!1,this.qe={x:0,y:0},this.Ul={ue:0,cl:0,ul:0},this.kl=null,this.Rl=new SvgPathWriter,this.Il=0,this.Xl=10,this.Ll=2,this.Cl={ue:255,cl:255,ul:255}}return f.prototype.Js=function(t){this.gl=t,this.Bl()},f.prototype.Zs=function(t){8!==this.pl&&7!==this.pl||(this.$l=t),this.Bl()},f.prototype.Ys=function(t){this.ml=t,this.Bl()},f.prototype.to=function(t){8!==this.pl&&7!==this.pl||(this.wl=t),this.Bl()},f.prototype.eo=function(t){1===(this.pl=t)?(this.wl={cx:1,cy:1},this.$l={cx:1,cy:1}):2===t?(this.wl={cx:this.vl.cx,cy:-this.vl.cy},this.$l={cx:10,cy:10}):3===t?(this.wl={cx:this.vl.cx,cy:-this.vl.cy},this.$l={cx:100,cy:100}):4===t?(this.wl={cx:this.vl.cx,cy:-this.vl.cy},this.$l={cx:10/2.54,cy:10/2.54}):5===t?(this.wl={cx:this.vl.cx,cy:-this.vl.cy},this.$l={cx:100/2.54,cy:100/2.54}):6===t&&(this.wl={cx:this.vl.cx,cy:-this.vl.cy},this.$l={cx:144/2.54,cy:144/2.54}),this.Bl()},f.prototype.no=function(t){this.Ul=t},f.prototype.ro=function(t){this.Il=t},f.prototype.ao=function(t){this.Ll=t},f.prototype.so=function(t){this.Cl=t},f.prototype.oo=function(t){this.Xl=t},f.prototype.lo=function(t){},f.prototype.co=function(t){},f.prototype.do=function(t,e){1===t?this._l=d.xformIdentity:4===t?this._l=e:2===t?this._l=d.Vl(e,this._l):3===t&&(this._l=d.Vl(this._l,e)),this.Bl()},f.prototype.vo=function(t){1===t?this.yl="evenodd":2===t&&(this.yl="nonzero")},f.prototype.po=function(){this.hl.push({pl:this.pl,ml:this.ml,wl:this.wl,gl:this.gl,$l:this.$l,yl:this.yl,_l:this._l,kl:this.kl,qe:this.qe,Ul:this.Ul,Ml:this.Ml,Dl:this.Dl,we:this.we,Il:this.Il,Xl:this.Xl,Ll:this.Ll,Cl:this.Cl})},f.prototype.mo=function(t){for(var e=0;e<t;e++){var n=this.hl.pop();this.pl=n.pl,this.ml=n.ml,this.wl=n.wl,this.gl=n.gl,this.$l=n.$l,this.yl=n.yl,this._l=n._l,this.kl=n.kl,this.qe=n.qe,this.Ul=n.Ul,this.Ml=n.Ml,this.Dl=n.Dl,this.we=n.we,this.Il=n.Il,this.Xl=n.Xl,this.Ll=n.Ll,this.Cl=n.Cl}},f.prototype.Yo=function(t,e,n,i,r){var a=this.Fl(),s=this.El({x:t,y:e}),o=this.Al({cx:n,cy:i});o.cy<0&&(a=d.Vl({m11:1,m12:0,m21:0,m22:-1,dx:0,dy:2*s.y},a)),o.cx<0&&(a=d.Vl({m11:-1,m12:0,m21:0,m22:1,dx:2*s.x,dy:0},a));var l=BlobURL.createObjectURL(this.dl,r.Xs);this.fl.t(12),this.fl.i(46,s.x.toString()),this.fl.i(48,s.y.toString()),this.fl.i(44,Math.abs(o.cx).toString()),this.fl.i(27,Math.abs(o.cy).toString()),this.fl.i(47,l),this.fl.i(30,"none"),this.fl.i(42,f.Tl(a)),this.fl.o(12)},f.prototype.wo=function(){this.Rl.reset(),this.Rl.moveTo(this.qe.x,this.qe.y),this.Hl=!0},f.prototype.$o=function(){this.Hl=!1},f.prototype._o=function(){this.Rl.closePath()},f.prototype.bo=function(){this.Nl(this.Rl,!0,!1)},f.prototype.yo=function(){this.Nl(this.Rl,!1,!0)},f.prototype.xo=function(){this.Nl(this.Rl,!0,!0)},f.prototype.mn=function(t){this.qe=this.El(t),this.Hl&&this.Rl.moveTo(this.qe.x,this.qe.y)},f.prototype.Po=function(t){for(var e=this.Wl(!0),n=0;n<t.length;n++){var i=this.El(t[n]);e.lineTo(i.x,i.y),this.qe=i}this.Hl||this.Nl(e,!1,!0,"lineTo")},f.prototype.ko=function(t){for(var e=this.Wl(!0),n=0;n<t.length;n+=3){var i=this.El(t[n]),r=this.El(t[n+1]),a=this.El(t[n+2]);e.cubicCurve(i.x,i.y,r.x,r.y,a.x,a.y),this.qe=a}this.Hl||this.Nl(e,!1,!0,"polyBezierTo")},f.prototype.Ho=function(t){if(0<t.length){var e=this.Wl(!1);e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=3){var i=this.El(t[n]),r=this.El(t[n+1]),a=this.El(t[n+2]);e.cubicCurve(i.x,i.y,r.x,r.y,a.x,a.y)}this.Hl?e.moveTo(this.qe.x,this.qe.y):this.Nl(e,!1,!0,"polyBezier")}},f.prototype.Xo=function(t){for(var e=this.Wl(!1),n=0;n<t.length;n++){var i=this.El(t[n]);0===n?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y)}this.Hl?e.moveTo(this.qe.x,this.qe.y):this.Nl(e,!1,!0,"polyLine")},f.prototype.Io=function(t){for(var e=this.Wl(!1),n=0;n<t.length;n++){for(var i=t[n],r=0;r<i.length;r++){var a=this.El(i[r]);0===r?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y)}e.closePath()}this.Hl?e.moveTo(this.qe.x,this.qe.y):this.Nl(e,!0,!0,"polygon")},f.prototype.uo=function(t){if(f.zl(t))2147483648===t?this.Pl(f.WHITE_BRUSH):2147483649===t?this.Pl({Fo:0,K:{ue:192,cl:192,ul:192},Eo:0}):2147483650===t?this.Pl({Fo:0,K:{ue:128,cl:128,ul:128},Eo:0}):2147483651===t?this.Pl({Fo:0,K:{ue:64,cl:64,ul:64},Eo:0}):2147483652===t?this.Pl({Fo:0,K:{ue:0,cl:0,ul:0},Eo:0}):2147483653===t?this.Pl({Fo:1}):2147483654===t?this.xl(f.WHITE_PEN):2147483655===t?this.xl(f.BLACK_PEN):2147483656===t&&this.xl(f.NULL_PEN);else{var e=this.bl[t];e&&e.jl()}},f.prototype.ho=function(t){f.zl(t)||this.bl[t]&&(this.bl[t]=null)},f.prototype.Ao=function(t,e){var n=this;null===t&&(t=this.Gl()),this.bl[t]={jl:function(){return n.Pl(e)}}},f.prototype.Zo=function(t,e){var n=this;null===t&&(t=this.Gl()),this.bl[t]={jl:function(){return n.xl(e)}}},f.prototype.Jo=function(t,e){var n=this;null===t&&(t=this.Gl()),this.bl[t]={jl:function(){return n.Sl(e)}}},f.prototype.Ol=function(t){null===t&&(t=this.Gl()),this.bl[t]={jl:function(){}}},f.prototype.Lo=function(t){var e=this.El({x:t.left,y:t.top}),n=this.El({x:t.right,y:t.bottom}),i=this.Wl(!1);i.moveTo(e.x,e.y),i.lineTo(n.x,e.y),i.lineTo(n.x,n.y),i.lineTo(e.x,n.y),i.closePath(),this.Hl?i.moveTo(this.qe.x,this.qe.y):this.Nl(i,!0,!0,"rect")},f.prototype.Bo=function(t,e,n){var i=this.El({x:t.left,y:t.top}),r=this.El({x:t.right,y:t.bottom}),a=this.Wl(!1),s=e/2,o=n/2;a.moveTo(i.x,i.y+o),a.arcTo(s,o,0,!1,!0,i.x+s,i.y),a.lineTo(r.x-s,i.y),a.arcTo(s,o,0,!1,!0,r.x,i.y+o),a.lineTo(r.x,r.y-o),a.arcTo(s,o,0,!1,!0,r.x-s,r.y),a.lineTo(i.x+s,r.y),a.arcTo(s,o,0,!1,!0,i.x,r.y-o),a.closePath(),this.Hl?a.moveTo(this.qe.x,this.qe.y):this.Nl(a,!0,!0,"roundrect")},f.prototype.Co=function(t){var e=this.El({x:t.left,y:t.top}),n=this.El({x:t.right,y:t.bottom}),i=Math.abs(n.x-e.x)/2,r=Math.abs(n.y-e.y)/2,a=(e.x+n.x)/2,s=(e.y+n.y)/2,o=this.Wl(!1);o.moveTo(a-i,s),o.arcTo(i,r,0,!0,!1,a+i,s),o.arcTo(i,r,0,!0,!1,a-i,s),o.closePath(),this.Hl?o.moveTo(this.qe.x,this.qe.y):this.Nl(o,!0,!0,"ellipse")},f.prototype.Do=function(t,e,n,i,r){if(0!=(2&r)&&null!==i){var a=this.El({x:i.left,y:i.top}),s=this.El({x:i.right,y:i.bottom});this.fl.t(21),this.fl.i(46,Math.min(a.x,s.x).toString()),this.fl.i(48,Math.min(a.y,s.y).toString()),this.fl.i(44,Math.abs(s.x-a.x).toString()),this.fl.i(27,Math.abs(s.y-a.y).toString()),this.fl.i(42,f.Tl(this.Fl())),this.fl.i(21,f.Ql(this.Cl)),this.fl.i(33,"none"),this.fl.o(21)}if(0<t.length){var o=this.Fl(),l=this.we.Wo,c=this.we.zo/10;e=this.El(e),1===n&&(e=d.Jl(o,e),l=d.ql(o,{cx:0,cy:l}).cy,o.m11<0&&(c=-c),o.m22<0&&(c=-c),o=d.xformIdentity),o=d.Vl(d.Kl(e.x,e.y),o),this.fl.t(10),this.fl.i(42,f.Tl(o)),this.fl.t(32),this.fl.i(46,"0"),this.fl.i(48,"0"),this.fl.i(42,"rotate("+(-c).toString()+")"),this.fl.i(21,f.Ql(this.Ul)),this.fl.i(23,this.we.Qo),this.fl.i(24,Math.abs(l).toString()),this.fl.i(26,this.we.Oo.toString()),this.we.W&&this.fl.i(25,"italic"),this.we.tt&&this.we.Go?this.fl.i(40,"underline line-through"):this.we.tt?this.fl.i(40,"underline"):this.we.Go&&this.fl.i(40,"line-through");var u=24&this.Il;0===u?this.fl.i(20,"1em"):24===u?this.fl.i(20,"0.1em"):8===u&&this.fl.i(20,"0");var h=6&this.Il;0===h?this.fl.i(39,"start"):6===h?this.fl.i(39,"middle"):2===h&&this.fl.i(39,"end"),this.fl.s(t),this.fl.o(32),this.fl.o(10)}},f.prototype.Zl=function(t,e,n,i){var r=0;2===this.Ll&&(r|=2),this.Do(t,e,n,i,r)},f.prototype.Pl=function(t){this.Ml=t},f.prototype.Yl=function(t){1===this.Ml.Fo?t.i(21,"none"):(t.i(21,f.Ql(this.Ml.K)),t.i(22,this.yl))},f.prototype.xl=function(t){this.Dl=t},f.prototype.tc=function(t){5===(15&this.Dl.qo)?t.i(33,"none"):(t.i(33,f.Ql(this.Dl.K)),0===this.Dl.Ko?(t.i(37,"1px"),t.i(43,"non-scaling-stroke")):t.i(37,this.Dl.Ko.toString()),8192&this.Dl.qo?(t.i(34,"miter"),t.i(36,this.Xl.toString())):4096&this.Dl.qo?t.i(34,"bevel"):t.i(34,"round"),512&this.Dl.qo?t.i(35,"butt"):256&this.Dl.qo?t.i(35,"square"):t.i(35,"round"))},f.prototype.Sl=function(t){this.we=t},f.Ql=function(t){return"rgb("+t.ue+","+t.cl+","+t.ul+")"},f.prototype.Gl=function(){var t=this.bl.indexOf(null);return 0<=t?t:this.bl.length},f.prototype.El=function(t){return t},f.prototype.Al=function(t){return t},f.prototype.ec=function(t){return t},f.prototype.Bl=function(){this.kl=null},f.prototype.Fl=function(){if(null===this.kl){var t=this._l,e=this.wl.cx/this.$l.cx,n=this.wl.cy/this.$l.cy;7===this.pl&&(Math.abs(e)<Math.abs(n)?n=0<n?Math.abs(e):-Math.abs(e):e=0<e?Math.abs(n):-Math.abs(n)),t=d.Vl({m11:e,m12:0,m21:0,m22:n,dx:this.ml.x-this.gl.x*e,dy:this.ml.y-this.gl.y*n},t),this.kl=t}return this.kl},f.Tl=function(t){return"matrix("+t.m11+" "+t.m21+" "+t.m12+" "+t.m22+" "+t.dx+" "+t.dy+")"},f.prototype.Nl=function(t,e,n,i){this.fl.t(20),this.fl.i(4,t.getPath()),e?this.Yl(this.fl):this.fl.i(21,"none"),n?this.tc(this.fl):this.fl.i(33,"none"),i&&this.fl.i(45,i),this.fl.i(42,f.Tl(this.Fl())),this.fl.o(20)},f.prototype.Wl=function(t){if(this.Hl)return this.Rl;var e=new SvgPathWriter;return t&&e.moveTo(this.qe.x,this.qe.y),e},f.zl=function(t){return 0!=(2147483648&t)},f.WHITE_BRUSH={Fo:0,K:{ue:255,cl:255,ul:255}},f.BLACK_PEN={qo:0,K:{ue:0,cl:0,ul:0},Ko:0},f.WHITE_PEN={qo:0,K:{ue:255,cl:255,ul:255},Ko:0},f.NULL_PEN={qo:5},f}();d.el=t}(WinGdi||(WinGdi={})),WinGdi||(WinGdi={}),function(r){var t=function(){function Q(t){var e=0;2596720087===t.getUint32(0,!0)&&(e+=22);t.getUint16(e,!0);var n=2*t.getUint16(e+2,!0);this.nc=e+n,this.Xs=t}return Q.Cs=function(t,e){if(e+6>t.byteLength)throw new Error("Unexpected end of file.");var n=2*t.getUint32(e,!0),i=t.getUint16(e+4,!0);if(n<6)throw new Error("Invalid WMF record size.");if(e+n>t.byteLength)throw new Error("Unexpected end of file.");return new r.Ts(i,new DataView(t.buffer,t.byteOffset+e,n),6)},Q.prototype.Ns=function(t){for(var e=this.nc;;){var n=Q.Cs(this.Xs,e);if(e+=n.Xs.byteLength,0===n.ve)break;Q.zs(n,t)}},Q.Os=function(t){for(var e="",n=0;n<t.byteLength;n++){var i=t[n];if(0===i)break;e+=String.fromCharCode(i)}return e},Q.Qs=function(t,e){var n=new DataView(new ArrayBuffer(18));return n.setUint8(0,66),n.setUint8(1,77),n.setUint32(2,t.byteLength+e.byteLength+14,!0),n.setUint16(6,0,!0),n.setUint16(8,0,!0),n.setUint32(10,t.byteLength+14,!0),n.setUint32(14,t.byteLength,!0),new Blob([n.buffer,t,e],{type:"image/bmp"})},Q.zs=function(t,e){if(523===t.ve){var n={y:t.al(),x:t.al()};e.Js(n)}else if(524===t.ve){var i={cy:t.al(),cx:t.al()};e.Zs(i)}else if(525===t.ve){n={y:t.al(),x:t.al()};e.Ys(n)}else if(526===t.ve){i={cy:t.al(),cx:t.al()};e.to(i)}else if(259===t.ve)e.eo(t.Ds());else if(262===t.ve)e.vo(t.Ds());else if(521===t.ve)e.no(t.io());else if(302===t.ve)e.ro(t.Ds());else if(258===t.ve)e.ao(t.Ds());else if(301===t.ve)e.uo(t.Ds());else if(496===t.ve)e.ho(t.Ds());else if(30===t.ve)e.po();else if(295===t.ve){var r=t.al();r<0&&e.mo(-r)}else if(764===t.ve){var a={Fo:t.Ds(),K:t.io(),Eo:t.Ds()};e.Ao(null,a)}else if(762===t.ve){var s={qo:t.Ds(),Ko:t.ll().x,K:t.io()};e.Zo(null,s)}else if(763===t.ve){for(var o=t.al(),l=(t.al(),t.al()),c=t.al(),u=t.al(),h=t.To(),f=t.To(),d=t.To(),v=(t.To(),t.To(),t.To(),t.To(),t.To(),""),p=0;;){var m=t.To();if(p++,0===m)break;if(32<=p)throw new Error("Corrupted metafile record.");v+=String.fromCharCode(m)}var w={Wo:o,zo:l,jo:c,W:0!==h,Go:0!==d,tt:0!==f,Oo:u,Qo:v};e.Jo(null,w)}else if(532===t.ve){var g=t.al(),$=t.al();e.mn({x:$,y:g})}else if(531===t.ve){g=t.al(),$=t.al();e.Po([{x:$,y:g}])}else if(1051===t.ve){var _=t.al(),b=t.al(),y=t.al(),x=t.al();e.Lo({left:x,top:y,right:b,bottom:_})}else if(1564===t.ve){var P=t.al(),S=t.al();_=t.al(),b=t.al(),y=t.al(),x=t.al();e.Bo({left:x,top:y,right:b,bottom:_},S,P)}else if(804===t.ve){var H=t.al(),U=t.Uo(H);e.Io([U])}else if(1336===t.ve){for(var k=t.Ds(),R=t.sl(k),I=[],X=0;X<R.length;X++)I.push(t.Uo(R[X]));e.Io(I)}else if(805===t.ve){H=t.al(),U=t.Uo(H);e.Xo(U)}else if(1048===t.ve){_=t.al(),b=t.al(),y=t.al(),x=t.al();e.Co({left:x,top:y,right:b,bottom:_})}else if(1313===t.ve){var L=t.al(),C=t.No(L);t.rl(L%2);var B=t.al(),V=t.al();e.Zl(Q.Os(C),{x:V,y:B},2,null)}else if(2610===t.ve){var M=t.al(),D=t.al(),F=(L=t.al(),t.Ds()),E=void 0;E=0!=(6&F)?t.ol():null;C=t.No(L);e.Do(Q.Os(C),{x:D,y:M},2,E,F)}else if(2881===t.ve){t.Ms(),t.al(),t.al(),t.al(),t.al();var A=t.al(),T=t.al(),N=t.al(),W=t.al(),z=t.Ms(),j=t.No(z),G=t.No(t.Ws-t.k),O=Q.Qs(j,G);e.Yo(W,N,T,A,{Xs:O})}else if(3907===t.ve){t.Ms(),t.Ds(),t.al(),t.al(),t.al(),t.al(),A=t.al(),T=t.al(),N=t.al(),W=t.al(),z=t.Ms(),j=t.No(z),G=t.No(t.Ws-t.k),O=Q.Qs(j,G);e.Yo(W,N,T,A,{Xs:O})}else if(1574==t.ve){t.Ds();0}else 247!==t.ve&&1791!==t.ve&&764!==t.ve&&322!==t.ve||e.Ol(null)},Q}();r.nl=t}(WinGdi||(WinGdi={})),function(t){t.xformIdentity={m11:1,m12:0,m21:0,m22:1,dx:0,dy:0},t.ic=function(t,e){return{m11:t,m12:0,m21:0,m22:e,dx:0,dy:0}},t.Kl=function(t,e){return{m11:1,m12:0,m21:0,m22:1,dx:t,dy:e}},t.rc=function(t){var e=Math.cos(t),n=Math.sin(t);return{m11:e,m12:n,m21:-n,m22:e,dx:0,dy:0}},t.Vl=function(t,e){return{m11:t.m11*e.m11+t.m12*e.m21,m12:t.m11*e.m12+t.m12*e.m22,m21:t.m21*e.m11+t.m22*e.m21,m22:t.m21*e.m12+t.m22*e.m22,dx:t.dx*e.m11+t.dy*e.m21+e.dx,dy:t.dx*e.m12+t.dy*e.m22+e.dy}},t.ac=function(t){return t.m11*t.m22-t.m12*t.m21},t.Jl=function(t,e){return{x:e.x*t.m11+e.y*t.m21+t.dx,y:e.x*t.m12+e.y*t.m22+t.dy}},t.ql=function(t,e){return{cx:e.cx*t.m11+e.cy*t.m21,cy:e.cx*t.m12+e.cy*t.m22}}}(WinGdi||(WinGdi={}));var PsdLoader,PsdRenderer,KeyboardManager=function(){Mousetrap.addKeycodes({84:"KeyT",219:"BracketLeft",221:"BracketRight"}),Mousetrap.bind("BracketRight",function(t){var e=$("a[data-hotkey-prev]");if(e){var n=e.attr("href");n&&(window.location.hash=n)}}),Mousetrap.bind("BracketLeft",function(){var t=$("a[data-hotkey-next]");if(t){var e=t.attr("href");e&&(window.location.hash=e)}}),Mousetrap.bind("KeyT",function(){var t=$("[data-hotkey-findfile]");return!t||(t.focus(),!1)})},MarkdownLinkResolver=function(){function t(t,e,n){this.base=t,this.router=e,this.svnClient=n}return t.prototype.resolveLink=function(t){var e=Uri.getScheme(t);if(e){if("http"==e||"https"==e)return t}else{var n=RepoPath.resolveRelativePath(this.base.path,t);if(n)return this.router.build(new RepoViewPlace(this.base.repo,this.base.rev,n))}return""},t.prototype.resolveImage=function(t){var e=Uri.getScheme(t);if(e){if("http"==e||"https"==e)return t}else{var n=RepoPath.resolveRelativePath(this.base.path,t);if(n)return this.svnClient.getFileContentURL(new SvnRepoPathRev(this.base.repo,n,this.base.rev))}return""},t}(),MarkedRenderImpl=function(){function i(t){this.resolver=t}return i.escapeHtml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},i.prototype.code=function(t,e,n){return e?'<pre><code class="'+i.escapeHtml(e)+'">'+(n?t:i.escapeHtml(t))+"\n</code></pre>\n":"<pre><code>"+(n?t:i.escapeHtml(t))+"\n</code></pre>"},i.prototype.blockquote=function(t){return"<blockquote>"+t+"</blockquote>"},i.prototype.html=function(t){return t},i.prototype.heading=function(t,e,n){return"<h"+e+">"+t+"</h"+e+">\n"},i.prototype.hr=function(){return"<hr>"},i.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},i.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},i.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},i.prototype.table=function(t,e){return"<table><thead>"+t+"</thead><tbody>\n"+e+"</tbody></table>"},i.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},i.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},i.prototype.strong=function(t){return"<strong>"+t+"</strong>"},i.prototype.em=function(t){return"<em>"+t+"</em>"},i.prototype.codespan=function(t){return"<code>"+t+"</code>"},i.prototype.br=function(){return"<br>"},i.prototype.del=function(t){return"<del>"+t+"</del>"},i.prototype.link=function(t,e,n){var i='<a href="'+(t=this.resolver.resolveLink(t))+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},i.prototype.image=function(t,e,n){var i='<img src="'+(t=this.resolver.resolveImage(t))+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=">"},i}(),Markdown=function(){function t(){}return t.prototype.render=function(t,e){return marked.parse(t,{renderer:new MarkedRenderImpl(e),sanitize:!0})},t}(),ProgressElement=function(){function i(t){this.element=document.createElement("div"),this.element.className="progress-element",this.element.innerHTML="<svg viewBox='-11 -11 22 22'>  <ellipse class='background' rx='9' ry='9' />  <ellipse class='spinner' rx='9' ry='9' transform='rotate(-90)' /> </svg>",t?(this.progressVal=0,this.element.classList.add("determinate")):(this.progressVal=.25,this.element.classList.add("indeterminate")),this.spinnerElement=this.element.querySelector(".spinner"),this.updateStrokeDasharray()}return i.embed=function(t,e){var n=new i(e);return t.appendChild(n.element),n},i.prototype.setDeterminateProgress=function(t){this.progressVal=t,this.updateStrokeDasharray()},i.prototype.updateStrokeDasharray=function(){var t=2*Math.PI*9,e=t*this.progressVal;this.spinnerElement.style.strokeDasharray=[e,t].join(",")},i}();!function(t){function R(n){var i=0;function r(t){if(i+t>n.byteLength)throw new Error("Unexpected end of file.")}return{To:function(){r(1);var t=n.getUint8(i);return i+=1,t},Ds:function(){r(2);var t=n.getUint16(i,!1);return i+=2,t},Ms:function(){r(4);var t=n.getUint32(i,!1);return i+=4,t},sc:function(){var t=4294967296*this.Ms()+this.Ms();if(9007199254740991<t)throw new Error("Unexpected data in the stream (number overflow).");return t},oc:function(t){r(t);var e=new Uint8Array(n.buffer,n.byteOffset+i,t);return i+=t,e},lc:function(t){r(t);var e=new Int8Array(n.buffer,n.byteOffset+i,t);return i+=t,e},rl:function(t){r(t),i+=t},uc:function(){return i>=n.byteLength},hc:function(t){r(t);var e=new DataView(n.buffer,n.byteOffset+i,t);return i+=t,e}}}function I(t,e){for(var n=0,i=0;i<t.length;){var r=t[i];if(i++,-128===r);else if(r<0){for(var a=t[i],s=1-r;0<s;s--)e[n]=a,n++;i++}else s=r+1,e.set(t.subarray(i,i+s),n),n+=s,i+=s}if(n!==e.byteLength)throw new Error("Invalid PackBits data.")}function X(t){t.Ms();var e=t.Ms(),n=t.Ms();t.rl(8);var i=t.Ms();t.rl(4);var r=t.oc(i);return{Ko:e,Wo:n,fc:new Blob([r],{type:"image/jpeg"})}}(PsdLoader||(PsdLoader={})).parse=function(t){var e=R(new DataView(t)),n=e.Ms();if(943870035!==n)throw new Error("Unexpected file signature (0x"+n.toString(16)+").");var i,r=e.Ds();if(1===r)i=!1;else{if(2!==r)throw new Error("Unsupported file version ("+r+").");i=!0}e.rl(6);var a=e.Ds();if(a<1||56<a)throw new Error("Invalid file header.");var s=e.Ms(),o=e.Ms();if(s<1||3e5<s||o<1||3e5<o)throw new Error("Invalid image size.");var l=e.Ds();if(1!==l&&8!==l&&16!==l&&32!==l)throw new Error("Invalid image color depth ("+l+").");var c=e.Ds();if(c<0||9<c)throw new Error("Invalid image color mode ("+c+").");var u,h=void 0,f=!0,d=void 0;u=e.Ms();var v=e.oc(u);u=e.Ms();for(var p=R(e.hc(u));!p.uc();){var m=p.Ms();if(943868237!==m)throw new Error("Unexpected image resource signature (0x"+m.toString(16)+").");var w=p.Ds(),g=p.To();p.rl(1|g);var $=p.Ms(),_=R(p.hc($));p.rl($%2),1033===w||1036===w?d=X(_):1047===w?h=_.Ds():1057===w&&(_.rl(4),f=0!=_.To())}u=i?e.sc():e.Ms(),e.rl(u);var b=null,y=e.Ds();if(0===y){for(var x=new Array(a),P=0;P<a;P++)x[P]=e.oc(o*s*(l/8));b={dc:x}}else{if(1!==y)throw new Error("Unsupported image data compression method ("+y+").");var S;if(i){var H=e.hc(s*a*4);S=function(t,e){return H.getUint32(4*(t*s+e),!1)}}else H=e.hc(s*a*2),S=function(t,e){return H.getUint16(2*(t*s+e),!1)};for(x=new Array(a),P=0;P<a;P++){for(var U=new Uint8Array(o*s*(l/8)),k=0;k<s;k++)I(e.lc(S(P,k)),new Uint8Array(U.buffer,k*o*(l/8),o*(l/8)));x[P]=U}b={dc:x}}return{Ko:o,Wo:s,vc:a,pc:f,mc:b,wc:l,gc:c,$c:v,_c:h,bc:d}}}(),function(t){function F(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function v(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function E(t,e,n,i,r,a,s){if(32===n){var o=v(i),l=v(r),c=v(a),u=null;null!==s&&(u=v(s));for(var h=0,f=0;f<4*e;)t[f+0]=255*F(o.getFloat32(h,!1)),t[f+1]=255*F(l.getFloat32(h,!1)),t[f+2]=255*F(c.getFloat32(h,!1)),t[f+3]=null!==s?255*u.getFloat32(h,!1):255,f+=4,h+=4}else{h=0,f=0;for(var d=n/8;f<4*e;)t[f+0]=i[h],t[f+1]=r[h],t[f+2]=a[h],t[f+3]=null!==s?s[h]:255,f+=4,h+=d}}(PsdRenderer||(PsdRenderer={})).renderCanvas=function(t){var e=document.createElement("canvas");e.width=t.Ko,e.height=t.Wo;var n=e.getContext("2d"),i=n.createImageData(e.width,e.height),r=t.Wo*t.Ko,a=t.wc/8;if(0===t.gc){if(1!==t.wc)throw new Error("Unsupported color depth of the bitmap image data ("+t.wc+").");for(var s=t.mc.dc[0],o=0,l=0;l<4*r;){for(var c=s[o],u=7;0<=u;u--){var h=c&1<<u?0:255;i.data[l+0]=h,i.data[l+1]=h,i.data[l+2]=h,i.data[l+3]=255,l+=4}o+=1}}else if(3===t.gc){if(t.vc<3)throw Error("Invalid image channel count ("+t.vc+").");var f=t.mc.dc[0],d=t.mc.dc[1],v=t.mc.dc[2],p=null;3<t.vc&&(p=t.mc.dc[3]),E(i.data,r,t.wc,f,d,v,p)}else if(1===t.gc||8===t.gc){var m=t.mc.dc[0];p=null,1<t.vc&&(p=t.mc.dc[1]),E(i.data,r,t.wc,m,m,m,p)}else if(4===t.gc){if(t.vc<4)throw Error("Invalid image channel count ("+t.vc+").");var w=t.mc.dc[0],g=t.mc.dc[1],$=t.mc.dc[2],_=t.mc.dc[3];p=null,4<t.vc&&(p=t.mc.dc[4]),l=o=0;for(var b=1/255;l<4*r;){h=1-w[o]*b;var y=1-g[o]*b,x=1-$[o]*b,P=1-_[o]*b;i.data[l+0]=255+h*(-4.387332384609988*h+54.48615194189176*y+18.82290502165302*x+212.25662451639585*P-285.2331026137004)+y*(1.7149763477362134*y-5.6096736904047315*x+-17.873870861415444*P-5.497006427196366)+x*(-2.5217340131683033*x-21.248923337353073*P+17.5119270841813)+P*(-21.86122147463605*P-189.48180835922747),i.data[l+1]=255+h*(8.841041422036149*h+60.118027045597366*y+6.871425592049007*x+31.159100130055922*P-79.2970844816548)+y*(-15.310361306967817*y+17.575251261109482*x+131.35250912493976*P-190.9453302588951)+x*(4.444339102852739*x+9.8632861493405*P-24.86741582555878)+P*(-20.737325471181034*P-187.80453709719578),i.data[l+2]=255+h*(.8842522430003296*h+8.078677503112928*y+30.89978309703729*x-.23883238689178934*P-14.183576799673286)+y*(10.49593273432072*y+63.02378494754052*x+50.606957656360734*P-112.23884253719248)+x*(.03296041114873217*x+115.60384449646641*P-193.58209356861505)+P*(-22.33816807309886*P-180.12613974708367),i.data[l+3]=null!==p?p[o]:255,l+=4,o+=a}}else if(2===t.gc){if(8!==t.wc)throw new Error("Unsupported color depth of the indexed image data ("+t.wc+").");for(var S=t.mc.dc[0],H=t.$c,U=Math.floor(H.length/3),k=(l=o=0,t._c);l<4*r;)(h=S[o])===k?i.data[l+3]=0:(i.data[l+0]=H[h],i.data[l+1]=H[h+1*U],i.data[l+2]=H[h+2*U],i.data[l+3]=255),l+=4,o+=a}else{if(7===t.gc)throw new Error("Unsupported color mode (Multichannel).");if(9===t.gc){if(t.vc<3)throw Error("Invalid image channel count ("+t.vc+").");var R=t.mc.dc[0],I=t.mc.dc[1],X=t.mc.dc[2];p=null,3<t.vc&&(p=t.mc.dc[3]),l=o=0;for(var L=6/29;l<4*r;){var C=(16+(100*R[o]>>8))/116,B=C+(I[o]-128)/500,V=C-(X[o]-128)/200,M=L<B?.95047*Math.pow(B,3):3*(B-4/29)*Math.pow(L,2),D=(x=L<C?1*Math.pow(C,3):3*(C-4/29)*Math.pow(L,2),L<V?1.08883*Math.pow(V,3):3*(V-4/29)*Math.pow(L,2));i.data[l+0]=255*F(3.2404542*M-1.5371385*x-.4985314*D),i.data[l+1]=255*F(-.969266*M+1.8760108*x+.041556*D),i.data[l+2]=255*F(.0556434*M-.2040259*x+1.0572252*D),i.data[l+3]=null!==p?p[o]:255,l+=4,o+=a}}else assertNever(t.gc)}return n.putImageData(i,0,0),e}}();var ReadmePresenter=function(){function t(t){this.curtain=t}return t.prototype.setMarkdownReadme=function(t,e,n){var i=(new Markdown).render(e,n);this.curtain.showTemplate("<div class='Box Box--condensed mt-4'>  <div class='Box-header px-2'>    <h3 class='Box-title pr-3'><span class='mr-1'>{{icon-book}}</span>{{title}}</h3>  </div>  <div class='p-6 readme-content markdown'><div class='markdown-body'>{{content}}</div></div>",{title:t,content:new Handlebars.SafeString(i)})},t.prototype.setTextReadme=function(t,e,n){this.curtain.showTemplate("<div class='Box Box--condensed mt-4'>  <div class='Box-header px-2'>    <h3 class='Box-title pr-3'><span class='mr-1'>{{icon-book}}</span>{{title}}</h3>  </div>  {{#if showPlainTextWarning}}    <div class='flash flash-full flash-warn text-center py-2'>Displaying the file as plain text because it is larger than 1 MB.</div>  {{/if}}  <div class='p-6 readme-content text'><pre>{{content}}</pre></div></div>",{title:t,content:e,showPlainTextWarning:n})},t.prototype.setLargeFileReadme=function(t){this.curtain.showTemplate("<div class='Box Box--condensed mt-4'>  <div class='Box-header px-2'>    <h3 class='Box-title pr-3'><span class='mr-1'>{{icon-book}}</span>{{title}}</h3>  </div>  <div class='flash flash-full flash-warn text-center border-bottom-0 text-center'>Text files larger than 5 MB cannot be displayed in browser.</div></div>",{title:t})},t.prototype.setError=function(t,e){this.curtain.showTemplate("<div class='Box Box--condensed mt-4'>  <div class='Box-header px-2'>    <h3 class='Box-title pr-3'><span class='mr-1'>{{icon-book}}</span>{{title}}</h3>  </div>  <div class='Box-row p-4 text-center'><h5>{{error}}</h5></div></div>",{title:t,error:e})},t}(),ReadmeController=function(){function t(t,e,n,i,r,a){this.lifetime=t,this.presenter=e,this.svnClient=n,this.model=i,this.router=r,this.settings=a}return t.prototype.start=function(n,i){var r=this;this.model.isLargeFile(i)?this.presenter.setLargeFileReadme(i.name):this.svnClient.getFileContentByURL(this.lifetime,i.checkedInURL).done(function(t){if(r.isMarkdown(i))if(i.contentLength<r.settings.enhancedFileRenderLimit){var e=new MarkdownLinkResolver(n,r.router,r.svnClient);r.presenter.setMarkdownReadme(i.name,t,e)}else r.presenter.setTextReadme(i.name,t,!0);else r.presenter.setTextReadme(i.name,t,!1)}).fail(function(t,e){r.presenter.setError(i.name,e)})},t.prototype.isMarkdown=function(t){return t.name.toLowerCase().endsWith(".md")},t}();Handlebars.registerHelper("add",function(t,e){return t+e}),Handlebars.registerHelper("formatFileSize",formatFileSize),Handlebars.registerHelper("formatDate",formatDate),Handlebars.registerHelper("formatDateFromNow",formatDateFromNow),Handlebars.registerHelper("selfUrl",function(){return window.location.hash}),Icons.forEach(function(n){Handlebars.registerHelper("icon-"+n,function(){return t=n,void 0!==(e=Icons.renderSvgIcon(t,"octicon"))?new Handlebars.SafeString(e):(console.error("Icon not found ("+t+")"),"");var t,e})});var TextDiffViewer,PlaceToFactoryMap=function(t,e){this.check=t,this.factory=e},TopLevelController=function(){function t(t,e,n){var i=this;this.placeToActivityMap=[],this.currentActivity=null,this.currentPlace=null,this.view=t,this.svnClient=e,this.router=new RouteImpl,this.keyboardManager=new KeyboardManager,this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof DefaultPlace},function(t,e){return new RepoListActivity(t,new RepoListPresenter(e),i.router,i.svnClient)})),this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof RepoViewPlace},function(t,e){return new RepoViewActivity(t,new RepoViewPresenter(e,i.router),i.router,i.svnClient,n)})),this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof HistoryPlace},function(t,e){return new HistoryActivity(t,e,i.router,i.svnClient)})),this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof CommitDetailsPlace},function(t,e){return new CommitDetailsActivity(t,e,i.router,i.svnClient)})),this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof BlamePlace},function(t,e){return new BlameActivity(t,new BlamePresenter(e,i.router),i.router,i.svnClient,n)})),this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof AccountSettingsPlace},function(t,e){return new AccountSettingsActivity(t,e,i.router,n)})),this.placeToActivityMap.push(new PlaceToFactoryMap(function(t){return t instanceof NotFoundPlace},function(t,e){return new NotFoundActivity(t,new NotFoundPresenter(e),i.router,i.svnClient)}))}return t.prototype.navigateTo=function(t){var e=this.currentPlace,n=this.router.parse(t);if(this.currentActivity&&this.currentActivity.tryNavigate&&this.currentActivity.tryNavigate(n))this.currentPlace=n;else{if(null!=this.currentLifetime){var i=this.currentLifetime;this.currentLifetime=null,i.terminate()}this.currentLifetime=Lifetimes.define(Lifetimes.eternalLifetime,t);var r=this.currentLifetime.lifetime,a=new TopLevelCurtain(r,this.view);for(var s in this.placeToActivityMap){var o=this.placeToActivityMap[s];if(o.check(n)){this.currentActivity=o.factory(r,a);break}}this.currentPlace=n,this.currentActivity.start(n,e)}},t}();!function(t){var r=function(){function t(t,e,n,i){this.templates={},this.lifetime=t,this.curtain=new ElementCurtain(t,e),this.router=n,this.onSelectionChanged=i,this.templates[3]=Handlebars.compile("{{#each lines}} <tr class='udiff-line text-mono' >   <td class='line-number old' data-line-num='{{add ../oldLineNumber @index}}' />   <td class='line-number new' data-line-num='{{add ../newLineNumber @index}}' />   <td class='line-code'> {{this}}</td> </tr>{{/each}}"),this.templates[1]=Handlebars.compile("{{#each lines}} <tr class='udiff-line added text-mono' >   <td class='line-number old' />   <td class='line-number new' data-line-num='{{add ../newLineNumber @index}}' />   <td class='line-code'>+{{this}}</td> </tr>{{/each}}"),this.templates[2]=Handlebars.compile("{{#each lines}} <tr class='udiff-line removed text-mono' >   <td class='line-number old' data-line-num='{{add ../oldLineNumber @index}}' />   <td class='line-number new' />   <td class='line-code'>-{{this}}</td> </tr>{{/each}}"),this.moreUpTemplate=Handlebars.compile("<tr>  <td colspan='2' class='more-container border-bottom'>    <a id='up' class='more-up d-inline-block width-full text-center bg-blue-light text-gray'>{{icon-triangle-up}}</a>  </td>  <td class='line-code'></tr>"),this.moreDownTemplate=Handlebars.compile("<tr>  <td colspan='2' class='more-container border-top'>    <a id='down' class='more-down d-inline-block width-full text-center bg-blue-light text-gray'>{{icon-triangle-down}}</a>  </td>  <td class='line-code'></tr>"),this.moreUpDownTemplate=Handlebars.compile("<tr>  <td colspan='2' class='more-container adjacent border-y'>    <a id='down' class='more-down d-inline-block width-full text-center border-bottom bg-blue-light text-gray'>{{icon-triangle-down}}</a>    <a id='up' class='more-up d-inline-block width-full text-center border-top bg-blue-light text-gray'>{{icon-triangle-up}}</a>  </td>  <td class='line-code'></tr>")}return t.prototype.start=function(t,e,n){var i=this;this.oldTarget=e,this.newTarget=n,this.lineContainer=document.createElement("table"),this.lineContainer.className="diff-container",this.lineContainer.addEventListener("click",function(t){return i.onClick(t)});for(var r=1,a=1,s=document.createDocumentFragment(),o=$(s),l=Array(),c=null,u=null,h=0;h<t.length;h++){var f=t[h];if(f.added||f.removed){var d,v=this.renderLines(f.value,r,a,this.getChangeType(f)),p=$(v);p.appendTo(o),d=p.get(0),f.added?a+=f.value.length:r+=f.value.length;var m=u;u={before:c,after:null,firstNode:d,lastNode:s.lastChild,prevFragment:m},null!=m&&(m.nextFragment=u),l.push(u),c=null}else console.assert(null==c),c={lines:f.value,oldRangeStart:r,newRangeStart:a},null!=u&&(u.after=c),r+=f.value.length,a+=f.value.length}for(h=0;h<l.length;h++){var w=l[h];this.appendBefore(w,3),this.appendAfter(w,3)}if(0<l.length){for(w=l[0];null!=w;)this.renderButtons(w.prevFragment,w),w=w.nextFragment;this.renderButtons(l[l.length-1],null)}this.lineContainer.appendChild(s),this.curtain.showElement(this.lineContainer)},t.prototype.onClick=function(t){var e=t.target;if(e.classList.contains("line-number")){var n=e.parentElement;n.hasAttribute("data-selected")||(this.clearSelectionImpl(),this.setSelectionImpl(n))}},t.prototype.clearSelection=function(){this.clearSelectionImpl()},t.prototype.setSelectionImpl=function(t){var e,n,i=t.querySelector(".line-number.new[data-line-num]");i&&(e=parseInt(i.getAttribute("data-line-num"),10));var r,a,s=t.querySelector(".line-number.old[data-line-num]");s&&(n=parseInt(s.getAttribute("data-line-num"),10)),i?(r=this.router.build(new RepoViewPlace(this.newTarget.repo,this.newTarget.rev,this.newTarget.path,null,e)),a=this.router.build(new BlamePlace(this.newTarget.repo,this.newTarget.rev,this.newTarget.path,e))):(r=this.router.build(new RepoViewPlace(this.oldTarget.repo,this.oldTarget.rev,this.oldTarget.path,null,n)),a=this.router.build(new BlamePlace(this.oldTarget.repo,this.oldTarget.rev,this.oldTarget.path,n)));var o=document.createElement("div");o.innerHTML=Handlebars.compile("<details class='line-menu position-absolute dropdown details-reset details-overlay'><summary class='btn btn-outline link-gray bg-white border border-gray-dark rounded-1 p-1'>{{icon-kebab-vertical}}</summary><ul class='dropdown-menu dropdown-menu-se text-system-font text-left'><a class='dropdown-item btn-link' href='{{viewUrl}}'>Go to file contents</a><a class='dropdown-item btn-link' href='{{blameUrl}}'>View blame</a></ul></details>")({viewUrl:r,blameUrl:a}),t.querySelector("td").insertBefore(o,null),this.selectedLineMenu=o,t.setAttribute("data-selected",""),this.onSelectionChanged&&this.onSelectionChanged({oldLine:n,newLine:e})},t.prototype.clearSelectionImpl=function(){if(this.selectedLineMenu){var t=this.selectedLineMenu.parentElement;t&&t.removeChild(this.selectedLineMenu);var e=this.lineContainer.querySelector("[data-selected]");e&&e.removeAttribute("data-selected"),this.selectedLineMenu=void 0}},t.prototype.renderButtons=function(i,t){var r=this,a=null;if(null==i?null!=t.before&&0<t.before.lines.length&&((a=$(this.moreUpTemplate({}))).insertBefore($(t.firstNode)),t.upButtonBlock=a.get(0)):null==t?null!=i.after&&0<i.after.lines.length&&((a=$(this.moreDownTemplate({}))).insertAfter($(i.lastNode)),i.downButtonBlock=a.get(0)):null!=t.before&&0<t.before.lines.length&&((a=$(this.moreUpDownTemplate({}))).insertAfter($(i.lastNode)),i.downButtonBlock=a.get(0),t.upButtonBlock=a.get(0)),null!=a){var e=$(a).find("#down");0<e.length&&e.click(function(){var t=a.position().top;r.appendAfter(i,10);var e=i.downButtonBlock;if(null!=e){var n=$(e).position().top-t;$(document).scrollTop($(document).scrollTop()+n)}});var n=$(a).find("#up");0<n.length&&n.click(function(){r.appendBefore(t,10)})}},t.prototype.renderLines=function(t,e,n,i){return this.templates[i]({lines:t,oldLineNumber:e,newLineNumber:n})},t.prototype.getChangeType=function(t){return t.added?1:t.removed?2:3},t.prototype.appendBefore=function(t,e){var n=t.firstNode,i=t.before;if(null!=i&&0!=i.lines.length){var r=e;i.lines.length<e&&(r=i.lines.length),r=Math.min(r,i.lines.length);var a=i.lines.splice(i.lines.length-r,r),s=i.newRangeStart+i.lines.length,o=i.oldRangeStart+i.lines.length,l=this.renderLines(a,o,s,3),c=$(l);c.insertBefore($(n)),t.firstNode=c.get(0),0==i.lines.length&&($(t.upButtonBlock).detach(),(t.upButtonBlock=null)!=t.prevFragment&&(t.prevFragment.downButtonBlock=null))}},t.prototype.appendAfter=function(t,e){var n=t.lastNode,i=t.after;if(null!=i&&0!=i.lines.length){var r=e;i.lines.length<e&&(r=i.lines.length),r=Math.min(r,i.lines.length);var a=i.lines.splice(0,r),s=i.newRangeStart,o=i.oldRangeStart;i.newRangeStart+=r,i.oldRangeStart+=r;var l=this.renderLines(a,o,s,3),c=$(l);c.insertAfter($(n)),t.lastNode=c.get(c.length-1),0==i.lines.length&&($(t.downButtonBlock).detach(),(t.downButtonBlock=null)!=t.nextFragment&&(t.nextFragment.upButtonBlock=null))}},t}();t.create=function(t,e,n,i){return new r(t,e,n,i)}}(TextDiffViewer||(TextDiffViewer={}));var ErrorsHandler=function(){var n=this;this.errorsWindow=new ErrorsWindow,window.addEventListener("error",function(t){var e="UNKNOWN";null==(e=null!=t.error?t.error.message:t.message)&&(e="UNDEFINED"),n.errorsWindow.append("Error: "+e)})},ErrorsWindow=function(){function t(){var t=this;this.errorDiv=$("#errors-popup"),this.errorDiv.click(function(){t.errorDiv.fadeOut(500),t.errorDiv.empty()})}return t.prototype.append=function(t){this.errorDiv.append($("<p />",{text:t})),this.errorDiv.fadeIn(100)},t}(),CommitDetailsActivity=function(){function t(t,e,n,i){this.lifetime=t,this.router=n,this.svnClient=i,this.curtain=e,this.model=new Model(i)}return t.prototype.prepareBreadCrumbItems=function(e){var n=this,t=RepoPath.split(e.repoPath),i="/",r=t.map(function(t){return i=RepoPath.addComponent(i,t),{name:t,url:n.router.build(new RepoViewPlace(e.repoName,e.pegRevision,i))}});return[{url:this.router.build(new RepoViewPlace(e.repoName,e.pegRevision,"/")),name:e.repoName}].concat(r)},t.prototype.prepareNavbar=function(t){var e=getBaseUrl(window.location)+this.svnClient.getRelativeSvnRepoUrl(t.repoName,t.repoPath,t.revision);return{breadcrumbItems:this.prepareBreadCrumbItems(t),homeUrl:this.router.build(new DefaultPlace),viewSwitcherSourceUrl:this.router.build(new RepoViewPlace(t.repoName,t.pegRevision,t.repoPath)),viewSwitcherHistoryUrl:this.router.build(new HistoryPlace(t.repoName,t.pegRevision,t.repoPath)),svnRepoUrl:e,gotoHeadUrl:this.router.build(new RepoViewPlace(t.repoName,null,t.repoPath)),revision:t.pegRevision,historyViewActive:!0}},t.prototype.buildTitle=function(t){return"r"+t.revision+" - "+t.repoName},t.prototype.start=function(n){var i=this,r=this.prepareNavbar(n),a=new SvnRepoPathRev(n.repoName,n.repoPath,n.pegRevision);this.model.getCommitDetails(this.lifetime,n.revision,a).done(function(t){var e=i.curtain.showTemplate(i.buildTitle(n),"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='commit-view' />  </div></div>",{navbar:UIElements.renderNavbar(r)});new CommitDetailsViewer(i.lifetime,e.querySelector(".commit-view"),a,n.revision,i.router,i.model,new HistoryPlace(n.repoName,n.pegRevision,n.repoPath)).start(t)}).fail(function(t,e){i.curtain.showTemplate(i.buildTitle(n),"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box p-4 text-center' data-collapse-navbar-border>      <h5>{{error}}</h5>    </div>  </div></div>",{navbar:UIElements.renderNavbar(r),error:e})})},t}();PDFJS.disableRange=!0;var HistoryEventsHandler=function(){function t(t){var e=this;this.lastUrl=null,this.navigator=t,window.addEventListener("popstate",function(t){e.navigateTo(window.location.hash)}),window.addEventListener("hashchange",function(t){e.navigateTo(window.location.hash)}),this.navigateTo(window.location.hash)}return t.prototype.navigateTo=function(t){-1==t.indexOf("#")&&(t="#"+t),this.lastUrl!=t&&(this.lastUrl=t,this.navigator.navigateTo(t))},t}(),ClipboardJSHandler=function(){new ClipboardJS(".clipboard-copy, .clipboard-cut").on("success",function(t){t.clearSelection();var e=t.trigger,n=e.className,i=e.getAttribute("aria-label");e.classList.add("tooltipped"),e.classList.add("tooltipped-no-delay"),e.classList.add("tooltipped-s"),e.setAttribute("aria-label","Copied!"),e.addEventListener("blur",function(t){e.removeEventListener(t.type,arguments.callee),e.className=n,i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")})})},AccountMenu=function(t){var e=t.showTemplate("<details class='dropdown details-reset details-overlay d-inline-block'>  <summary class='btn btn-outline text-normal mr-1'>Account <span class='dropdown-caret'></span></summary>  <ul class='dropdown-menu dropdown-menu-sw width-auto'>    <li><a class='dropdown-item px-3' href='#/account/password' id='change-password'>{{icon-key}}<span class='ml-2 mr-2'>Change password</span></a></li>  </ul></details>");e.querySelector(".dropdown-menu").addEventListener("click",function(){return e.removeAttribute("open")})},FocusWithinPolyfill=function(){var e;if(CSS&&CSS.supports&&CSS.supports(":focus-within"))e=!0;else try{document.querySelector(":focus-within"),e=!0}catch(t){e=!1}e||(document.documentElement.setAttribute("data-polyfill-focus-within",""),document.addEventListener("focus",function(t){for(var e=t.target;e;)e.setAttribute("data-focus-within",""),e=e.parentElement},!0),document.addEventListener("blur",function(t){for(var e=t.target;e;)e.removeAttribute("data-focus-within"),e=e.parentElement},!0))};function isBrowserSupported(){return document.addEventListener&&!isNaN(Date.parse("2000-01-01T00:00:00.1230Z"))&&"undefined"!=typeof Worker&&document.documentElement&&document.documentElement.dataset&&"flexWrap"in document.documentElement.style&&"undefined"!=typeof Set&&"undefined"!=typeof Map}$(document).ready(function(){var t=document.createElement("meta");if(t.setAttribute("http-equiv","Content-Security-Policy"),t.setAttribute("content","script-src 'unsafe-eval';child-src 'self';frame-src 'none';worker-src 'self'"),document.head.appendChild(t),!isBrowserSupported()){var e=document.getElementById("unsupported-browser-msg");e&&(e.style.display="block")}var n=document.documentElement;if(n.hasAttribute("data-visualsvn-root")){var i={root:n.getAttribute("data-visualsvn-root"),enableSelfPasswordChange:"true"===n.getAttribute("data-visualsvn-enable-self-password-change"),enhancedFileRenderLimit:1048576};PDFJS.workerSrc="assets/scripts/pdf.worker.js?v="+n.getAttribute("data-visualsvn-pdfworker-version"),Diff.workerSrc="assets/scripts/diff.worker.js?v="+n.getAttribute("data-visualsvn-diffworker-version"),Blame.workerSrc="assets/scripts/blame.worker.js?v="+n.getAttribute("data-visualsvn-blameworker-version"),FindFile.workerSrc="assets/scripts/findfile.worker.js?v="+n.getAttribute("data-visualsvn-findfileworker-version"),history.scrollRestoration="manual",new FocusWithinPolyfill,new ErrorsHandler,new ClipboardJSHandler;var r=new SvnClient(i.root),a=new TopLevelView(document.getElementById("content"));if(i.enableSelfPasswordChange){var s=new ElementCurtain(Lifetimes.eternalLifetime,document.getElementById("account-menu"));new AccountMenu(s)}var o=new TopLevelController(a,r,i);new HistoryEventsHandler(o)}});var UIElements,LifetimeImpl=function(){function t(t,e){this.disposables=[],this.id=t,this.isEternal=e}return t.prototype.__close=function(){if(this.isEternal)throw Error("Cannot terminate Eternal lifetime");if(this.isTerminated())throw Error("Lifetime '"+this.id+"' was terminated twice");var t=this.disposables;this.disposables=null,t.forEach(function(t){return t.dispose()})},t.prototype.__removeNested=function(t){if(!this.isEternal&&!this.isTerminated())for(var e;-1!==(e=this.disposables.indexOf(t));)this.disposables.splice(e,1)},t.prototype.isTerminated=function(){return!this.isEternal&&null==this.disposables},t.prototype.addAction=function(t){if(!this.isEternal){if(this.isTerminated())throw Error("Lifetime '"+this.id+"' is terminated");this.disposables.push({dispose:function(){t()}})}},t.prototype.addDispose=function(t){if(!this.isEternal){if(this.isTerminated())throw Error("Lifetime '"+this.id+"' is terminated");this.disposables.push(t)}},t.prototype.addDeferred=function(t){if(!this.isEternal){if(this.isTerminated())throw Error("Lifetime '"+this.id+"' is terminated");this.disposables.push({dispose:function(){t.reject(null,"Interrupted")}})}},t.prototype.addXhr=function(t){if(!this.isEternal){if(this.isTerminated())throw Error("Lifetime '"+this.id+"' is terminated");this.disposables.push({dispose:function(){t.abort("Interrupted")}})}},t}(),LifetimeDefinition=function(){function t(t){this.lifetime=new LifetimeImpl(t,!1)}return t.prototype.terminate=function(){var t=this.lifetime;t.isTerminated()||t.__close()},t}(),LifetimesImpl=function(){function t(){this.eternalLifetime=new LifetimeImpl("Eternal",!0)}return t.prototype.intersect=function(t,e,n){void 0===n&&(n="unnamed");var i=new LifetimeDefinition(n),r={dispose:function(){i.terminate()}};return t.addDispose(r),e.addDispose(r),i.lifetime.addAction(function(){t.__removeNested(r),e.__removeNested(r)}),i},t.prototype.define=function(t,e){void 0===e&&(e="unnamed");var n=new LifetimeDefinition(e),i={dispose:function(){n.terminate()}};return t.addDispose(i),n.lifetime.addAction(function(){t.__removeNested(i)}),n},t}(),Lifetimes=new LifetimesImpl,SvnRepoPathRev=function(){function e(t,e,n){this.repo=t,this.path=e,this.rev=n}return e.prototype.addComponent=function(t){return new e(this.repo,RepoPath.addComponent(this.path,t),this.rev)},e}(),Model=function(){function s(t){this.svnClient=t,this.autoDownloadFileLimit=5242880}return s.isBinaryMimeType=function(t){return!!t&&!t.startsWith("text/")},s.isBinaryFile=function(t){return t.mimeType?s.isBinaryMimeType(t.mimeType):!!t.checkedInURL.toLocaleLowerCase().endsWith(".pdf")||!!t.checkedInURL.toLocaleLowerCase().endsWith(".ai")},s.prototype.isLargeFile=function(t){return t.contentLength>this.autoDownloadFileLimit},s.getTextLineCount=function(t){"use strict";for(var e=0,n=0;;){var i=t.indexOf("\n",n);if(i<0){n<t.length&&e++;break}e++,n=i+1}return e},s.prototype.getCompareSide=function(t,e,n,i){var r=this,a=jQuery.Deferred();return t.addDeferred(a),this.svnClient.getDir(t,e,n,i).done(function(e){e.thisNode.collection?a.resolve({createdRev:e.thisNode.createdRev,isFile:!1,mimeType:e.thisNode.mimeType,contentLength:e.thisNode.contentLength,textContent:null,checkedInURL:e.thisNode.checkedInURL}):s.isBinaryFile(e.thisNode)?a.resolve({createdRev:e.thisNode.createdRev,isFile:!0,isBinaryFile:!0,mimeType:e.thisNode.mimeType,contentLength:e.thisNode.contentLength,textContent:null,checkedInURL:e.thisNode.checkedInURL}):r.svnClient.getFileContentByURL(t,e.thisNode.checkedInURL).done(function(t){a.resolve({createdRev:e.thisNode.createdRev,isFile:!0,isBinaryFile:!1,mimeType:e.thisNode.mimeType,contentLength:e.thisNode.contentLength,textContent:t,checkedInURL:e.thisNode.checkedInURL})}).fail(function(t,e){a.reject(null,e)})}).fail(function(t,e){a.reject(null,e)}),a.promise()},s.prototype.getDataForCompare=function(t,e,n,i,r){var a,s,o=jQuery.Deferred();return t.addDeferred(o),a=0!=r?this.getCompareSide(t,e,n,i-1):null,s=3!=r?this.getCompareSide(t,e,n,i):null,jQuery.when(a,s).done(function(t,e){o.resolve(new CompareInfo(t,e))}).fail(function(t,e){o.reject(null,e)}),o.promise()},s.prototype.getRepoNodeContent=function(t,e,n,i){var r=this,a=jQuery.Deferred();return t.addDeferred(a),this.svnClient.getDir(t,e,n,i).done(function(e){e.thisNode.collection?a.resolve({nodeInfo:e.thisNode,isCollection:!0,children:e.children}):s.isBinaryFile(e.thisNode)?a.resolve({nodeInfo:e.thisNode,isCollection:!1,isBinaryFile:!0,isLargeFile:r.isLargeFile(e.thisNode)}):r.isLargeFile(e.thisNode)?a.resolve({nodeInfo:e.thisNode,isCollection:!1,isBinaryFile:!1,isLargeFile:!0}):r.svnClient.getFileContentByURL(t,e.thisNode.checkedInURL).done(function(t){a.resolve({nodeInfo:e.thisNode,isCollection:!1,isBinaryFile:!1,isLargeFile:!1,textContent:t,lineCount:s.getTextLineCount(t)})}).fail(function(t,e){a.reject(null,e)})}).fail(function(t,e){a.reject(null,e)}),a.promise()},s.prototype.getCommitDetails=function(i,a,s){var o=this,l=jQuery.Deferred();return i.addDeferred(l),this.svnClient.getLocationSegments(i,s.repo,s.path,s.rev,a,a).done(function(t){var r=t[0].path,e=o.svnClient.getLog(i,s,{startRevision:a,endRevision:s.rev,limit:2}),n=o.svnClient.getLog(i,new SvnRepoPathRev(s.repo,r,a),{startRevision:a,endRevision:0,limit:2});$.when(e,n).done(function(t,e){var n=null;1<t.length&&(n=t[1].revision);var i=null;1<e.length&&(i=e[1].revision),l.resolve({nextRev:n,prevRev:i,logEntry:t[0],logPath:r})}).fail(function(t,e){l.reject(null,e)})}).fail(function(t,e){l.reject(null,e)}),l.promise()},s}(),CompareInfo=function(t,e){this.left=t,this.right=e},NotFoundActivity=function(){function t(t,e,n,i){this.lifetime=t,this.router=n,this.svnClient=i,this.presenter=e}return t.prototype.start=function(t){this.presenter.setNotFound(t.error)},t}(),NotFoundPresenter=function(){function t(t){this.curtain=t}return t.prototype.setNotFound=function(t){this.curtain.showTemplate("Not found","<div class='Box mt-4 p-3 text-center'>  <h4 class='p-2'>Page not found</h4>  <p class='text-gray text-small'>{{message}}</p></div>",{message:t})},t}(),Place=function(){},DefaultPlace=function(){},NotFoundPlace=function(t){this.error=t},RepoViewPlace=function(t,e,n,i,r){if(void 0===e&&(e=null),void 0===n&&(n="/"),void 0===i&&(i=null),void 0===r&&(r=null),0!=n.indexOf("/"))throw Error("repository path should start with '/'");this.repoName=t,this.revision=e,this.repoPath=n,this.anchor=i,this.line=r},HistoryPlace=function(){function r(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n="/"),void 0===i&&(i=r.DEFAULT_LIMIT),0!=n.indexOf("/"))throw Error("repository path should start with '/'");this.repoName=t,this.revision=e,this.repoPath=n,this.limit=i}return r.DEFAULT_LIMIT=25,r}(),CommitDetailsPlace=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i="/"),0!=i.indexOf("/"))throw Error("repository path should start with '/'");this.repoName=t,this.revision=e,this.repoPath=i,this.pegRevision=n},BlamePlace=function(t,e,n,i,r){if(void 0===e&&(e=null),void 0===n&&(n="/"),void 0===i&&(i=null),void 0===r&&(r=null),0!=n.indexOf("/"))throw Error("repository path should start with '/'");this.repoName=t,this.revision=e,this.repoPath=n,null!==i&&null===r&&(r=i+1),this.startLine=i,this.endLine=r},AccountSettingsPlace=function(t){this.type=t},RepoListActivity=function(){function t(t,e,n,i){this.lifetime=t,this.router=n,this.svnClient=i,this.presenter=e}return t.prototype.start=function(t){var n=this;this.svnClient.getRepoList(this.lifetime).done(function(t){var e=t.map(function(t){return{name:t.name,url:n.router.build(new RepoViewPlace(t.name))}});n.presenter.setRepoList(e)}).fail(function(t,e){n.presenter.setError(e)})},t}(),RepoListPresenter=function(){function t(t){this.curtain=t}return t.prototype.setRepoList=function(t){this.curtain.showTemplate(null,"<div id='repo-list'>  <ol class='d-flex flex-wrap'>  {{#each repos}}    <li class='repo-list-item d-flex mb-2 mr-2'>      <a class='btn width-full p-3' href='{{url}}'>       {{icon-database}} <span class='name h4 ml-2'>{{name}}</span>      </a>    </li>  {{/each}}  </ol></div>",{repos:t})},t.prototype.setError=function(t){this.curtain.showTemplate("Error","<div class='Box mt-4 p-3 text-center'>  <h4 class='p-2'>Error</h4>  <p class='text-gray text-small'>{{message}}</p></div>",{message:t})},t}(),HistoryActivity=function(){function t(t,e,n,i){this.lifetime=t,this.router=n,this.svnClient=i,this.curtain=e}return t.prototype.prepareBreadCrumbItems=function(e){var n=this,t=RepoPath.split(e.repoPath),i="/",r=t.map(function(t){return i=RepoPath.addComponent(i,t),{name:t,url:n.router.build(new RepoViewPlace(e.repoName,e.revision,i))}});return[{url:this.router.build(new RepoViewPlace(e.repoName,e.revision,"/")),name:e.repoName}].concat(r)},t.prototype.prepareNavbar=function(t){var e=getBaseUrl(window.location)+this.svnClient.getRelativeSvnRepoUrl(t.repoName,t.repoPath,t.revision);return{breadcrumbItems:this.prepareBreadCrumbItems(t),homeUrl:this.router.build(new DefaultPlace),viewSwitcherSourceUrl:this.router.build(new RepoViewPlace(t.repoName,t.revision,t.repoPath)),viewSwitcherHistoryUrl:this.router.build(t),svnRepoUrl:e,gotoHeadUrl:this.router.build(new RepoViewPlace(t.repoName,null,t.repoPath)),revision:t.revision,historyViewActive:!0}},t.prototype.buildTitle=function(t){return t.repoName+t.repoPath},t.prototype.start=function(t){this.place=t;var e=this.prepareNavbar(t),n=this.curtain.showTemplate(this.buildTitle(t),"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='history-view' />  </div></div>",{navbar:UIElements.renderNavbar(e)});this.viewer=new HistoryViewer(this.lifetime,n.querySelector(".history-view"),new SvnRepoPathRev(t.repoName,t.repoPath,t.revision),this.router,this.svnClient),this.viewer.start(t.limit)},t.prototype.tryNavigate=function(t){return!!(t instanceof HistoryPlace&&t.repoName===this.place.repoName&&t.repoPath===this.place.repoPath&&t.revision===this.place.revision&&this.viewer)&&(this.viewer.showLog(t.limit),this.place=t,!0)},t}(),RepoViewActivity=function(){function c(t,e,n,i,r){this.lifetime=t,this.router=n,this.svnClient=i,this.presenter=e,this.model=new Model(i),this.settings=r}return c.prototype.prepareBreadCrumbItems=function(e){var n=this,t=RepoPath.split(e.repoPath),i="/",r=t.map(function(t){return i=RepoPath.addComponent(i,t),{name:t,url:n.router.build(new RepoViewPlace(e.repoName,e.revision,i))}});return[{url:this.router.build(new RepoViewPlace(e.repoName,e.revision,"/")),name:e.repoName}].concat(r)},c.prototype.prepareNavbar=function(t){var e=getBaseUrl(window.location)+this.svnClient.getRelativeSvnRepoUrl(t.repoName,t.repoPath,t.revision);return{breadcrumbItems:this.prepareBreadCrumbItems(t),homeUrl:this.router.build(new DefaultPlace),viewSwitcherSourceUrl:this.router.build(t),viewSwitcherHistoryUrl:this.router.build(new HistoryPlace(t.repoName,t.revision,t.repoPath)),svnRepoUrl:e,gotoHeadUrl:this.router.build(new RepoViewPlace(t.repoName,null,t.repoPath)),revision:t.revision,sourceViewActive:!0}},c.prototype.buildTitle=function(t){return t.repoName+t.repoPath},c.prototype.getUpLevelUrl=function(t){return"/"!=t.repoPath?this.router.build(new RepoViewPlace(t.repoName,t.revision,RepoPath.removeLastComponent(t.repoPath))):null},c.isImageFile=function(t){var e=t.nodeInfo.checkedInURL.toLocaleLowerCase();return e.endsWith(".png")||e.endsWith(".gif")||e.endsWith(".jpg")||e.endsWith(".bmp")||e.endsWith(".jpeg")||e.endsWith(".ico")},c.isMarkdownFile=function(t){return t.nodeInfo.checkedInURL.toLocaleLowerCase().endsWith(".md")},c.isPdfFile=function(t){return t.nodeInfo.checkedInURL.toLocaleLowerCase().endsWith(".pdf")},c.isAdobeIllustratorFile=function(t){return t.nodeInfo.checkedInURL.toLocaleLowerCase().endsWith(".ai")},c.isDocXFile=function(t){var e=t.nodeInfo.checkedInURL.toLocaleLowerCase();return e.endsWith(".docx")||e.endsWith(".dotx")||e.endsWith(".docm")},c.isPsdFile=function(t){var e=t.nodeInfo.checkedInURL.toLocaleLowerCase();return e.endsWith(".psd")||e.endsWith(".psb")},c.prototype.showFile=function(t,e,n){var i=this,r=new SvnRepoPathRev(n.repoName,n.repoPath,n.revision);if(c.isImageFile(t))this.presenter.setImageContent(this.buildTitle(n),e,t,this.getUpLevelUrl(n));else if(c.isPdfFile(t))this.presenter.setPdfContent(this.buildTitle(n),this.lifetime,e,t,this.getUpLevelUrl(n),!1);else if(c.isAdobeIllustratorFile(t))this.presenter.setPdfContent(this.buildTitle(n),this.lifetime,e,t,this.getUpLevelUrl(n),!0);else if(c.isDocXFile(t)){var a={kr:function(t){return i.router.build(new RepoViewPlace(n.repoName,n.revision,n.repoPath,t))}};this.docXViewer=this.presenter.setDocXContent(this.buildTitle(n),this.lifetime,e,t,this.getUpLevelUrl(n),a),null!==n.anchor&&this.docXViewer.scrollToAnchor(n.anchor)}else if(c.isPsdFile(t))this.presenter.setPsdContent(this.buildTitle(n),this.lifetime,e,t,this.getUpLevelUrl(n));else if(t.isBinaryFile)this.presenter.setBinaryFileContent(this.buildTitle(n),e,t,this.getUpLevelUrl(n));else if(t.isLargeFile)this.presenter.setLargeFileContent(this.buildTitle(n),e,t,this.getUpLevelUrl(n));else if(c.isMarkdownFile(t))if(t.nodeInfo.contentLength<this.settings.enhancedFileRenderLimit){var s=new MarkdownLinkResolver(r,this.router,this.svnClient);this.presenter.setMarkdownContent(this.buildTitle(n),e,t,this.getUpLevelUrl(n),this.router.build(new BlamePlace(n.repoName,n.revision,n.repoPath)),s)}else this.showTextFile(t,r,e,n,!1,!0);else t.nodeInfo.contentLength<this.settings.enhancedFileRenderLimit?this.showTextFile(t,r,e,n,!0,!1):this.showTextFile(t,r,e,n,!1,!0)},c.prototype.showTextFile=function(t,e,n,i,r,a){this.textViewer=this.presenter.setTextFileContent(this.buildTitle(i),this.lifetime,n,e,t,this.getUpLevelUrl(i),this.router.build(new BlamePlace(i.repoName,i.revision,i.repoPath)),r,a),null!==i.line&&this.textViewer.selectLine(i.line,!0)},c.findBestReadme=function(t){for(var e=["readme.md","readme.txt","readme"],n=0;n<e.length;n++)for(var i=0;i<t.length;i++){var r=t[i];if(!r.collection&&!Model.isBinaryMimeType(r.mimeType))if(r.name.toLowerCase()==e[n])return r}return null},c.prototype.showDir=function(t,e,i,r){var a=this,n=t.children.map(function(t){var e,n=RepoPath.addComponent(i.repoPath,t.name);return e=r&&r instanceof RepoViewPlace?r.repoName===i.repoName&&RepoPath.isAncestor(n,r.repoPath):!!(r&&r instanceof BlamePlace)&&(r.repoName===i.repoName&&RepoPath.isAncestor(n,r.repoPath)),{node:t,url:a.router.build(new RepoViewPlace(i.repoName,i.revision,n)),focus:e}});n.sort(function(t,e){return t.node.collection>e.node.collection?-1:t.node.collection<e.node.collection?1:StringUtils.compareLogical(t.node.name,e.node.name)});var s=this.presenter.setRepoContent(this.buildTitle(i),this.lifetime,e,t,n,this.getUpLevelUrl(i)),o=c.findBestReadme(t.children);if(null!==o){var l=new SvnRepoPathRev(i.repoName,i.repoPath,i.revision).addComponent(o.name);new ReadmeController(this.lifetime,s.readmePresenter,this.svnClient,this.model,this.router,this.settings).start(l,o)}new FindFileViewer(s.findFileElement,this.lifetime,new SvnRepoPathRev(i.repoName,i.repoPath,i.revision),t.nodeInfo,this.router).start()},c.prototype.showError=function(t,e){this.presenter.setRepoContentWithError(t,e)},c.prototype.start=function(e,n){var i=this;this.place=e,this.docXViewer=void 0,this.textViewer=void 0;var r=this.prepareNavbar(e);this.model.getRepoNodeContent(this.lifetime,e.repoName,e.repoPath,e.revision).done(function(t){t.isCollection?(r.showFindFile=!0,i.showDir(t,r,e,n)):i.showFile(t,r,e)}).fail(function(t,e){i.showError(e,r)})},c.prototype.tryNavigate=function(t){if(t instanceof RepoViewPlace&&t.repoName===this.place.repoName&&t.repoPath===this.place.repoPath&&t.revision===this.place.revision){if(this.docXViewer)return null===t.anchor?window.scrollTo(window.pageXOffset,0):this.docXViewer.scrollToAnchor(t.anchor),this.place=t,!0;if(this.textViewer)return null===t.line?(this.textViewer.clearSelection(),window.scrollTo(window.pageXOffset,0)):this.textViewer.selectLine(t.line,!1),this.place=t,!0}return!1},c}(),RepoViewPresenter=function(){function t(t,e){this.curtain=t,this.router=e}return t.prototype.setRepoContentWithError=function(t,e){this.curtain.showTemplate("Error","<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box p-4 text-center' data-collapse-navbar-border>      <h5>{{error}}</h5>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),error:t})},t.prototype.setBinaryFileContent=function(t,e,n,i){this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div id='file-content' class='p-3 text-center'>        <a class='h4 btn-link p-2' href='{{contentURL}}'>View raw contents</a>        <p class='text-gray text-small'>Cannot display the file because it has binary content.</p>      </div>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),downloadURL:n.nodeInfo.downloadURL,contentURL:n.nodeInfo.checkedInURL,upLevelUrl:i})},t.prototype.setTextFileContent=function(t,e,n,i,r,a,s,o,l){var c=this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed print-border-0' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex print-v-hidden'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{blameUrl}}' class='btn btn-sm BtnGroup-item'>Blame</a>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      {{#if showPlainTextWarning}}        <div class='flash flash-full flash-warn text-center py-2'>Displaying the file as plain text because it is larger than 1 MB.</div>      {{/if}}      <div id='file-content' class='text-view'>      </div>    </div>  </div></div>",{navbar:UIElements.renderNavbar(n),downloadURL:r.nodeInfo.downloadURL,upLevelUrl:a,blameUrl:s,showPlainTextWarning:l}).querySelector(".text-view"),u=new TextFileViewer(e,c,i,r,this.router,o);return u.start(),u},t.prototype.setMarkdownContent=function(t,e,n,i,r,a){var s=(new Markdown).render(n.textContent,a);this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed print-border-0' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex print-v-hidden'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{blameUrl}}' class='btn btn-sm BtnGroup-item'>Blame</a>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div id='file-content' class='p-6 markdown-view markdown-body'>{{markdown}}</div>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),downloadURL:n.nodeInfo.downloadURL,upLevelUrl:i,blameUrl:r,markdown:new Handlebars.SafeString(s)})},t.prototype.setImageContent=function(t,e,n,i){this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed print-border-0' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex print-v-hidden'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div id='file-content' class='image-view'>        <img src='{{contentURL}}' />      </div>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),downloadURL:n.nodeInfo.downloadURL,contentURL:n.nodeInfo.checkedInURL,upLevelUrl:i})},t.prototype.setPdfContent=function(t,e,n,i,r,a){var s=this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed print-border-0' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex print-v-hidden'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div id='file-content' class='pdf-view' />    </div>  </div></div>",{navbar:UIElements.renderNavbar(n),downloadURL:i.nodeInfo.downloadURL,upLevelUrl:r}).querySelector(".pdf-view");PdfViewer.create(e,i.nodeInfo.checkedInURL,i.nodeInfo.contentLength,t,s,a).start()},t.prototype.setDocXContent=function(t,e,n,i,r,a){var s=this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content' class='no-print-margin'>    <div class='Box Box--condensed print-border-0' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex print-v-hidden'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div id='file-content' class='docx-view' />    </div>  </div></div>",{navbar:UIElements.renderNavbar(n),downloadURL:i.nodeInfo.downloadURL,upLevelUrl:r}).querySelector(".docx-view"),o=new DocXViewer(e,i.nodeInfo.checkedInURL,s,a);return o.start(),o},t.prototype.setPsdContent=function(t,r,e,n,i){var a=this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed print-border-0' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex print-v-hidden'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div class='notice flash flash-full flash-warn text-center'></div>      <div id='file-content'></div>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),downloadURL:n.nodeInfo.downloadURL,upLevelUrl:i}),s=a.querySelector("#file-content"),o=new ElementCurtain(r,s),l=a.querySelector(".notice"),c=document.createElement("div");function u(t){o.showTemplate("<div class='text-center p-3'>  <a class='h4 btn-link p-2' href='{{contentURL}}'>View raw contents</a>  <p class='text-gray text-small'>Cannot display content: {{error}}</p></div",{contentURL:n.nodeInfo.checkedInURL,error:t})}c.className="progress-container",ProgressElement.embed(c,!1),o.showElement(c),HttpClient.fetchBinary(n.nodeInfo.checkedInURL).then(function(t){try{var e=PsdLoader.parse(t.buffer);if(7===e.gc)u("The file has unsupported color mode (Multichannel).");else if(e.pc){var n=PsdRenderer.renderCanvas(e);s.classList.add("psd-view"),o.showElement(n)}else if(e.bc){var i=BlobURL.createObjectURL(r,e.bc.fc);o.showTemplate("<img src='{{url}}' class='thumbnail'></img>",{url:i}),s.classList.add("psd-view"),l.innerText="Displaying thumbnail because the file was saved without Maximize Compatibility."}else u("The file was saved without Maximize Compatibility.")}catch(t){console.log(t.message),u("The file is either malformed or not supported.")}}).catch(function(t){u(t)})},t.prototype.setRepoContent=function(t,e,n,i,r,a){var s=this.curtain.showTemplate(t,"<div><div id='navbar' data-is-sticky>{{navbar}}</div><div id='repo-content'><div class='Box Box--condensed' data-collapse-navbar-border>  <div class='Box-header px-2 d-flex'>    {{#if upLevelUrl}}    <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>    {{else}}    <button class='btn btn-sm' aria-pressed='disabled' disabled>{{icon-level-up}}</button>    {{/if}}    <div class='flex-auto'></div>    <div class='BtnGroup'>      <details class='dropdown details-reset details-overlay BtnGroup-parent'>        <summary class='btn btn-sm BtnGroup-item'>          Checkout <span class='dropdown-caret' />        </summary>        <div class='text-normal dropdown-menu dropdown-menu-sw px-3 py-4 width-auto'>          <label class='f5'>Repository URL</label>          <div class='input-group mt-2'>            <input type='text' class='form-control input-monospace input-sm width-auto' readonly value='{{checkoutURL}}' size='65' />            <div class='input-group-button'>              <button class='btn btn-sm clipboard-copy' data-clipboard-text='{{checkoutURL}}'>                {{icon-clippy}}              </button>            </div>          </div>        </div>      </details>      <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>    </div>  </div>  <div id='directory-list' class='table width-full'>    <div class='thead'>      <span class='table-cell'></span >      <span class='table-cell'>Name</span >      <span class='table-cell'>Size</span >      <span class='table-cell'>Rev</span >      <span class='table-cell'>Author</span>      <span class='table-cell'>Date</span>    </div>    <div class='tbody' >      {{#each items}}        {{#if node.collection}}          <a class='dir table-row' href='{{url}}' {{#if focus}}data-focus{{/if}}>            <span class='table-cell icon'>{{icon-file-directory}}</i></span>        {{else}}          <a class='file table-row' href='{{url}}' {{#if focus}}data-focus{{/if}}>            <span class='table-cell icon'>{{icon-file}}</span >        {{/if}}            <span class='table-cell name text-blue'>{{node.name}}</span>        {{#if node.collection}}            <span class='table-cell size text-gray-light'></span>        {{else}}            <span class='table-cell size text-gray-light'>{{formatFileSize node.contentLength}}</span>        {{/if}}            <span class='table-cell rev text-gray-light'>r{{node.createdRev}}</span>            <span class='table-cell author text-gray-light'>{{node.author}}</span>            <span class='table-cell date text-gray-light'>{{#if node.date}}<span title='{{formatDate node.date}}'>{{formatDateFromNow node.date}}</span>{{else}}(no date){{/if}}</span>        </a>      {{else}}        <div class='blankslate blankslate-clean-background'>          <div class='text-gray-light'>This folder is empty.</div>        </div>      {{/each}}    </div>  </div></div></div><div id='directory-list-readme'></div></div>",{navbar:UIElements.renderNavbar(n),items:r,upLevelUrl:a,downloadURL:i.nodeInfo.downloadURL,checkoutURL:n.svnRepoUrl}),o=s.querySelector("[data-focus]");o&&(o.focus({preventScroll:!0}),ViewUtils.scrollIntoView(o,{position:1,onlyIfNeeded:!1}));var l=s.querySelector("#directory-list-readme"),c=new ElementCurtain(e,l),u=s.querySelector("#findfile");return{readmePresenter:new ReadmePresenter(c),findFileElement:u}},t.prototype.setLargeFileContent=function(t,e,n,i){this.curtain.showTemplate(t,"<div>  <div id='navbar' data-is-sticky>{{navbar}}</div>  <div id='repo-content'>    <div class='Box Box--condensed' data-collapse-navbar-border>      <div class='Box-header px-2 d-flex'>        {{#if upLevelUrl}}        <a href='{{upLevelUrl}}' class='btn btn-sm'>{{icon-level-up}}</a>        {{/if}}        <div class='flex-auto'></div>        <div class='BtnGroup'>          <a href='{{downloadURL}}' class='btn btn-sm BtnGroup-item' download>Download</a>        </div>      </div>      <div id='file-content' class='p-3 text-center'>        <a class='h4 btn-link p-2' href='{{contentURL}}'>View raw contents</a>        <p class='text-gray text-small'>Text files larger than 5 MB cannot be displayed in browser.</p>      </div>    </div>  </div></div>",{navbar:UIElements.renderNavbar(e),downloadURL:n.nodeInfo.downloadURL,contentURL:n.nodeInfo.checkedInURL,upLevelUrl:i})},t}(),UrlBuilder=function(){function t(){this.url="#",this.implicit="",this.queryArgs={}}return t.prototype.append=function(t,e){void 0===e&&(e=null);var n=null!=e&&t==e;return(t=t.trim()).lastIndexOf("/")==t.length-1&&(t=t.substring(0,t.length-1)),""==t&&(t="/"),"/"!=t[0]&&1!=this.url.length&&(t="/"+t),t=encodeURI(t),n?this.implicit+=t:(this.url+=this.implicit+t,this.implicit=""),this},t.prototype.appendRev=function(t,e){return void 0===e&&(e=null),null==t&&null!=e?this.append(e,e):this.append("r"+t.toString(10),e)},t.prototype.appendEscaped=function(t){return this.url+=this.implicit+t,this.implicit="",this},t.prototype.setQueryArg=function(t,e,n){return void 0===n&&(n=null),null==n?this.queryArgs[t]=e:e!=n&&(this.queryArgs[t]=e),this},t.prototype.build=function(){var t="";for(var e in this.queryArgs)0<t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(this.queryArgs[e]);return 0<t.length?this.url+"?"+t:this.url},t}(),UrlParser=function(){function t(t){var r=this;if(this.queryArgs={},this.isEnd=!1,"#"!=t[0])throw this.isEnd=!0,Error("Url should start with '#'");var e=(t=t.substring(1)).indexOf("?");0<=e&&(t.substring(e+1).split("&").forEach(function(t){var e=t.split("=");if(2==e.length){var n=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]);r.queryArgs[n]=i}}),t=t.substring(0,e));this.parts=t.split("/").map(function(t){return decodeURIComponent(t)}),this.parts.lastIndexOf("")==this.parts.length-1&&this.parts.pop(),0==this.parts.length&&(this.isEnd=!0)}return t.prototype.getNext=function(t){if(this.isEnd)return t;var e=this.parts.shift();return 0==this.parts.length&&(this.isEnd=!0),e},t.prototype.getRestAsUrl=function(t){return this.isEnd?t:"/"+this.parts.join("/")},t.prototype.getQueryArg=function(t,e){var n=this.queryArgs[t];return void 0===n?e:n},t}(),RouteImpl=function(){function v(){}return v.prototype.build=function(t){if(null==t)return null;var e=new UrlBuilder;if(t instanceof DefaultPlace)return e.build();if(t instanceof RepoViewPlace)return e.append(t.repoName),e.append("view","view"),e.appendRev(t.revision,"head"),e.append(t.repoPath,"/"),null!==t.anchor&&e.setQueryArg("a",t.anchor),null!==t.line&&e.setQueryArg("line",t.line.toString(10)),e.build();if(t instanceof HistoryPlace)return e.append(t.repoName),e.append("history"),e.appendRev(t.revision,"head"),e.append(t.repoPath,"/"),e.setQueryArg("limit",t.limit.toString(10),HistoryPlace.DEFAULT_LIMIT.toString(10)),e.build();if(t instanceof CommitDetailsPlace)return e.append(t.repoName),e.append("commit"),e.appendRev(t.revision),e.appendRev(t.pegRevision,"head"),e.append(t.repoPath,"/"),e.build();if(t instanceof BlamePlace)return e.append(t.repoName),e.append("blame"),e.appendRev(t.revision,"head"),e.append(t.repoPath,"/"),null!==t.startLine&&e.setQueryArg("line",v.serializeLineRange(t.startLine,t.endLine)),e.build();if(t instanceof AccountSettingsPlace){if(e.appendEscaped("/account"),0!==t.type)throw new Error("Unknown place");return e.append("password"),e.build()}throw new Error("Unknown place")},v.prototype.parse=function(t){try{var e=new UrlParser(t)}catch(t){return new NotFoundPlace(t)}var n=e.getNext(null);if(null==n)return new DefaultPlace;if(""===n){var i=e.getNext(null);if(null===i)return new DefaultPlace;if("account"===i){var r=e.getNext("password");return"password"===r?new AccountSettingsPlace(0):new NotFoundPlace("Unknown value '"+r+"'")}return new NotFoundPlace("Unknown verb '"+i+"'")}var a=e.getNext("view");if("view"==a){if("head"==(u=e.getNext("head")))h=null;else{if(!u.startsWith("r"))return new NotFoundPlace("Invalid revision '"+u+"'");h=parseInt(u.substring(1),10)}t=e.getRestAsUrl("/");var s=e.getQueryArg("a",null),o=(f=e.getQueryArg("line",null))?parseInt(f,10):null;return new RepoViewPlace(n,h,t,s,o)}if("history"==a){if("head"==(u=e.getNext("head")))h=null;else{if(!u.startsWith("r"))return new NotFoundPlace("Invalid revision '"+u+"'");h=parseInt(u.substring(1),10)}t=e.getRestAsUrl("/");var l=parseInt(e.getQueryArg("limit",HistoryPlace.DEFAULT_LIMIT.toString(10)),10);return new HistoryPlace(n,h,t,l)}if("commit"==a){var c;if(null==(u=e.getNext(null))&&new NotFoundPlace("Missing revision number"),!u.startsWith("r"))return new NotFoundPlace("Invalid revision '"+u+"'");if(h=parseInt(u.substring(1),10),"head"==(u=e.getNext("head")))c=null;else{if(!u.startsWith("r"))return new NotFoundPlace("Invalid revision '"+u+"'");c=parseInt(u.substring(1),10)}t=e.getRestAsUrl("/");return new CommitDetailsPlace(n,h,c,t)}if("blame"==a){var u,h;if("head"==(u=e.getNext("head")))h=null;else{if(!u.startsWith("r"))return new NotFoundPlace("Invalid revision '"+u+"'");h=parseInt(u.substring(1),10)}var f;t=e.getRestAsUrl("/");if(null!==(f=e.getQueryArg("line",null))){var d=v.deserializeLineRange(f);return void 0===d?new NotFoundPlace("Invalid value '"+f+"'"):new BlamePlace(n,h,t,d.start,d.end)}return new BlamePlace(n,h,t)}return new NotFoundPlace("Unknown verb '"+a+"'")},v.serializeLineRange=function(t,e){return t===e?t.toString()+"*":t===(e-=1)?t.toString():t.toString()+"-"+e.toString()},v.deserializeLineRange=function(t){var e,n;if(t.endsWith("*"))n=e=parseInt(t.substring(0,t.length-1),10);else{var i=t.indexOf("-");0<i?(e=parseInt(t.substring(0,i),10),n=parseInt(t.substring(i+1),10)):n=e=parseInt(t,10),n+=1}if(!isNaN(e)&&!isNaN(n))return{start:e,end:n}},v}();(UIElements||(UIElements={})).renderNavbar=function(t){var e=Handlebars.compile("<header class='print-v-hidden d-flex'>  <span class='BtnGroup d-inline-flex flex-auto flex-min-width-0'>    <a class='btn btn-outline BtnGroup-item' href='{{repoListUrl}}'>{{icon-home}}</a>    <nav class='btn BtnGroup-item f5 d-flex flex-auto flex-items-center flex-min-width-0 py-0 px-2' {{#if showFindFile}}data-has-findfile{{/if}}>      <ol class='height-full d-flex flex-justify-end flex-items-center overflow-hidden'>        {{#each bcitems}}          {{#if @first}}            <li class='breadcrumb-item text-bold f4'><a href='{{url}}'>{{name}}</a></li>          {{else}}            <li class='breadcrumb-item {{#if @last}}breadcrumb-item-selected text-bold{{/if}}'>              <a href='{{url}}' {{#if @last}}class='link-gray-dark'{{/if}}>{{name}}</a>            </li>          {{/if}}        {{/each}}      </ol>      {{#if showFindFile}}        <div id='findfile' class='flex-auto'>          <input type='text' class='form-control input-sm width-full f5 px-1' placeholder='Type to find a file or folder' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' data-hotkey-findfile />          <ul class='results position-absolute box-shadow-medium Box Box--condensed rounded-0 border-0' />        </div>      {{else}}        <span class='flex-auto' />      {{/if}}      {{#if revision}}        <details class='dropdown details-reset details-overlay ml-2'>          <summary class='btn btn-sm btn-outline'>            <span class='text-normal'>Revision:</span> {{revision}} <span class='dropdown-caret' />          </summary>          <ul class='dropdown-menu dropdown-menu-sw width-auto'>            <li><a class='dropdown-item px-3' href='{{gotoHeadLink}}'>Go to the <strong>HEAD</strong></a></li>          </ul>        </details>      {{/if}}    </nav>    <button class='btn BtnGroup-item clipboard-copy tooltipped tooltipped-s' data-clipboard-text='{{svnRepoUrl}}' aria-label='Copy repository URL'>      {{icon-clippy}}    </button>  </span>  <span class='BtnGroup d-inline-flex ml-2'>    <a href='{{viewSwitcherSourceLink}}' class='btn BtnGroup-item {{#if sourceViewActive}}btn-outline selected{{/if}} tooltipped tooltipped-sw' aria-label='Browse'>{{icon-list}}</a>    <a href='{{viewSwitcherHistoryLink}}' class='btn BtnGroup-item {{#if historyViewActive}}btn-outline selected{{/if}} tooltipped tooltipped-sw' aria-label='History'>{{icon-history}}</a>  </span></header>");return new Handlebars.SafeString(e({bcitems:t.breadcrumbItems,repoListUrl:t.homeUrl,viewSwitcherSourceLink:t.viewSwitcherSourceUrl,sourceViewActive:t.sourceViewActive,viewSwitcherHistoryLink:t.viewSwitcherHistoryUrl,historyViewActive:t.historyViewActive,svnRepoUrl:t.svnRepoUrl,gotoHeadLink:t.gotoHeadUrl,revision:t.revision,showFindFile:t.showFindFile}))},String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)},String.prototype.startsWith=function(t){return 0==this.indexOf(t)},String.prototype.repeat||(String.prototype.repeat=function(t){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var e=""+this;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0==e.length||0==t)return"";if(e.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";1==(1&t)&&(n+=e),0!=(t>>>=1);)e+=e;return n});var StringUtils=function(){function h(){}return h.compare=function(t,e){return t==e?0:e<t?1:-1},h.compareLogical=function(t,e){var n,i,r,a=t.toLowerCase().match(/\d+|[^\d-]/g)||[],s=e.toLowerCase().match(/\d+|[^\d-]/g)||[];for(var o=0;o<a.length&&o<s.length;o++){var l,c=a[o],u=s[o];if(/\d+/.test(c)&&/\d+/.test(u)?(n=u,void 0,i=/^(0*)(\d+)/.exec(c),r=/^(0*)(\d+)/.exec(n),l=i[2].length!=r[2].length?i[2].length-r[2].length:i[2]>r[2]?1:i[2]<r[2]?-1:r[1].length-i[1].length):l=/\w/.test(c)&&/\w/.test(u)?c.localeCompare(u):h.compare(c,u),0!=l)return l}return a.length==s.length?h.compare(t,e):a.length-s.length},h}(),RepoPath=function(){function a(){}return a.addComponent=function(t,e){var n=t.lastIndexOf("/");return-1===n?"/"+e:n==t.length-1?t+e:t+"/"+e},a.removeLastComponent=function(t){var e=t.lastIndexOf("/");return 0==e?"/":0<e?t.substring(0,e):t},a.split=function(t){return"/"==t?Array():t.split("/").slice(1)},a.resolveRelativePath=function(t,e){t.endsWith("/")||(t=a.removeLastComponent(t));var n=e.split("/");e=e.startsWith("/")?"/":t;for(var i=0;i<n.length;i++){var r=n[i];if(".."==r&&"/"!=e)e=a.removeLastComponent(e);else{if(".."==r&&"/"==e)return null;"."!=r&&""!=r&&(e=a.addComponent(e,r))}}return e},a.isAncestor=function(t,e){return 0===e.indexOf(t)&&("/"===t[t.length-1]||"/"===e[t.length]||t.length===e.length)},a.join=function(t,e){var n=t.lastIndexOf("/");return-1===n?"/"+e:n==t.length-1?t+e:t+"/"+e},a}(),CanonicalUri=function(){function n(){}return n.canonicalize=function(t){var e=new n;return 0==t.length?e.uri="/":1!=t.length&&"/"==t[t.length-1]?e.uri=t.substring(0,t.length-1):e.uri=t,e},n.prototype.toString=function(){return this.uri},n.skipCommonAncestor=function(t,e){return 0!=e.uri.indexOf(t.uri)?null:e.uri.length==t.uri.length?"":"/"==e.uri[t.uri.length]?e.uri.substring(t.uri.length+1):null},n}(),Uri=function(){function t(){}return t.encodeComponents=function(t){return t.split("/").map(encodeURIComponent).join("/")},t.decodeComponents=function(t){return t.split("/").map(decodeURIComponent).join("/")},t.getScheme=function(t){var e=t.match(/^([^:/?#]+):/);return e?e[1].toLowerCase():null},t}();function formatFileSize(t){for(var e=(t=Math.ceil(t/1024)).toString(),n=e.length-3;0<n;n-=3)e=e.substr(0,n)+" "+e.substr(n);return e+" KB"}function formatDate(t){return t.toLocaleString()}function formatDateFromNow(t){return moment(t).fromNow()}function getBaseUrl(t){return t.protocol+"//"+t.host}function assertNever(t){return t}var SvnClient=function(){function f(t){this.root=t}return f.prototype.getRevisionRootUrl=function(t){var e=this.root+t.repo;return null!==t.rev&&(e+="/!svn/rvr/"+t.rev.toString(10)),e+=t.path,e=Uri.encodeComponents(e)},f.isElementNode=function(t){return t.nodeType===t.ELEMENT_NODE},f.fqdnName=function(t){return t.namespaceURI+t.localName},f.prototype.parseStatusElement=function(t){var e=t.textContent.split(" ");if(!(e.length<2)){var n=parseInt(e[1]);if(!isNaN(n))return n}},f.prototype.parsePropStatElement=function(t,i){var n,r=this;$.each(t.childNodes,function(t,e){f.isElementNode(e)&&"DAV:status"==f.fqdnName(e)&&(n=r.parseStatusElement(e))}),200===n&&$.each(t.childNodes,function(t,e){f.isElementNode(e)&&"DAV:prop"==f.fqdnName(e)&&$.each(e.childNodes,function(t,e){if(f.isElementNode(e)){var n=f.fqdnName(e);"DAV:resourcetype"==n?(i.set(n,!1),$.each(e.childNodes,function(t,e){f.isElementNode(e)&&"DAV:collection"==f.fqdnName(e)&&i.set(n,!0)})):"DAV:checked-in"==n?$.each(e.childNodes,function(t,e){f.isElementNode(e)&&"DAV:href"==f.fqdnName(e)&&i.set(n,e.textContent)}):i.set(n,e.textContent)}})})},f.prototype.getRepoList=function(t){var r=jQuery.Deferred();t.addDeferred(r);var e=jQuery.ajax(this.root);return t.addXhr(e),e.done(function(t,e,n){var i=$(t).find("dir").map(function(){return{name:$(this).attr("name")}}).toArray();r.resolve(i)}).fail(function(t,e,n){r.reject(null,n)}),r.promise()},f.prototype.getDir=function(t,l,c,e){var u=this;void 0===e&&(e=null);var n=this.root+l;null!==e&&(n+="/!svn/rvr/"+e.toString(10)),n+=c;var h=CanonicalUri.canonicalize(n);n=Uri.encodeComponents(n);var i=jQuery.Deferred();t.addDeferred(i);var r=jQuery.ajax(n,{type:"PROPFIND",dataType:"xml",data:'<?xml version="1.0" encoding="utf-8"?><propfind xmlns="DAV:" xmlns:S="http://subversion.tigris.org/xmlns/svn/" xmlns:V="http://subversion.tigris.org/xmlns/dav/"><prop><resourcetype xmlns="DAV:" /><getcontentlength xmlns="DAV:" /><version-name xmlns="DAV:" /><creator-displayname xmlns="DAV:" /><creationdate xmlns="DAV:" /><checked-in xmlns="DAV:" /><S:mime-type /><V:revision /></prop></propfind>',headers:{Depth:1}});return t.addXhr(r),r.done(function(t,e,n){var o=new SvnDirInfo;$.each(t.documentElement.childNodes,function(t,e){if(f.isElementNode(e)&&"DAV:response"==f.fqdnName(e)){var r="",a=new Map;$.each(e.childNodes,function(t,e){if(f.isElementNode(e))if("DAV:propstat"==f.fqdnName(e))u.parsePropStatElement(e,a);else if("DAV:href"==f.fqdnName(e)){var n=Uri.decodeComponents(e.textContent),i=CanonicalUri.canonicalize(n);r=CanonicalUri.skipCommonAncestor(h,i).toString()}});var n={repo:l,path:RepoPath.addComponent(c,r),rev:parseInt(a.get("http://subversion.tigris.org/xmlns/dav/revision"),10)},i=u.getDownloadUrl(n,a.get("DAV:resourcetype")),s=new SvnNode(r,i,a);0<r.length?o.children.push(s):o.thisNode=s}}),i.resolve(o)}).fail(function(t,e,n){i.reject(null,n)}),i.promise()},f.prototype.getFileContentURL=function(t){return this.getRevisionRootUrl(t)},f.prototype.getFileContentByURL=function(t,e){var i=jQuery.Deferred();t.addDeferred(i);var n=jQuery.ajax(e,{type:"GET",dataType:"text",headers:{}});return t.addXhr(n),n.done(function(t,e,n){i.resolve(n.responseText)}).fail(function(t,e,n){i.reject(n)}),i.promise()},f.prototype.getFileContent=function(t,e,n,i){void 0===i&&(i=null);var r=this.getRevisionRootUrl(new SvnRepoPathRev(e,n,i));return this.getFileContentByURL(t,r)},f.parsePathChangeElement=function(t,e){var n=t.attributes.getNamedItem("copyfrom-path"),i=t.attributes.getNamedItem("copyfrom-rev"),r="true"==t.attributes.getNamedItem("text-mods").value,a="true"==t.attributes.getNamedItem("prop-mods").value;return null!==n&&null!==i?{kind:e,path:t.textContent,copyfromPath:n.value,copyfromRev:parseInt(i.value,10),textMods:r,propMods:a}:{kind:e,path:t.textContent,textMods:r,propMods:a}},f.parseLogItemResponse=function(t){var n=this,i=null,r=null,a=null,s=null,o=new Array;return $.each(t.childNodes,function(t,e){if(f.isElementNode(e))switch(f.fqdnName(e)){case"DAV:version-name":i=parseInt(e.textContent);break;case"DAV:comment":r=e.textContent;break;case"DAV:creator-displayname":a=e.textContent;break;case"svn:date":s=new Date(e.textContent);break;case"svn:added-path":o.push(n.parsePathChangeElement(e,0));break;case"svn:replaced-path":o.push(n.parsePathChangeElement(e,2));break;case"svn:deleted-path":o.push(n.parsePathChangeElement(e,3));break;case"svn:modified-path":o.push(n.parsePathChangeElement(e,1))}}),o.sort(function(t,e){return StringUtils.compare(t.path,e.path)}),new SvnLogEntry(i,a,s,r,o)},f.prototype.getLog=function(t,e,n){var i=this.getRevisionRootUrl(e),a=jQuery.Deferred();t.addDeferred(a);var r='<S:log-report xmlns:S="svn:">';null!==n.startRevision&&(r+="<S:start-revision>"+n.startRevision+"</S:start-revision>"),null!==n.endRevision&&(r+="<S:end-revision>"+n.endRevision+"</S:end-revision>"),n.limit&&(r+="<S:limit>"+n.limit+"</S:limit>"),!1!==n.discoverChangedPaths&&(r+="<S:discover-changed-paths/>"),r+="<S:encode-binary-props />",r+="<S:path></S:path>",r+="</S:log-report>";var s=jQuery.ajax(i,{type:"REPORT",dataType:"xml",data:r});return t.addXhr(s),s.done(function(t,e,n){var i=new Array,r=t.getElementsByTagNameNS("svn:","log-item");$.each(r,function(t,e){i.push(f.parseLogItemResponse(e))}),a.resolve(i)}),s.fail(function(t,e,n){a.reject(null,n)}),a.promise()},f.prototype.getCommitDetails=function(t,e,n){var i=jQuery.Deferred();return t.addDeferred(i),this.getLog(t,e,{limit:null,startRevision:n,endRevision:n}).done(function(t){new Array;$.each(t,function(t,e){i.resolve(e)}),i.resolve(null)}).fail(function(t,e){i.reject(null,e)}),i.promise()},f.prototype.getLocationSegments=function(t,e,n,i,r,a){var s=this.getRevisionRootUrl(new SvnRepoPathRev(e,n,i)),o=jQuery.Deferred();t.addDeferred(o);var l='<S:get-location-segments xmlns:S="svn:"><S:path></S:path>';null!==i&&(l+="<S:peg-revision>"+i.toString(10)+"</S:peg-revision >"),null!==r&&(l+="<S:start-revision>"+r.toString(10)+"</S:start-revision>"),null!==a&&(l+="<S:end-revision>"+a.toString(10)+"</S:end-revision>"),l+="</S:get-location-segments>";var c=jQuery.ajax(s,{type:"REPORT",dataType:"xml",data:l});return t.addXhr(c),c.done(function(t,e,n){var i=t.getElementsByTagNameNS("svn:","location-segment");o.resolve($.map(i,function(t){var e=t.attributes.getNamedItem("range-start").value,n=t.attributes.getNamedItem("range-end").value,i=t.attributes.getNamedItem("path").value;return{rangeStart:parseInt(e,10),rangeEnd:parseInt(n,10),path:"/"+i}}))}),c.fail(function(t,e,n){o.reject(null,n)}),o.promise()},f.prototype.getPegLocation=function(t,e,n,i,r){var a=jQuery.Deferred();return t.addDeferred(a),this.getLocationSegments(t,e,n,i,r,r).done(function(t){$.each(t,function(t,e){a.resolve(e.path)}),a.reject(null,"Invalid response")}).fail(function(t,e,n){a.reject(null,n)}),a.promise()},f.prototype.getRelativeSvnRepoUrl=function(t,e,n){return this.root+t+e},f.prototype.getDownloadUrl=function(t,e){var n=this.root+t.repo+t.path;return n=CanonicalUri.canonicalize(n).toString(),n=Uri.encodeComponents(n),e&&(n+="/"),n+="?download",null!==t.rev&&(n=n+"&p="+t.rev.toString(10)),n},f}(),SvnNode=function(t,e,n){this.name=t,this.contentLength=parseInt(n.get("DAV:getcontentlength"),10),n.has("DAV:version-name")&&(this.createdRev=parseInt(n.get("DAV:version-name"),10)),this.collection=n.get("DAV:resourcetype"),this.author=n.get("DAV:creator-displayname"),n.has("DAV:creationdate")&&(this.date=new Date(n.get("DAV:creationdate"))),this.checkedInURL=n.get("DAV:checked-in"),this.mimeType=n.get("http://subversion.tigris.org/xmlns/svn/mime-type"),n.has("http://subversion.tigris.org/xmlns/dav/revision")&&(this.revision=parseInt(n.get("http://subversion.tigris.org/xmlns/dav/revision"),10)),this.downloadURL=e},SvnLogEntry=function(t,e,n,i,r){this.revision=t,this.author=e,this.date=n,this.message=i,this.changes=r},SvnDirInfo=function(){this.children=new Array},TopLevelCurtain=function(){function t(t,e){var n=this;this.isActive=!0,this.view=e;var i=setTimeout(function(){n.isActive&&n.view.setLoading()},200);this.closeTimer=function(){return clearTimeout(i)},t.addAction(this.closeTimer),t.addAction(function(){n.isActive=!1})}return t.prototype.showElement=function(t,e){return this.isActive&&(this.closeTimer(),this.view.show(t,e),0<window.pageYOffset&&window.scrollTo(window.pageXOffset,0)),e},t.prototype.showHtml=function(t,e){return this.showElement(t,$(e).get(0))},t.prototype.showTemplate=function(t,e,n){return this.showCompiledTemplate(t,Handlebars.compile(e),n)},t.prototype.showCompiledTemplate=function(t,e,n){return this.showHtml(t,e(n))},t}(),ElementCurtain=function(){function t(t,e){var n=this;this.isActive=!0,this.element=e,t.addAction(function(){n.isActive=!1})}return t.prototype.showElement=function(t){return this.isActive&&(this.element.innerHTML="",this.element.appendChild(t)),t},t.prototype.showHtml=function(t){return this.showElement($(t).get(0))},t.prototype.showTemplate=function(t,e){return this.showCompiledTemplate(Handlebars.compile(t),e)},t.prototype.showCompiledTemplate=function(t,e){return this.showHtml(t(e))},t}(),TopLevelView=function(){function t(t){this.content=document.createElement("div"),t.appendChild(this.content),this.loadingElem=document.getElementById("loading"),this.isLoading=!1}return t.prototype.setLoading=function(){this.loadingElem.style.animation="none",this.loadingElem.offsetWidth,this.loadingElem.style.animation="loading 12s 1 ease forwards",this.isLoading=!0},t.prototype.setLoaded=function(){this.isLoading&&(this.loadingElem.style.animation="loading-end 1s 1 ease forwards",this.isLoading=!1)},t.prototype.show=function(t,e){this.setLoaded(),this.content.innerHTML="",this.content.appendChild(e),document.title=t?t+"  VisualSVN Server":"VisualSVN Server"},t}();